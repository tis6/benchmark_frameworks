Id,PostTypeId,AcceptedAnswerId,ParentId,CreationDate,DeletionDate,Score,ViewCount,Body,OwnerUserId,OwnerDisplayName,LastEditorUserId,LastEditorDisplayName,LastEditDate,LastActivityDate,Title,Tags,AnswerCount,CommentCount,FavoriteCount,ClosedDate,CommunityOwnedDate,PostId,TagId,Id,TagName,Count,ExcerptPostId,WikiPostId
"21830","1","26398","","2008-08-22 05:22:39","","38","15795","<p>From what information I could find, they both solve the same problems - more esoteric operations like array containment and intersection (&amp;&amp;, @>, &lt;@, etc). However I would be interested in advice about when to use one or the other (or neither possibly).<br>
The <a href=""http://www.postgresql.org/docs/current/static/textsearch-indexes.html"" rel=""noreferrer"">PostgreSQL documentation</a> has some information about this:</p>

<ul>
<li>GIN index lookups are about three times faster than GiST</li>
<li>GIN indexes take about three times longer to build than GiST</li>
<li>GIN indexes are about ten times slower to update than GiST</li>
<li>GIN indexes are two-to-three times larger than GiST</li>
</ul>

<p>However I would be particularly interested to know if there is a performance impact when the memory to index size ration starts getting small (ie. the index size becomes much bigger than the available memory)? I've been told on the #postgresql IRC channel that GIN needs to keep all the index in memory, otherwise it won't be effective, because, unlike B-Tree, it doesn't know which part to read in from disk for a particular query? The question would be: is this true (because I've also been told the opposite of this)? Does GiST have the same restrictions? Are there other restrictions I should be aware of while using one of these indexing algorithms?</p>
","1265","Cd-MaN","168868","jsight","2014-03-29 03:31:52","2017-06-07 04:49:44","PostgreSQL: GIN or GiST indexes?","<postgresql><indexing><gin><gist-index>","1","1","10","","","21830","2253","2253","gin","315","5802757","5802756"
"1333635","1","1334005","","2009-08-26 10:06:26","","2","1822","<p>i know gin is client side of guice . so in order to use gin. it must be used together with guice?  i wonder, can it be used with spring?</p>
","108869","","157672","","2009-09-24 10:40:46","2009-09-30 00:51:31","google gin? use with spring?","<spring><gwt><guice><gin>","3","0","","","","1333635","2253","2253","gin","315","5802757","5802756"
"1420652","1","","","2009-09-14 10:01:50","","1","827","<p>I'm currently evaluating many FullText indexing solutions, and I'm playing with native postgres FT.</p>

<p>I'm trying to index my data using GIN indices. But there's a limitation in the field size, I encounter some errors saying ""huge tuple"" while inserting data</p>

<p>As far as I understand, it's directly related to the field size.
But this limitation is not written in any documentation I found, so does someone know this limitation, and if ther'es some way to change it ?</p>

<p>thanks</p>

<p>PS : I found this definition in postgresql source code :
<code>
    ((BLCKSZ - SizeOfPageHeaderData - \ MAXALIGN(sizeof(GinPageOpaqueData))) / 3 - sizeof(ItemIdData))
</code>
and will try to use it if nobody has some quick answers.</p>
","","user155118","","","","2009-09-14 13:59:33","PostgreSQL : Gin max fields size","<postgresql><full-text-indexing><gin>","1","0","","","","1420652","2253","2253","gin","315","5802757","5802756"
"1558855","1","1560693","","2009-10-13 08:17:38","","2","1163","<p>In google Guice, I can create an injector based on multiple module with the function <code>createInjector</code>.</p>

<p>Because I use <code>GWT.create</code> to instanciate the injector in GoogleGin, is it possible to create a Ginjector based on multiple <code>AbstractGinModule</code>.</p>

<p>If we can't, how do you organize your code to avoid having all your binding in the same Module ?</p>
","188900","","188900","","2009-10-13 09:34:18","2009-10-16 10:57:21","Instanciate an injector with multiple AbstractGinModule","<gwt><guice><gin>","1","0","1","","","1558855","2253","2253","gin","315","5802757","5802756"
"1682835","1","2011693","","2009-11-05 19:03:56","","2","1894","<p>I've been building a GWT 1.7 + GAE application using the eclipse plugin.
The system constants are loaded into a MyConstants.properties file that is loaded by the singleton MyConstants class extending the ...gwt.i18n.client.Constants class.</p>

<p>I would like for MyConstants to load one of several files containing settings like</p>

<ul>
<li>MyConstants-local.properties</li>
<li>MyConstants-alpha.properties</li>
<li>MyConstants-beta.properties </li>
<li>MyConstants-prod.properties </li>
</ul>

<p>I've found several references to Guice's Enum Stage but this does not seem to be supported by gin. Besides, it only handles dev/prod and I definitely need a local/beta/prod solution.</p>

<p>Is there a way to do this using a command line arg or some other instance defined runtime parameter that will work when loaded onto GAE?</p>
","177567","","110707","","2009-11-18 15:35:34","2011-11-17 14:45:45","How to vary Constants based on deployment instance","<java><google-app-engine><gwt><guice><gin>","4","2","2","","","1682835","2253","2253","gin","315","5802757","5802756"
"2184467","1","2186783","","2010-02-02 13:54:16","","8","5845","<p>I'm trying to link all this technologies, but there are many isolated examples and I do not have enough experience to link them together</p>

<p>so my questions:
Whether there is a similar example?
Is it possible to use UIBinder with Gin?
Any recommendations to implement it?</p>
","170649","","164602","","2010-04-24 16:39:10","2010-05-19 13:42:37","GWT+UIBinder+Gin+Guice+JDO+GAE example","<google-app-engine><gwt><jdo><uibinder><gin>","4","0","7","","","2184467","2253","2253","gin","315","5802757","5802756"
"2431904","1","2432286","","2010-03-12 10:13:51","","0","480","<p>I've been trying to use <a href=""http://code.google.com/docreader/#p=google-guice&amp;s=google-guice&amp;t=Grapher"" rel=""nofollow noreferrer"">Grapher</a> on my GIN project. But trying to create an Injector to give the InjectorGrapher has not been working.</p>

<p>Right in the first line of my code:</p>

<pre><code>    Injector injector = Guice.createInjector( new GinModuleAdapter( new MyGinModule() ) );
</code></pre>

<p>it crashes with</p>

<pre><code> Exception in thread ""main"" java.lang.AssertionError: should never be actually called
at com.google.gwt.inject.rebind.adapter.GwtDotCreateProvider.get(GwtDotCreateProvider.java:43)
at com.google.inject.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:48)
at com.google.inject.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:45)
at com.google.inject.InjectorImpl.callInContext(InjectorImpl.java:811)
at com.google.inject.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:42)
at com.google.inject.Scopes$1$1.get(Scopes.java:54)
at com.google.inject.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:48)
at com.google.inject.SingleParameterInjector.inject(SingleParameterInjector.java:42)
at com.google.inject.SingleParameterInjector.getAll(SingleParameterInjector.java:66)
at com.google.inject.ConstructorInjector.construct(ConstructorInjector.java:84)
at com.google.inject.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:111)
at com.google.inject.BoundProviderFactory.get(BoundProviderFactory.java:56)
at com.google.inject.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:45)
at com.google.inject.InjectorImpl.callInContext(InjectorImpl.java:811)
at com.google.inject.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:42)
at com.google.inject.Scopes$1$1.get(Scopes.java:54)
at com.google.inject.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:48)
at com.google.inject.InjectorBuilder$1.call(InjectorBuilder.java:200)
at com.google.inject.InjectorBuilder$1.call(InjectorBuilder.java:194)
at com.google.inject.InjectorImpl.callInContext(InjectorImpl.java:804)
at com.google.inject.InjectorBuilder.loadEagerSingletons(InjectorBuilder.java:194)
at com.google.inject.InjectorBuilder.injectDynamically(InjectorBuilder.java:176)
at com.google.inject.InjectorBuilder.build(InjectorBuilder.java:113)
at com.google.inject.Guice.createInjector(Guice.java:92)
at com.google.inject.Guice.createInjector(Guice.java:69)
at com.google.inject.Guice.createInjector(Guice.java:59)
at com.me.myself.Grapher.main(Grapher.java:20)
</code></pre>

<p>What gives?</p>
","6583","","6583","","2010-03-12 10:19:36","2010-03-12 11:16:31","Using Grapher on GIN application with GinModuleAdapter","<java><guice><gin>","1","1","","","","2431904","2253","2253","gin","315","5802757","5802756"
"2660022","1","","","2010-04-17 20:52:30","","2","3771","<p>I'm trying to use GIN (Guice for GWT) within eclipse. The tutorial says to add a line to my module xml file: </p>

<pre><code>   &lt;inherits name=""com.google.gwt.inject.Inject""/&gt;
</code></pre>

<p>However, when I do this Eclipse reports an error ""com.google.gwt.inject.Inject cannot be resolved to a type""</p>

<p>I've added gin.jar, aopalliance.jar and guice.jar as referenced libraries. What else do I need to do?</p>
","176886","","","","","2012-07-22 11:43:09","Gin / Gwt / Eclipse: com.google.gwt.inject.Inject cannot be resolved to a type","<eclipse><gwt><dependency-injection><guice><gin>","3","5","","","","2660022","2253","2253","gin","315","5802757","5802756"
"2769526","1","2770220","","2010-05-04 23:00:23","","3","1265","<p>I'd like to use gwt-dispatch Command Patter implementation in my app. I'm using also mvp4g. How can I make <code>DefaultDispatchAsync</code> available to inject <em>into</em> my presenters using GIN or make it globally available, so I can access it <em>from</em> my presenters? </p>
","327079","","","","","2010-05-05 02:30:52","Using GIN and mvp4g","<gwt><gin><gwt-dispatch><gwt-mvp>","1","0","","","","2769526","2253","2253","gin","315","5802757","5802756"
"2776726","1","","","2010-05-05 20:58:32","","0","1417","<p>I have some questions regarding gwt-dispatch and guice. I'm using Guice 2.0, gwt-dispatch 1.1.0 snapshot, mvp4g 1.1.0 and GIN 1.0</p>

<p>First of all, I have defined simple action, result and handler:</p>

<p>ListContactsAction.java</p>

<pre><code>public class ListContactsAction implements Action&lt;ListContactsResult&gt;{

    public ListContactsAction() {
    }

}
</code></pre>

<p>ListContactsResult.java</p>

<pre><code>public class ListContactsResult implements Result {

    private List&lt;Contact&gt; contactList;

    public ListContactsResult() {
    }

    public ListContactsResult(List&lt;Contact&gt; contactList) {
        this.contactList = contactList;
    }

    public List&lt;Contact&gt; getContactList() {
        return contactList;
    }
}
</code></pre>

<p>ListContactsHandler.java</p>

<pre><code>public class ListContactsHandler implements ActionHandler&lt;ListContactsAction, ListContactsResult&gt;{

    @Inject
    private SqlSessionFactory factory;

    public Class&lt;ListContactsAction&gt; getActionType() {
        return ListContactsAction.class;
    }

    public ListContactsResult execute(ListContactsAction a, ExecutionContext ec) throws DispatchException {
        // some code using SqlSessionFactory and returning ListContactResult
        // with list of contacts
    }

    public void rollback(ListContactsAction a, ListContactsResult r, ExecutionContext ec) throws DispatchException {
        /* get action - no rollback needed */
    }

}
</code></pre>

<p>In previous version of my app, which was using rpc service instead of command pattern, I had a method which was providing <code>SqlSessionFactory</code> for injections, something like this:</p>

<pre><code>@Provides
    public SqlSessionFactory getSqlSessionFactory(){
        // some code here
    }
</code></pre>

<p>I read on gwt-dispatch getting started that I have to provide binding between my action and it's handler, which should look something like that:</p>

<pre><code>public class ContactModule extends ActionHandlerModule{
    @Override
    protected void configureHandlers() {
        bindHandler(ListContactsAction.class, ListContactsHandler.class);
    }
}
</code></pre>

<p>But I have problem wiring it all with Guice, because this example from gwt-dispatch site:</p>

<pre><code>public class DispatchServletModule extends ServletModule {
    @Override
    public void configureServlets() {
        serve( ""/path/to/dispatch"" ).with( DispatchServiceServlet.class );
    }
}
</code></pre>

<p>doesn't work, since there is no <code>DispatchServiceServlet</code> in the package.</p>

<p>My questions are:</p>

<ul>
<li>How should I write DispatchServletModule and how to make it going (with what I should serve path)</li>
<li>what should I put in the web.xml file of my app to be able to correctly execute actions from my presenter, which has GIN injected <code>DispatcherAsync</code> implementation</li>
<li>Where should I put my <code>SqlSessionFactory</code> providing method (in which module) to be able to inject SqlSessionFactory where I need it</li>
<li>How I instantiate the injector so then I can use it in other action handlers properly</li>
</ul>

<p>I think that is all and I made myself clear. If something isn't clear enough, I'll try to be more specific.</p>
","327079","","19756","","2010-05-19 09:04:55","2011-01-19 18:21:30","Connecting gwt-dispatch with guice and mvp4g","<gwt><inversion-of-control><gin><gwt-dispatch><gwt-mvp>","3","1","","","","2776726","2253","2253","gin","315","5802757","5802756"
"3141969","1","3143044","","2010-06-29 15:02:16","","3","303","<p>I have a hazy understanding of GIN, but have it working for injecting presenters, etc.</p>

<p>I'm trying to inject a self-made ""User"" class into all my presenters in order to get the currently logged-in user.</p>

<p>I've added @Inject to the constructor on my User class, and added User to my GIN module ... but apart from that, I'm totally lost.  Do I bind it to my app presenter (tried that, but I get an error since User doesn't extend my AppPresenter)? As a singleton?  Is this even the right way to get pass this data around?</p>

<p>I hate to post this here (not looking for free homework), but I can't find a decent tutorial/example on this anywhere else.</p>

<p>Much thanks in advance.</p>
","24708","","","user1228","2011-01-10 16:12:42","2011-01-10 16:12:42","Adding user class to all presenters","<gwt><dependency-injection><gin>","1","1","","","","3141969","2253","2253","gin","315","5802757","5802756"
"3192242","1","","","2010-07-07 05:55:35","","3","1073","<p>To use gwt-dispatch we create an object like:</p>

<pre><code>private static final DispatchAsync dispatchAsync = GWT.create(DefaultDispatchAsync.class);
</code></pre>

<p>Is there any way to do this with injection, I mean how to inject this <code>DispatchAsync</code> object into other classes where we need to use it.</p>

<p>This is something related to <code>@Inject</code> annotation!</p>
","377908","","181497","","2010-07-07 09:54:45","2010-07-07 10:14:53","Gwt-dispatch injection","<gwt><dependency-injection><gin><gwt-dispatch>","1","0","1","","","3192242","2253","2253","gin","315","5802757","5802756"
"4070740","1","","","2010-11-01 16:13:35","","3","4310","<p>Trying to inject the eventbus into a component but I'm getting the 
""has no default (zero args) constructor."" error. Any clues what I'm 
doing wrong? Very new to GIN, so it might be trivial.. </p>

<p>Here is my code: </p>

<p>module: </p>

<pre><code>public class MyWidgetClientModule extends AbstractGinModule { 
    protected void configure() { 
        bind(EventBus.class).to(SimpleEventBus.class).in(Singleton.class); 
    } 
} 
</code></pre>

<p>injector: </p>

<pre><code>@GinModules(MyWidgetClientModule.class) 
public interface MyWidgetGinjector extends Ginjector { 

} 
</code></pre>

<p>and the component I trying to inject: </p>

<pre><code>public class I18NLabel extends Label implements ChangeLanguageEventHandler{ 

  private final SimpleEventBus eventBus; 
    private String key; 

    @Inject 
    public I18NLabel(SimpleEventBus eventBus) { 
        this.eventBus = eventBus; 
    } 
... 
</code></pre>

<p>It gives me this error log:</p>

<pre><code>00:00:45.767  [DEBUG] Rebinding com.test.fdc.gui.gwt.client.customer.CustomerDetailView.Binder
00:00:45.767  [DEBUG] Invoking generator com.google.gwt.uibinder.rebind.UiBinderGenerator
00:00:45.767  [ERROR] com.test.fdc.gui.gwt.client.content.i18n.I18NLabel has no default (zero args) constructor. To fix this, you can define a @UiFactory method on the UiBinder's owner, or annotate a constructor of I18NLabel with @UiConstructor.
00:00:45.767  [ERROR] Deferred binding failed for 'com.test.fdc.gui.gwt.client.customer.CustomerDetailView.Binder'; expect subsequent failures

00:00:45.767  [ERROR] Uncaught exception escaped
</code></pre>

<pre>java.lang.ExceptionInInitializerError: null
    at com.test.fdc.gui.gwt.client.FDC$4.onSuccess(FDC.java:394)
    at com.test.fdc.gui.gwt.client.FDC$4.onSuccess(FDC.java:1)
    at com.google.gwt.user.client.rpc.impl.RequestCallbackAdapter.onResponseReceived(RequestCallbackAdapter.java:215)
    at com.google.gwt.http.client.Request.fireOnResponseReceived(Request.java:287)
    at com.google.gwt.http.client.RequestBuilder$1.onReadyStateChange(RequestBuilder.java:395)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.google.gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:103)
    at com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71)
    at com.google.gwt.dev.shell.OophmSessionHandler.invoke(OophmSessionHandler.java:157)
    at com.google.gwt.dev.shell.BrowserChannelServer.reactToMessagesWhileWaitingForReturn(BrowserChannelServer.java:326)
    at com.google.gwt.dev.shell.BrowserChannelServer.invokeJavascript(BrowserChannelServer.java:207)
    at com.google.gwt.dev.shell.ModuleSpaceOOPHM.doInvoke(ModuleSpaceOOPHM.java:126)
    at com.google.gwt.dev.shell.ModuleSpace.invokeNative(ModuleSpace.java:562)
    at com.google.gwt.dev.shell.ModuleSpace.invokeNativeObject(ModuleSpace.java:269)
    at com.google.gwt.dev.shell.JavaScriptHost.invokeNativeObject(JavaScriptHost.java:91)
    at com.google.gwt.core.client.impl.Impl.apply(Impl.java)
    at com.google.gwt.core.client.impl.Impl.entry0(Impl.java:214)
    at sun.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.google.gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:103)
    at com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71)
    at com.google.gwt.dev.shell.OophmSessionHandler.invoke(OophmSessionHandler.java:157)
    at com.google.gwt.dev.shell.BrowserChannelServer.reactToMessages(BrowserChannelServer.java:281)
    at com.google.gwt.dev.shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:531)
    at com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer.java:352)
    at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.RuntimeException: Deferred binding failed for 'com.test.fdc.gui.gwt.client.customer.CustomerDetailView$Binder' (did you forget to inherit a required module?)
    at com.google.gwt.dev.shell.GWTBridgeImpl.create(GWTBridgeImpl.java:53)
    at com.google.gwt.core.client.GWT.create(GWT.java:97)
    at com.test.fdc.gui.gwt.client.customer.CustomerDetailView.(CustomerDetailView.java:34)
    at com.test.fdc.gui.gwt.client.FDC$4.onSuccess(FDC.java:394)
    at com.test.fdc.gui.gwt.client.FDC$4.onSuccess(FDC.java:1)
    at com.google.gwt.user.client.rpc.impl.RequestCallbackAdapter.onResponseReceived(RequestCallbackAdapter.java:215)
    at com.google.gwt.http.client.Request.fireOnResponseReceived(Request.java:287)
    at com.google.gwt.http.client.RequestBuilder$1.onReadyStateChange(RequestBuilder.java:395)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.google.gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:103)
    at com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71)
    at com.google.gwt.dev.shell.OophmSessionHandler.invoke(OophmSessionHandler.java:157)
    at com.google.gwt.dev.shell.BrowserChannelServer.reactToMessagesWhileWaitingForReturn(BrowserChannelServer.java:326)
    at com.google.gwt.dev.shell.BrowserChannelServer.invokeJavascript(BrowserChannelServer.java:207)
    at com.google.gwt.dev.shell.ModuleSpaceOOPHM.doInvoke(ModuleSpaceOOPHM.java:126)
    at com.google.gwt.dev.shell.ModuleSpace.invokeNative(ModuleSpace.java:562)
    at com.google.gwt.dev.shell.ModuleSpace.invokeNativeObject(ModuleSpace.java:269)
    at com.google.gwt.dev.shell.JavaScriptHost.invokeNativeObject(JavaScriptHost.java:91)
    at com.google.gwt.core.client.impl.Impl.apply(Impl.java)
    at com.google.gwt.core.client.impl.Impl.entry0(Impl.java:214)
    at sun.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.google.gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:103)
    at com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71)
    at com.google.gwt.dev.shell.OophmSessionHandler.invoke(OophmSessionHandler.java:157)
    at com.google.gwt.dev.shell.BrowserChannelServer.reactToMessages(BrowserChannelServer.java:281)
    at com.google.gwt.dev.shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:531)
    at com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer.java:352)
    at java.lang.Thread.run(Thread.java:619)
Caused by: com.google.gwt.core.ext.UnableToCompleteException: (see previous log entries)
    at com.google.gwt.dev.shell.ModuleSpace.rebind(ModuleSpace.java:596)
    at com.google.gwt.dev.shell.ModuleSpace.rebindAndCreate(ModuleSpace.java:456)
    at com.google.gwt.dev.shell.GWTBridgeImpl.create(GWTBridgeImpl.java:49)
    at com.google.gwt.core.client.GWT.create(GWT.java:97)
    at com.test.fdc.gui.gwt.client.customer.CustomerDetailView.(CustomerDetailView.java:34)
    at com.test.fdc.gui.gwt.client.FDC$4.onSuccess(FDC.java:394)
    at com.test.fdc.gui.gwt.client.FDC$4.onSuccess(FDC.java:1)
    at com.google.gwt.user.client.rpc.impl.RequestCallbackAdapter.onResponseReceived(RequestCallbackAdapter.java:215)
    at com.google.gwt.http.client.Request.fireOnResponseReceived(Request.java:287)
    at com.google.gwt.http.client.RequestBuilder$1.onReadyStateChange(RequestBuilder.java:395)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.google.gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:103)
    at com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71)
    at com.google.gwt.dev.shell.OophmSessionHandler.invoke(OophmSessionHandler.java:157)
    at com.google.gwt.dev.shell.BrowserChannelServer.reactToMessagesWhileWaitingForReturn(BrowserChannelServer.java:326)
    at com.google.gwt.dev.shell.BrowserChannelServer.invokeJavascript(BrowserChannelServer.java:207)
    at com.google.gwt.dev.shell.ModuleSpaceOOPHM.doInvoke(ModuleSpaceOOPHM.java:126)
    at com.google.gwt.dev.shell.ModuleSpace.invokeNative(ModuleSpace.java:562)
    at com.google.gwt.dev.shell.ModuleSpace.invokeNativeObject(ModuleSpace.java:269)
    at com.google.gwt.dev.shell.JavaScriptHost.invokeNativeObject(JavaScriptHost.java:91)
    at com.google.gwt.core.client.impl.Impl.apply(Impl.java)
    at com.google.gwt.core.client.impl.Impl.entry0(Impl.java:214)
    at sun.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.google.gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:103)
    at com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71)
    at com.google.gwt.dev.shell.OophmSessionHandler.invoke(OophmSessionHandler.java:157)
    at com.google.gwt.dev.shell.BrowserChannelServer.reactToMessages(BrowserChannelServer.java:281)
    at com.google.gwt.dev.shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:531)
    at com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer.java:352)
    at java.lang.Thread.run(Thread.java:619)</pre>
","249968","","3885376","","2016-01-13 09:29:28","2016-01-13 09:29:28","Injecting EventBus GWT","<gwt><gin>","3","0","0","","","4070740","2253","2253","gin","315","5802757","5802756"
"4166440","1","4166738","","2010-11-12 15:56:18","","2","1413","<p>The <a href=""http://code.google.com/p/google-gin/wiki/GinTutorial#whb"" rel=""nofollow"">gin tutorial</a> seems to imply that to inject remote services all you need to do is annotate with <code>@Inject</code>. </p>

<p>Do you you still need to define this in a module somewhere or is the point that you can just annotate with <code>@Inject</code> and it will work?</p>
","52381","","112671","","2010-11-12 16:22:30","2010-11-12 16:23:23","GWT GIN HOW TO: injection of remote services","<gwt><dependency-injection><gin>","1","0","","","","4166440","2253","2253","gin","315","5802757","5802756"
"4166891","1","4167574","","2010-11-12 16:36:35","","2","1854","<p>We're using the MVP pattern and GWT and I'm wondering how and when dependency injection should be used. </p>

<p>We have an App Controller, Presenters, Views and Model code. From reading the GIN tutorial at <a href=""http://code.google.com/p/google-gin/wiki/GinTutorial#whb"" rel=""nofollow"">http://code.google.com/p/google-gin/wiki/GinTutorial#whb</a> it would seem that you should use it at the highest level possible (so in the App Controller). </p>

<p>Should I use it to create my presenters, so I can do injector.getPresenter(); </p>
","52381","","","","","2010-11-12 17:51:22","GWT MVP when & how to use Dependency Injection","<gwt><dependency-injection><gin>","1","0","","","","4166891","2253","2253","gin","315","5802757","5802756"
"4260121","1","","","2010-11-23 19:43:18","","2","830","<p>I can successfully compile the source, but when I hit this ant task:</p>

<pre><code>  &lt;target name=""gwtc"" depends=""javac"" description=""GWT compile to JavaScript""&gt;
    &lt;java failonerror=""true"" fork=""true"" classname=""com.google.gwt.dev.Compiler""&gt;
      &lt;classpath&gt;
        &lt;pathelement location=""src""/&gt;
        &lt;path refid=""project.class.path""/&gt;
      &lt;/classpath&gt;
      &lt;jvmarg value=""-Xmx256M""/&gt;
      &lt;arg line=""${gwt.args}""/&gt;
      &lt;arg value=""com.jwavro.jaguar.jaguar""/&gt;
    &lt;/java&gt;
  &lt;/target&gt;
</code></pre>

<p>I'm getting these errors:</p>

<pre>gwtc:
   [java] Compiling module com.jwavro.jaguar.jaguar
   [java]    Scanning for additional dependencies: generated://9161C2B729E3521B2A51CBE6F2AE8A77/com/unnison/framework/client/GeneratedGinInjector.java
   [java]       Computing all possible rebind results for 'com.unnison.framework.client.GeneratedGinInjector'
   [java]          Rebinding com.unnison.framework.client.GeneratedGinInjector
   [java]             Invoking generator com.google.gwt.inject.rebind.GinjectorGenerator
   [java]                [ERROR] Generator 'com.google.gwt.inject.rebind.GinjectorGenerator' threw an exception while rebinding 'com.unnison.framework.client.GeneratedGinInjector'
   [java] com.google.inject.CreationException: Guice creation errors:
   [java]
   [java] 1) No implementation for javax.inject.Provider was bound.
   [java]   while locating javax.inject.Provider
   [java]     for parameter 9 at com.google.gwt.inject.rebind.BindingsProcessor.(BindingsProcessor.java:209)
   [java]   at com.google.gwt.inject.rebind.GinjectorGeneratorModule.configure(GinjectorGeneratorModule.java:59)</pre>

<p>GUICE binding is supposed to be automatic, any idea how to fix it ?</p>
","517961","","13792","","2010-11-23 20:29:04","2012-02-20 11:09:25","Compiling GWT project using GUICE with ANT","<gwt><ant><guice><gin>","3","0","1","","","4260121","2253","2253","gin","315","5802757","5802756"
"4629777","1","4629884","","2011-01-07 20:06:36","","2","921","<p>I'm just not getting this:</p>

<p>I use Gin in my java GWT app to do DI. The login screen is integrated into the full application window. After the user has logged in I want to inject the user object into other classes like GUI Presenters which I create, so I have some sort of runtime dependency I believe. How do i do that?</p>

<p>One solution I can think of is sth like:</p>

<pre><code>class Presenter {
  @Inject
  Presenter(LoggedInUserFactory userFactory) {
     User user = userFactory.getLoggedInUser();
  }
}

class LoggedInUserFactoryImpl {
  public static User user;
  User getLoggedInUser() {
    return user;
  }
}
</code></pre>

<p>So, when the user is successfully logged in and I have the object i set the static property in <code>LoggedInUserFactory</code>, but this will only work if the <code>Presenter</code> is created after the user has logged in which is not the case.</p>

<p>Or should I use a global static registry? I just don't like the idea of having static dependencies in my classes.</p>

<p>Any input is greatly appreciated.</p>
","142671","","","user1228","2011-01-10 16:12:31","2011-01-12 00:47:01","How to inject a ""runtime"" dependency like a logged in user which is not available at application boot time?","<java><gwt><dependency-injection><guice><gin>","2","0","1","","","4629777","2253","2253","gin","315","5802757","5802756"
"4639835","1","4641290","","2011-01-09 14:56:52","","1","1278","<p>I'm trying to access some objects inside a ui:binder component, but not sure of how to access the eventBus, requestFactory, etc without writing nasty code that will keep me awake at night (also take note that I'm completely new to JAVA, background is in Perl/Python/PHP).</p>

<p>My ui.xml file:</p>

<pre><code>&lt;ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
    xmlns:g='urn:import:com.google.gwt.user.client.ui'
    xmlns:ig='urn:import:com.ig.client.scaffold.ui.widget'&gt;
    &lt;ui:style&gt;
        ...
    &lt;/ui:style&gt;
    &lt;g:HorizontalPanel&gt;
        ...
    &lt;/g:HorizontalPanel&gt;
&lt;/ui:UiBinder&gt;
</code></pre>

<p>Injecting the eventBus this way fails with 
com.ig.client.scaffold.ui.widget.R has no default (zero args) constructor.</p>

<pre><code>public class R extends Composite {

    interface MyUiBinder extends UiBinder&lt;Widget, R&gt; {}
    private static MyUiBinder uiBinder = GWT.create(MyUiBinder.class);

    private final EventBus eventBus;

    @UiField SimplePanel fieldA, ...;

    @Inject
    public R(EventBus eventBus){
        this.eventBus = eventBus;
        initWidget(uiBinder.createAndBindUi(this));
    }
}
</code></pre>

<p>So, as per the error message, I create a UIFactory and then I get an error
 ... '{style.entityComponent}'> missing required attribute(s): eventBus Element ... (seems like it is trying to find the eventBus in the ui:binder stylesheet.</p>

<pre><code>public class R extends Composite {

    interface MyUiBinder extends UiBinder&lt;Widget, R&gt; {}
    private static MyUiBinder uiBinder = GWT.create(MyUiBinder.class);

    private final EventBus eventBus;

    @UiField SimplePanel fieldA, ...;

    public @UiConstructor R(EventBus eventBus){
        this.eventBus = eventBus;
        initWidget(uiBinder.createAndBindUi(this));
    }

    @Inject
    @UiFactory R makeR(){
        return new R(eventBus);
    }
}
</code></pre>

<p>From reading and reading and more reading for the past couple of days, I haven't seen anyone accessing the eventBus, requestFactory and historyController directly in the view binding to the ui:binder widget which led to the conclusion that it's probably not a best practice 
anyway.</p>

<p>Let's say I have an oject, let's call it Proxy, proxy contains handleButtonClick which then calls eventBus.doSomething(). How do I link this Proxy object to the ui:binder widget without having to instantiate it or without having to pass it around to every widget?</p>

<p>Is it possible to do GIN injection on an interface and then implement that interface via class R which will then somehow contain the objects I'm looking for?</p>

<p>Any solution that work is welcome, just looking for a sample (that a Java n00b can understand) that will basically allow me to connect my front-end with the rest of the services created by ROO.</p>

<p>Thanks
J</p>
","527533","","21234","","2011-01-09 18:17:57","2011-01-09 19:38:16","Spring ROO GWT with GIN injection on widgets created by ui:binder","<gwt><spring-roo><uibinder><gin>","1","0","","","","4639835","2253","2253","gin","315","5802757","5802756"
"4676686","1","4685911","","2011-01-13 04:10:28","","0","1337","<p>I'm trying to bind a GWT view with its presentation layer, but it doesn't seem to be doing anything.</p>

<p>It's a Spring Roo GWT generated project and I'm trying to use the scaffold given as far as possible.
The view is a simple button (R.ui.xml) and the rest of the view is defined in R.java:</p>

<pre><code>public class R extends Composite implements RPresenter.Display {

    interface MyUiBinder extends UiBinder&lt;Widget, R&gt; {}
    private static MyUiBinder uiBinder = GWT.create(MyUiBinder.class);

    @UiField Button myButton;

    private ClickHandler buttonClickHandler = null;

    public R(){
        initWidget(uiBinder.createAndBindUi(this));
    }

    @UiHandler(""myButton"")
    void onButtonClick(ClickEvent event){
        GWT.log('Button clicked');
        if (buttonClickHandler != null){    
            GWT.log(""buttonClickHandler event triggered"");
            buttonClickHandler.onClick(event);
        }
    }

    @Override
    public void setButtonClickHandler(ClickHandler buttonClickHandler) {

        GWT.log(""setButtonClickHandler"");
        this.buttonClickHandler = buttonClickHandler;
    }

}
</code></pre>

<p>The presenter:</p>

<pre><code>public class RPresenter {

    public interface Display extends IsWidget {
        void setButtonClickHandler(ClickHandler buttonClickHandler);
    }

    private final Display display;
    private final EventBus eventBus;

    @Inject
    public RPresenter(EventBus eventBus, Display display){
        this.display = display;
        this.eventBus = eventBus;
        bind();
    }

    private void bind(){
        display.setButtonClickHandler(new ClickHandler() {
            @Override
            public void onClick(ClickEvent event) {
                GWT.log(""onClick event triggered"");
            }
        });
    }

    public void go(HasWidgets container){
        container.add(display.asWidget());
    }

}
</code></pre>

<p>And for my GIN module I use the generated ScaffoldModule in the ...client.scaffold.ioc package:</p>

<pre><code>public class ScaffoldModule extends AbstractGinModule {

    @Override
    protected void configure() {

        GWT.log(""ScaffoldModule configure"");

        bind(EventBus.class).to(SimpleEventBus.class).in(Singleton.class);
        bind(ApplicationRequestFactory.class).toProvider(RequestFactoryProvider.class).in(Singleton.class);
        bind(PlaceController.class).toProvider(PlaceControllerProvider.class).in(Singleton.class);

        //bind(RPresenter.Display.class).to(R.class).in(Singleton.class);
        bind(RPresenter.Display.class).to(R.class);
    }

    static class PlaceControllerProvider implements Provider&lt;PlaceController&gt; {

        private final EventBus eventBus;

        @Inject
        public PlaceControllerProvider(EventBus eventBus) {
            this.eventBus = eventBus;
        }

        public PlaceController get() {
            return new PlaceController(eventBus);
        }
    }

    static class RequestFactoryProvider implements Provider&lt;ApplicationRequestFactory&gt; {

        private final EventBus eventBus;

        @Inject
        public RequestFactoryProvider(EventBus eventBus) {
            this.eventBus = eventBus;
        }

        public ApplicationRequestFactory get() {
            ApplicationRequestFactory requestFactory = GWT.create(ApplicationRequestFactory.class);
            requestFactory.initialize(eventBus);
            return requestFactory;
        }
    }
}
</code></pre>

<p>In the GWT development mode console, the ""ScaffoldModule configure"" never displays, yet the generated scaffold seems to binding just fine as the events get passed along from component to component without a hitch, unless the binding is magically happening somewhere else and that is dead code.</p>

<p>When I put my bind(RPresenter.Display.class).to(R.class) in, it doesn't seem to do the binding. The only output I get in the GWT console is ""Button clicked"" which is called in the view and then nothing further. I'm clearly missing something, any ideas?</p>
","527533","","","","","2011-01-13 22:42:44","GIN & GWT: Binding Presentation layer with View","<gwt><gin>","1","2","","","","4676686","2253","2253","gin","315","5802757","5802756"
"4739952","1","4740086","","2011-01-19 19:50:08","","1","1291","<p>I have an InlineLabel subclass that I used in UIBinder. How can I inject a PlaceController into it via GIN, so that the widget can be used in UIBinder? (recall that UIBinder requires a no-args constructor.) </p>

<p>If that's not possible, what's the cleanest way to make a PlaceController available to a widget so that it can be used by the widget during onClick() events?</p>

<p><strong>Edit:</strong></p>

<p>I'm not sure MVP is really the best solution in this case (I'm happy to have you change my mind, however.) </p>

<p>I will have dozens of these InlineLabel instances declared in my UIBinder foo.ui.xml file. If I implement MVP, that means declaring each of these instances as @UiField members in the view. That gets rather unwieldy when I have so many of them. That's why I was hoping to inject the PlaceController into each of the InlineLabels in a semi-automated way, and avoid having to manually wire them into the view.  </p>

<p>It would also be acceptable if there were a way to inject the presenter into each of the InlineLabels... then the delegation could be done something like:</p>

<pre><code>   public class MyInlineLabelSubclass {
       // ...

       public void onClick(ClickEvent event)
       {
         presenter.labelClicked(this);
       }
    }
</code></pre>
","93995","","93995","","2011-01-19 23:13:34","2011-10-11 12:51:33","GWT & GIN: how to inject PlaceController into a widget using UIBinder","<gwt><dependency-injection><uibinder><gin>","2","1","","","","4739952","2253","2253","gin","315","5802757","5802756"
"5002059","1","5004554","","2011-02-15 09:49:41","","1","1610","<p>I am struggling  a little bit with the concept of deferred binding and/or dependency injection in libraries/widgets. 
I try to come up with the best approach for following problem:
I want to implement a visualization widget (composite) that takes in some data and displays it. </p>

<p>I want to separate the way the data is retrieved from the actual visualization part. So I added a generic interface ""DataSource"" which looks like this:</p>

<pre><code>public interface DataSource {
    public void fetch(int start, int end, boolean getFeatures, 
                         DataSourceCallback callback);  
}
</code></pre>

<p>and I add a setter to my Widget:   </p>

<pre><code>public void setDataSource(DataSource source) { this.source = source}
</code></pre>

<p>In oder to support http like datasources I also added an abstract class which implements the DataSource Interface and takes an URL in its default constructor: </p>

<pre><code>public abstract class HttpDataSource implements DataSource {
        protected String url;

        public HttpDataSource(String url) {
               this.url = url;
        }
}
</code></pre>

<p>My specific DataSouce extends this abstract class and implements the fetch method of the interface:</p>

<pre><code>public class MyDataSource extends HttpDataSource {

      public MyDataSource(String url) {
             super(url);
      }
}
</code></pre>

<p>This works well. I can create an instance of the MyDataSource class pass it to the setter of my widget. 
Now I want to make the widget somewhat configurable. I know that this can be done by either Dependency Injection or Deferred Bindings. </p>

<p>So one approach would be to allow the user of the widget to set the DataSource in the Module XML file (similar to the way it is done in the gwt-log library: <a href=""http://code.google.com/p/gwt-log/source/browse/trunk/Log/src/com/allen_sauer/gwt/log/gwt-log-impl.gwt.xml"" rel=""nofollow"">http://code.google.com/p/gwt-log/source/browse/trunk/Log/src/com/allen_sauer/gwt/log/gwt-log-impl.gwt.xml</a>)</p>

<pre><code>&lt;replace-with class=""MyDataSource""&gt;
    &lt;when-type-is class=""DataSource"" /&gt;
    &lt;when-property-is name=""source"" value=""MyDataSourceName"" /&gt;
  &lt;/replace-with&gt;
</code></pre>

<p>However I don't know if that is possible because by passing a url into the constructor of MyDataSource I have a state and I am not sure how this works with deferred binding.
On a side note: would it be possible to have the url also configured in the module's XML file?</p>

<p>I am also worried if people who use this widget/library can implement their own DataSource and pass it to the widget (doesn't it interfere with the deferred binding?) </p>

<p>I suppose another solution would be using dependency injection in the parent application which uses the visualization widget/library ( how can the url be passed, etc? I probably have to inject a Factory?)</p>

<p>Which one of these two solutions is better and in general does it make sense to use deferred binding or GIN to solve this problem?</p>

<p>thanks in advance</p>

<p>Uemit</p>
","356594","","356594","","2011-02-15 12:21:44","2011-02-15 13:58:27","Deferred Binding/GIN in GWT widgets/libraries","<gwt><widget><gin>","1","0","","","","5002059","2253","2253","gin","315","5802757","5802756"
"5191772","1","5375885","","2011-03-04 09:16:25","","3","1397","<p>I have a new project where I am using GWT-Views like Composite, etc.</p>

<p>I have injected the items in the main menu (like <code>ProductList</code> below) using GinInjector. This works fine!</p>

<p>Somewhere I want to have a reference from a small component to an item from my main menu in order to update it. I try to inject it this way:</p>

<pre><code>public class ProductForm extends Composite {
   ...
   @Inject 
   ProductList list;
   ....

}
</code></pre>

<p>But when I use the <code>list</code> I always get <code>null</code>. Whereby, <code>ProductList</code> is defined this way: </p>

<pre><code>public class MyModule extends AbstractGinModule {
   ...
   @Override
   protected void configure() {
      bind(ProductList.class).asEagerSingleton();
      bind(ProductForm.class).asEagerSingleton();
   }
   ...
}
</code></pre>

<p>Any idea what I am doing wrong?!</p>

<p><strong>Solution</strong>: 
I failed to mention that ProductForm is an element of the ProductList using the UIBinder's @UIField tag, So That injecting it will create a new object rather than the one created using UIBinder.</p>

<p>I had to restructure my code to include presenters and an event bus so that no direct references between views are needed (other than the @UIField attributes).</p>
","294789","","294789","","2011-03-24 14:36:01","2011-03-24 14:36:01","Dependency injection not working in gwt 2.1","<gwt><dependency-injection><gwt2><gin>","3","2","3","","","5191772","2253","2253","gin","315","5802757","5802756"
"5271960","1","5279327","","2011-03-11 10:49:35","","7","818","<p>What are the pros and cons using Gin in GWT in comparison with using a ClientFactory?</p>
","274426","","","","","2011-03-11 23:04:18","Pros and cons using Gin in GWT","<gwt><gin>","1","0","1","","","5271960","2253","2253","gin","315","5802757","5802756"
"5364007","1","5383951","","2011-03-19 18:33:08","","1","527","<p>Has anyone tried the recently released version of <a href=""http://code.google.com/p/google-gin/"" rel=""nofollow"">Google Gin (1.5)</a>? I would like to know the new features in the release and any usage experiences with GWT.</p>
","126554","","","","","2011-03-21 21:27:37","What is new in Google Gin 1.5?","<gwt><dependency-injection><gin>","2","0","","","","5364007","2253","2253","gin","315","5802757","5802756"
"5457655","1","5458600","","2011-03-28 10:28:56","","0","1261","<p>I have something like this:</p>

<pre><code>request.findAllProjects().fire(new ExtReceiver&lt;List&lt;ProjectProxy&gt;&gt;() {

    @Override
    public void onSuccess(List&lt;ProjectProxy&gt; response) {
        view.setProjects(response);                     
    }
});
</code></pre>

<p>It is anonymous inner class of the abstract class ExtReceiver. The ExtReceiver is for handling the errors with an errorHandler which i want to provide.</p>

<pre><code>public abstract class ExtReceiver&lt;T&gt; extends Receiver&lt;T&gt; {


    private ErrorHandler errorHandler;


    public ExtReceiver() {
    }

    @Inject
    public void setErrorHandler(ErrorHandler errorHandler)
    {
        this.errorHandler = errorHandler;
    }

    @Override
    public abstract void onSuccess(T response);

    @Override
    public void onFailure(ServerFailure error) {
        errorHandler.exception(error);
    }

    @Override
    public void onViolation(Set&lt;Violation&gt; errors) {
        ValidationUtils.processViolation(errors);
    }

}
</code></pre>

<p>I understand why this can't work, because i use the new Operator. But how could i do something like this. I want to have that anonymous class and not put it in an own file or something. 
How could I inject that errorHandler? Thought about staticInjections, but it looked like this does not work too (Maybe because of the inheritance i create with doing an anonymous class)</p>

<p>In the opposite to normal Guice i don't know an injector.getInstance() call.</p>

<p>For information: That is a requestFactory call</p>
","142405","","13792","","2011-03-28 14:54:25","2011-03-28 14:54:25","Inject into anonymous inner class (GIN)","<gwt><guice><gin><requestfactory>","1","0","","","","5457655","2253","2253","gin","315","5802757","5802756"
"5490729","1","","","2011-03-30 18:45:42","","2","815","<p>Here is the problem, I have code being generated by Deferred Binding in GWT, and I would like to use Gin Injection inside of this code.</p>

<p>Initially, I attempted to put a private constructor with an @Inject annotation in the generated class, but GWT complained that it did not have a public noargs constructor.  In any case, I also got errors regarding my attempts to inject something abstract without bindings, and feel like I couldn't possibly bind it since I don't have the type literal available at runtime.</p>

<p>My next attempt was to generate a Ginjector and Gin module inside the class itself, but got errors regarding the inability to find the Gin module for the Ginjector annotation, which was confusing to me.  Besides, this would have isolated the injection to what could be generated, and not the external dependencies.</p>

<p>In any case, has anybody attempted such a thing? Does anybody have any advice?</p>
","459041","","","","","2011-05-09 04:52:55","Gin Injection Inside Class Generated By Deferred Binding","<gwt><dependencies><code-injection><gin>","1","0","","","","5490729","2253","2253","gin","315","5802757","5802756"
"5802747","1","","","2011-04-27 10:39:29","","13","1996","<p>I am using the GWT Activities and Places framework to structure my application and it is turning out nicely. One thing that annoys me though is that the <code>ActivityMapper</code> implementation is (1) receiving all the views in the application (2) contains a giant if/else block for instantiating activities based on the received place. It will only get worse as the number of views increases.</p>

<p><img src=""https://i.stack.imgur.com/fOQgZ.png"" alt=""ActivityMapper screenshot""></p>

<p>I am already using <a href=""http://code.google.com/p/google-gin"" rel=""noreferrer"">Gin</a> but I don't see how I can use it here. </p>

<p>How can I reduce or eliminate the boilerplate from my <code>ActivityMapper</code>?</p>
","112671","","","","","2015-11-23 12:01:06","Eliminating GWT ActivityMapper boilerplate","<gwt><gwt-mvp><gin>","6","0","5","","","5802747","2253","2253","gin","315","5802757","5802756"
"5827534","1","5837285","","2011-04-29 03:30:03","","1","1117","<p>I have a GWT MVP application using Activities and Places.  This is inspired by Mauro Bertapelle's sample (in <a href=""http://groups.google.com/group/google-web-toolkit/browse_thread/thread/0ba4b88d2d54b0cd/402f75cc095a1e3e?show_docid=402f75cc095a1e3e"" rel=""nofollow noreferrer"">this thread</a>), apparently based on some of <a href=""http://tbroyer.posterous.com/"" rel=""nofollow noreferrer"">Thomas Broyer</a>'s work.</p>

<p>Here's the problem:  I have LoginActivity make an RPC call, which for a successful login, returns a User.  This user has a role (e.g., admin, regular user, guest).  Several Views and Activities, including a NavigatorView, depend on this role for what they show or do. How do I get this User instance to the other Activities?</p>

<p>I do not have a ClientFactory; injection (Gin) is used for instantiating the Views in the ActivityProviders which provide my Activities/Presenters, and the ActivityProviders are injected into my ActivityMapper.  So this may reduce to a Gin question: how do I get the user reference where it's needed?  This seems to be similar to <a href=""https://stackoverflow.com/questions/4105579/gwt-mvp-with-activities-and-places-global-references"">this SO question</a> about global references in MVP.</p>

<p>Consider me a Gin newbie, this is my first attempt at using it.  I'm guessing there is a ""Gin way"" to make this happen, but I don't know Gin well enough to know the best way to do this (if Gin should be used at all). </p>

<p>Much thanks.</p>

<p><strong>Edit 1:</strong> Despite my best efforts searching SO for a similar question, I just found <a href=""https://stackoverflow.com/questions/4629777/how-to-inject-a-runtime-dependency-like-a-logged-in-user-which-is-not-available"">this question</a> which is pretty much identical to mine (is the SO algorithm for finding ""Related"" links better than the search?).  I'm thinking that the Gin answer by David is on the right track.</p>

<p>I don't think that an EventBus solution is possible.  I'm following the <a href=""http://code.google.com/webtoolkit/doc/latest/DevGuideMvpActivitiesAndPlaces.html"" rel=""nofollow noreferrer"">Google guidelines</a> which involve instantiating Activity at every Place change, so a single Event by itself will not suffice.</p>
","29771","","-1","","2017-05-23 12:29:05","2011-04-30 11:09:20","Cross-Activity references using GWT with Gin","<gwt><dependency-injection><mvp><guice><gin>","2","0","1","","","5827534","2253","2253","gin","315","5802757","5802756"
"6200125","1","6200275","","2011-06-01 11:04:32","","1","1850","<p>I have a problem using Gin. Here is a simple example.</p>

<pre><code>@GinModules(AppModule.class)
public interface AppInjector extends Ginjector
{
  MainForm getMainPanel();
  TemplateForm getHeaderForm();
}
</code></pre>

<p>then here is Module</p>

<pre><code>import com.google.inject.Singleton;
    public class AppModule extends AbstractGinModule
    {
    @Override
    protected void configure()
    {
      bind(MainForm.class).in(Singleton.class);
    }
    }
</code></pre>

<p>and the Entry point</p>

<pre><code>public class MySampleApplication implements EntryPoint

private final AppInjector injector = GWT.create(AppInjector.class);

public void onModuleLoad()
{
  MainForm mf = injector.getMainPanel();
  RootPanel.get().add(mf);
}
}
</code></pre>

<p>And the module xml file</p>

<pre><code>&lt;module rename-to=""MySampleApplication""&gt;

    &lt;!-- Inherit the core Web Toolkit stuff.                  --&gt;
    &lt;inherits name='com.google.gwt.user.User'/&gt;

    &lt;!-- Specify the app entry point class.                   --&gt;
    &lt;entry-point class='com.mySampleApplication.client.MySampleApplication'/&gt;

    &lt;inherits name=""com.google.gwt.inject.Inject""/&gt;

    &lt;!-- Specify the app servlets.                   --&gt;
    &lt;servlet path='/MySampleApplicationService' class='com.mySampleApplication.server.MySampleApplicationServiceImpl'/&gt;

&lt;/module&gt;
</code></pre>

<p>After i run this code i got an exception :</p>

<p>ERROR: Failed to create an instance of 'com.mySampleApplication.client.MySampleApplication' via deferred binding . java.lang.RuntimeException: Deferred binding failed for 'com.mySampleApplication.client.gin.AppInjector' (did you forget to inherit a required module?).</p>

<p>I tried with gin 1.0 and guice 2.0.</p>

<p>Please, advice.</p>

<p>Thanks.</p>
","767929","","767929","","2011-06-01 11:38:51","2011-06-01 14:03:47","Gin problem using GWT and Guice. - java.lang.RuntimeException: Deferred binding failed for ","<gwt><guice><gin>","1","2","1","","","6200125","2253","2253","gin","315","5802757","5802756"
"6213672","1","6213972","","2011-06-02 11:01:33","","1","1778","<p>here is my problem. I m using Gin in a gwt project, i m using GWT.create(SomeClass.class) to get instance ,but the problem is that i want signleton instance and for that purpose i bind that class in the app module to be singleton. Every tome i execute GWT.create(TemplatePanel.class) it returns different instance..why??
Here is snippet of my code.
Module</p>

<pre><code>public class AppClientModule extends AbstractGinModule
{
protected void configure()
{
  bind(MainPanel.class).in(Singleton.class);
  bind(TemplatePanel.class).in(Singleton.class);
}
} 
</code></pre>

<p>Injector </p>

<pre><code>@GinModules(AppClientModule.class)
public interface AppInjector extends Ginjector
{
  MainPanel getMainForm();
  TemplatePanel getTemplateForm();
}
</code></pre>

<p>TemplatePanel </p>

<pre><code>public class TemplatePanel extends VerticalPanel
@Inject
public TemplatePanel()
{
  this.add(initHeader());
  this.add(initContent());
}
..
</code></pre>

<p>MainPanel</p>

<pre><code>public void onSuccess(List&lt;MyUser&gt; result)
    {
.......
  TemplatePanel temp = GWT.create(TemplatePanel.class);

.......
}
</code></pre>

<p>And the entry point </p>

<pre><code>private final AppInjector injector = GWT.create(AppInjector.class);
public void onModuleLoad()
{
  MainPanel mf = injector.getMainForm();
  TemplatePanel template = injector.getTemplateForm();
  template.setContent(mf);
  RootPanel.get().add(template);
}
</code></pre>
","767929","","","","","2013-07-04 01:42:45","Gin problem using GWT - GWT.create(someClass.class) return different instance every time is called","<java><gwt><guice><gin>","2","0","","","","6213672","2253","2253","gin","315","5802757","5802756"
"6227720","1","6228567","","2011-06-03 13:28:46","","1","1905","<p>Hi guys with my question. A GWT project, as i have read Gin i usable only on the client side than Guice is usable on the server side. Here is my question.</p>

<p>Let first post some example code.</p>

<p>Server side.</p>

<pre><code>public class WebchargeServiceImpl extends RemoteServiceServlet implements WebchargeService
{
@Inject
private Injector injector;
@Inject
private ExecuteOperations executeOperations;

.....
executeOperations.do(); ....
</code></pre>

<p>Here is the injected class ExecuteOperations</p>

<pre><code>@Singleton
public class ExecuteOperations
{
.........
}
</code></pre>

<p>Also i have servlet module class</p>

<pre><code>public class SampleWebGuiceServletConfig extends GuiceServletContextListener
{
@Override
protected Injector getInjector()
{
  return Guice.createInjector(Stage.DEVELOPMENT, new SampleWebModule());
}

} // class
</code></pre>

<p>.....</p>

<pre><code>public class SampleWebModule extends ServletModule
{

    @Override
    protected void configureServlets()
    {
       bind(WebchargeServiceImpl.class);  //is it correct to bind a class like that?
    } // class
</code></pre>

<p>web.xml </p>

<pre><code>  &lt;servlet&gt;
        &lt;servlet-name&gt;.......WebchargeService&lt;/servlet-name&gt;
        &lt;servlet-class&gt;.....WebchargeServiceImpl&lt;/servlet-class&gt;
    &lt;/servlet&gt;
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;.........WebchargeService&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/Webcharge/WebchargeService&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;
    &lt;filter&gt;
        &lt;filter-name&gt;guiceFilter&lt;/filter-name&gt;
        &lt;filter-class&gt;com.google.inject.servlet.GuiceFilter&lt;/filter-class&gt;
      &lt;/filter&gt;
    &lt;filter-mapping&gt;
        &lt;filter-name&gt;guiceFilter&lt;/filter-name&gt;
        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
    &lt;/filter-mapping&gt;

    &lt;listener&gt;
        &lt;listener-class&gt;......SampleWebGuiceServletConfig&lt;/listener-class&gt;
    &lt;/listener&gt;
&lt;/web-app&gt;
</code></pre>

<p>I'm missing something because i get null every time, this code works ok in servlet/jsp env but here... 
Advice place.</p>

<p>Thanks.</p>
","767929","","767929","","2011-06-06 15:58:55","2011-06-06 15:58:55","GWT Guice/Gin on the server side problem","<java><gwt><guice><code-injection><gin>","2","1","","","","6227720","2253","2253","gin","315","5802757","5802756"
"6343400","1","","","2011-06-14 12:23:46","","0","194","<p>For some inexplicable reason for me ,Gin does not works as i intend. Let me explain with little code.</p>

<p>Let say i have a formA</p>

<pre><code>@Singleton
public class formA extends Composite

    private final MyGinjector ginjector;

    @Inject
    public formA(MyGinjector ginjector)
    {
      this.ginjector = ginjector;
      this.add(ginjector.getFormB());
      this.add(ginjector.getFormC());   
    }
</code></pre>

<p>here are and formB and formC (let assume formB and formC has similar code)</p>

<pre><code>@Singleton
public class formB extends Composite
{
@Inject
public formB(MyGinjector ginjector)
{
  this.ginjector = ginjector;
..............
}
}
</code></pre>

<p>And the problem i has been facing is in some moment when i inject formA (ginjector.getFormA() return an instance of formA but with missing childWidgets meaning with no reference to formB and formC</p>

<p>What could be the problem? all forms are singleton ... probably i should not inject the ginjector like that?</p>

<p>Thanks</p>
","767929","","","","","2011-06-14 15:21:08","Gin weird behavior in a Gwt project","<java><gwt><dependency-injection><gin>","1","0","","","","6343400","2253","2253","gin","315","5802757","5802756"
"6374979","1","","","2011-06-16 16:06:06","","5","2449","<p>How to minimize the amount of code downloaded initially by GWT app user's browser?
Well, just wrap potentially big operations in a GWT.runAsync() call.
However, since our application is using GWT best practices (dependency injection, MVP pattern), its not as straightforward as GWT doc describes.
Could you please give me an idea on how to use code splitting in conjunction with GIN?</p>
","405458","","","","","2011-06-17 11:50:08","GWT, MVP, GIN, code splitting?","<gwt><mvp><gwt-mvp><gin>","2","0","2","","","6374979","2253","2253","gin","315","5802757","5802756"
"6382473","1","","","2011-06-17 07:07:27","","1","6832","<p>Could some explain me something. Here is some scenario.</p>

<p>Let assume i have a class template and use Gin/Guice in the app.</p>

<pre><code>@Singleton
public class Template extends Compose
{
private HorizontalPanel header;
private HorizontalPanel content;
private VerticalPanel menu;

    public Template()
    {
      this.add(initHeader());
      this.add(initMenu());
      this.add(initContent());
    }

    public void setContent(Widget widget)
    {
      content.clear();
      content.add(widget);
    }
    .............
    ......
    }
</code></pre>

<p>and in the entry class</p>

<pre><code>........
public void onModuleLoad()
{

RootPanel.get().add(new Template());
....
}
</code></pre>

<p>Every time i need to reload the content i do..</p>

<p>For example</p>

<pre><code>HorizontalPanel hp = new HorizontalPanel();
hp.add ....
...

Template template = injector.getTemplate(); // return singleton instance using gin
template.setContent(hp)
</code></pre>

<p>and so on.. </p>

<p>So, Template is singleton and as far as i know singleton instance is one per VM meaning shared by entire application, right? 
Template class has header, menu and content, the idea is to reload only the content part as cleaning and adding widgets.
But is this a good approach? </p>

<p>For example, could we have a situation like user ""A"" setContent(widgetA) ,but in the same time user ""B"" use method setContent(widgetB) ,so what is going to happen here?</p>

<p>Thanks, if anyone could share with me a good approach eventually and comment that one.</p>

<p>Regards</p>
","767929","","767929","","2011-06-17 07:38:30","2011-06-17 11:35:57","Singleton in GWT project","<java><gwt><dependency-injection><singleton><gin>","3","2","","","","6382473","2253","2253","gin","315","5802757","5802756"
"6439494","1","6440300","","2011-06-22 12:04:47","","0","1120","<p>I met very weird problem, using Gin injector in the client code return error with the following stack trace:</p>

<pre><code>ERROR: Deferred binding result type 'java.util.List' should not be abstract. 
ERROR: Uncaught exception escaped. java.lang.RuntimeException: Deferred binding failed for 'java.util.List' (did you forget to inherit a required module?) 
</code></pre>

<p>Is it a gin issue or gwt ? In general is it available using java.util.list in the client side in gwt?</p>

<p>Here is an example how i use it.</p>

<pre><code>public class DataSource
{

private final List&lt;SearchDTO&gt; users;
private List&lt;String&gt; header = new ArrayList&lt;String&gt;();

@Inject
public DataSource(List&lt;SearchDTO&gt; users)
{ 
  header.add(""Name"");
  header.add(""Age"");
  header.add(""Address"");
  this.users = users;
}

public List&lt;SearchDTO&gt; getUsers()
{
  return users;
}

public List&lt;String&gt; getTableHeader()
{
  return header;
}
</code></pre>

<p>and then i do constructor injection and then got this exception.</p>

<p>Here is the full stack trace:</p>

<pre><code>ERROR: Deferred binding result type 'java.util.List' should not be abstract. 
ERROR: Uncaught exception escaped. java.lang.RuntimeException: Deferred binding failed for 'java.util.List' (did you forget to inherit a required module?)
    at com.google.gwt.dev.shell.GWTBridgeImpl.create(GWTBridgeImpl.java:53)
    at com.google.gwt.core.client.GWT.create(GWT.java:98)
    at gmgsys.com.webcharge.client.gin.MyGinjectorImpl.create_Key$type$java$util$List$gmgsys$com$webcharge$client$model$SearchDTO$$_annotation$$none$$(MyGinjectorImpl.java:411)
    at gmgsys.com.webcharge.client.gin.MyGinjectorImpl.get_Key$type$java$util$List$gmgsys$com$webcharge$client$model$SearchDTO$$_annotation$$none$$(MyGinjectorImpl.java:425)
    at gmgsys.com.webcharge.client.gin.MyGinjectorImpl.create_Key$type$gmgsys$com$webcharge$client$DataSource$_annotation$$none$$(MyGinjectorImpl.java:211)
    at gmgsys.com.webcharge.client.gin.MyGinjectorImpl.get_Key$type$gmgsys$com$webcharge$client$DataSource$_annotation$$none$$(MyGinjectorImpl.java:222)
    at gmgsys.com.webcharge.client.gin.MyGinjectorImpl.getDataSource(MyGinjectorImpl.java:11)
    at gmgsys.com.webcharge.client.MyCellList$3.onSuccess(MyCellList.java:125)
    at gmgsys.com.webcharge.client.MyCellList$3.onSuccess(MyCellList.java:1)
    at net.customware.gwt.dispatch.client.DefaultDispatchAsync$1.onSuccess(DefaultDispatchAsync.java:33)
    at net.customware.gwt.dispatch.client.DefaultDispatchAsync$1.onSuccess(DefaultDispatchAsync.java:1)
    at com.google.gwt.user.client.rpc.impl.RequestCallbackAdapter.onResponseReceived(RequestCallbackAdapter.java:232)
    at com.google.gwt.http.client.Request.fireOnResponseReceived(Request.java:287)
    at com.google.gwt.http.client.RequestBuilder$1.onReadyStateChange(RequestBuilder.java:395)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.google.gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:103)
    at com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71)
    at com.google.gwt.dev.shell.OophmSessionHandler.invoke(OophmSessionHandler.java:167)
    at com.google.gwt.dev.shell.BrowserChannelServer.reactToMessagesWhileWaitingForReturn(BrowserChannelServer.java:326)
    at com.google.gwt.dev.shell.BrowserChannelServer.invokeJavascript(BrowserChannelServer.java:207)
    at com.google.gwt.dev.shell.ModuleSpaceOOPHM.doInvoke(ModuleSpaceOOPHM.java:132)
    at com.google.gwt.dev.shell.ModuleSpace.invokeNative(ModuleSpace.java:561)
    at com.google.gwt.dev.shell.ModuleSpace.invokeNativeObject(ModuleSpace.java:269)
    at com.google.gwt.dev.shell.JavaScriptHost.invokeNativeObject(JavaScriptHost.java:91)
    at com.google.gwt.core.client.impl.Impl.apply(Impl.java)
    at com.google.gwt.core.client.impl.Impl.entry0(Impl.java:214)
    at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.google.gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:103)
    at com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71)
    at com.google.gwt.dev.shell.OophmSessionHandler.invoke(OophmSessionHandler.java:167)
    at com.google.gwt.dev.shell.BrowserChannelServer.reactToMessages(BrowserChannelServer.java:281)
    at com.google.gwt.dev.shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:531)
    at com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer.java:352)
    at java.lang.Thread.run(Thread.java:662)
Caused by: com.google.gwt.core.ext.UnableToCompleteException: (see previous log entries)
    at com.google.gwt.dev.shell.ModuleSpace.rebindAndCreate(ModuleSpace.java:503)
    at com.google.gwt.dev.shell.GWTBridgeImpl.create(GWTBridgeImpl.java:49)
    at com.google.gwt.core.client.GWT.create(GWT.java:98)
    at gmgsys.com.webcharge.client.gin.MyGinjectorImpl.create_Key$type$java$util$List$gmgsys$com$webcharge$client$model$SearchDTO$$_annotation$$none$$(MyGinjectorImpl.java:411)
    at gmgsys.com.webcharge.client.gin.MyGinjectorImpl.get_Key$type$java$util$List$gmgsys$com$webcharge$client$model$SearchDTO$$_annotation$$none$$(MyGinjectorImpl.java:425)
    at gmgsys.com.webcharge.client.gin.MyGinjectorImpl.create_Key$type$gmgsys$com$webcharge$client$DataSource$_annotation$$none$$(MyGinjectorImpl.java:211)
    at gmgsys.com.webcharge.client.gin.MyGinjectorImpl.get_Key$type$gmgsys$com$webcharge$client$DataSource$_annotation$$none$$(MyGinjectorImpl.java:222)
    at gmgsys.com.webcharge.client.gin.MyGinjectorImpl.getDataSource(MyGinjectorImpl.java:11)
    at gmgsys.com.webcharge.client.MyCellList$3.onSuccess(MyCellList.java:125)
    at gmgsys.com.webcharge.client.MyCellList$3.onSuccess(MyCellList.java:1)
    at net.customware.gwt.dispatch.client.DefaultDispatchAsync$1.onSuccess(DefaultDispatchAsync.java:33)
    at net.customware.gwt.dispatch.client.DefaultDispatchAsync$1.onSuccess(DefaultDispatchAsync.java:1)
    at com.google.gwt.user.client.rpc.impl.RequestCallbackAdapter.onResponseReceived(RequestCallbackAdapter.java:232)
    at com.google.gwt.http.client.Request.fireOnResponseReceived(Request.java:287)
    at com.google.gwt.http.client.RequestBuilder$1.onReadyStateChange(RequestBuilder.java:395)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.google.gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:103)
    at com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71)
    at com.google.gwt.dev.shell.OophmSessionHandler.invoke(OophmSessionHandler.java:167)
    at com.google.gwt.dev.shell.BrowserChannelServer.reactToMessagesWhileWaitingForReturn(BrowserChannelServer.java:326)
    at com.google.gwt.dev.shell.BrowserChannelServer.invokeJavascript(BrowserChannelServer.java:207)
    at com.google.gwt.dev.shell.ModuleSpaceOOPHM.doInvoke(ModuleSpaceOOPHM.java:132)
    at com.google.gwt.dev.shell.ModuleSpace.invokeNative(ModuleSpace.java:561)
    at com.google.gwt.dev.shell.ModuleSpace.invokeNativeObject(ModuleSpace.java:269)
    at com.google.gwt.dev.shell.JavaScriptHost.invokeNativeObject(JavaScriptHost.java:91)
    at com.google.gwt.core.client.impl.Impl.apply(Impl.java)
    at com.google.gwt.core.client.impl.Impl.entry0(Impl.java:214)
    at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.google.gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:103)
    at com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71)
    at com.google.gwt.dev.shell.OophmSessionHandler.invoke(OophmSessionHandler.java:167)
    at com.google.gwt.dev.shell.BrowserChannelServer.reactToMessages(BrowserChannelServer.java:281)
    at com.google.gwt.dev.shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:531)
    at com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer.java:352)
    at java.lang.Thread.run(Thread.java:662)
</code></pre>

<p>Thanks.</p>
","767929","","","","","2011-06-22 13:01:33","Gin problem when having java.util.List in the client code","<java><gwt><dependency-injection><gin>","2","1","","","","6439494","2253","2253","gin","315","5802757","5802756"
"6473787","1","6474272","","2011-06-24 21:06:53","","3","4488","<p>I have the following constructor (as a test):</p>

<pre><code>CREATE TABLE product (id BIGSERIAL PRIMARY KEY, ext hstore);
CREATE INDEX ix_product_ext ON product USING GIN(ext);

INSERT
INTO    product (id, ext)
SELECT  id, ('size=&gt;' || CEILING(10 + RANDOM() * 90) || ',mass=&gt;' || CEILING(10 + RANDOM() * 90))::hstore
FROM    generate_series(1, 100000) id;
</code></pre>

<p>I have the following query, which works ok:</p>

<pre><code>SELECT  COUNT(id)
FROM    (
    SELECT  id
    FROM    product
    WHERE  (ext-&gt;'size')::INT &gt;= 41
    AND    (ext-&gt;'mass')::INT &lt;= 20
) T
</code></pre>

<p>But I believe the correct way to do this is using the @> operator. I have the following, but it gives a syntax error:</p>

<pre><code>SELECT  COUNT(id)
FROM    (
    SELECT  id
    FROM    product
    WHERE  ext @&gt; 'size&gt;=41,mass&lt;=20'
) T
</code></pre>

<p>How should I write this?</p>
","401584","","401584","","2011-06-24 21:21:46","2011-06-24 22:46:50","PostgreSQL - query against GIN index of HSTORE value","<sql><postgresql><gin>","2","0","1","","","6473787","2253","2253","gin","315","5802757","5802756"
"6495303","1","6504024","","2011-06-27 15:34:39","","1","1801","<p>I've tried to do something like this:</p>

<pre><code>@Singleton
public class AAA implements EntryPoint, HistoryListener
{

private BBB bbb;
private CCC ccc;
private DDD ddd;
private EEE eee;

@Inject
public AAA(BBB bbb, CCC ccc, DDD ddd, EEE eee)
{
  this.bbb = bbb;
  this.ccc = ccc;
  this.ddd = ddd;
  this.eee = ee;
}
.........
}
</code></pre>

<p>The result is null to all instances..
I expected this way to work... </p>

<p>I know i could do something like this for example</p>

<pre><code>private final MyGinjector injector = GWT.create(MyGinjector.class);

injector.getAAA()
and so on..
</code></pre>

<p>Why the first way i have tried does not work for me?
Any suggestions?</p>

<p>Thanks</p>
","816187","","816187","","2011-06-27 17:49:34","2011-06-28 08:58:38","Inject entry point class in GWT with GIN","<java><gwt><dependency-injection><gin>","2","0","1","","","6495303","2253","2253","gin","315","5802757","5802756"
"6536384","1","6537726","","2011-06-30 14:30:01","","3","617","<p>I'm new to GWT, but I'm not new to Dependency Injection.</p>

<p>I'm looking for some concrete differences between DI via Gin and GWT Deferred Binding.  I've used DI in the past to de-couple my app by injecting dependencies, and it seems that Deferred Binding does that also, just in a more explicit way, and geared more toward browser compatibility.</p>

<p>What are the key differences, and do I need to choose one over the other, or are they complimentary.</p>

<p>We're building a new app and we want this foundation to be solid.</p>
","146828","","","","","2011-06-30 16:04:42","GWT : DI via Gin vs GWT Deferred Binding","<gwt><dependency-injection><gin>","1","0","1","","","6536384","2253","2253","gin","315","5802757","5802756"
"6774001","1","","","2011-07-21 09:29:56","","0","430","<p>I have declared a generator in my GWT module descriptor and it seems it is not called when the class which trigger the generator is instanciated via the Ginjector.</p>

<pre><code>public interface MyGinjector extends Ginjector {
  MyWidget getMyWidget();
}


public class MyEntryPoint implements EntryPoint {

  public static final MyGinjector INJECTOR = GWT.create(MyGinjector.class);

  public void onModuleLoad() {
    MyWidget myWidget = INJECTOR.getMyWidget(); // [1]
    MyWidget myWidget = GWT.create(MyWidget.class); // [2]
    RootPanel.add(myWidget);
  }

}
</code></pre>

<p>[1] The generator is not called.<br/>
[2] The generator is called.</p>

<p>Does it mean that the GIN injector does not instanciate object through the GWT.create() method?</p>

<p>Thanks for your help.
Kind regards,</p>
","854294","","","","","2012-10-29 23:03:08","GWT Generator not called with GIN Injection","<gwt><generator><gin>","1","2","","","","6774001","2253","2253","gin","315","5802757","5802756"
"7093274","1","","","2011-08-17 13:01:11","","3","697","<p>Is there a way to inject a class type <code>Class&lt;T&gt;</code> in gin? I can't seem to get it working, for example:</p>

<pre class=""lang-java prettyprint-override""><code>class GenericFoo&lt;T&gt; {

  private final Class&lt;T&gt; klass;

  @Inject
  public GenericFoo(Class&lt;T&gt; klass) {
    this.klass = klass;
  }
}

class Bar { }
</code></pre>

<p>with an instance injected somewhere:</p>

<pre><code>..
@Inject
GenericFoo&lt;Bar&gt; instance;
..
</code></pre>

<p>and a GinModule containing something along the lines of:</p>

<pre class=""lang-java prettyprint-override""><code>bind(new TypeLiteral&lt;Class&lt;Bar&gt;&gt;() {}).to(Bar.class);
</code></pre>

<p>Thanks</p>
","898679","","898679","","2011-08-17 15:15:12","2011-08-22 20:42:56","Inject a Class<T> with GIN","<java><gwt><dependency-injection><guice><gin>","2","0","","","","7093274","2253","2253","gin","315","5802757","5802756"
"7314323","1","7314691","","2011-09-06 02:17:46","","6","1175","<p>I find the answer for Guice <a href=""https://stackoverflow.com/q/483087/929804"">Overriding Binding in Guice</a> but don't know how to do the same for GIN in GWT.</p>

<p>Thanks in advance!</p>
","929804","","-1","","2017-05-23 12:10:29","2011-11-15 00:20:10","How to override binding in GIN","<gwt><guice><gin>","2","2","1","","","7314323","2253","2253","gin","315","5802757","5802756"
"7362201","1","","","2011-09-09 13:16:42","","1","162","<p>Is there a way to inject an array of objects or collection of objects?</p>

<pre><code>@Inject
private A[] objects
</code></pre>

<p>How do I create bindings for this case in my GinModule?</p>
","801632","","","","","2011-09-20 16:51:09","GIN: inject an array of objects","<gin>","1","0","1","","","7362201","2253","2253","gin","315","5802757","5802756"
"7403811","1","7409917","","2011-09-13 14:47:00","","2","1326","<p>I am in a situation where someone might be already in. I am using GWTP in my application. GWTP is using GIN as a client side
dependency injection. GWTP also uses Dispatcher mechanism for sending request to server side.</p>

<p>Now, There are some classes (PRESENTERS) which is injected by GWTP, I have some other classes which are created runtime without injection that means using ""new"" keywork. Let's have an example :</p>

<pre><code>// Injected
class Dispatcher {
}

// Injected
Class A {
    @Inject // I can do this and access the disp without any hurdle.
    Dispatcher disp;
}

// Created using ""new"" keywork 
class B {
    //@Inject I can't do this because of B is not an injected class. Correct me if I am wrong here 
    Dispatcher disp;
}
</code></pre>

<p>So, I need to access Injected class in non injected classes. You might think I havn't tried GWT.Create(Injector.class) method. I have tried that and I am able to get that object in non inected classes but the object Dispatcher is something different it increments(adds) ""/dispatch/"" to its base url. That means i need to have the same object which GWTP internally using. And GWTP creates the GIN INJECTOR at the entry point. </p>

<p>One solution is to put the same GIN INJECTOR to client side session (Static Hashmap) and use it in non injected classes (I have also tried this solution and it is working like charm).</p>

<p>I need more perfect solution which can work.</p>

<p>Thank you in advance.</p>
","212678","","","","","2011-09-14 00:08:12","GWT - GIN - GWTP - Dispatcher Injection Problem","<java><gwt><gin><gwt-platform>","1","0","0","","","7403811","2253","2253","gin","315","5802757","5802756"
"7424041","1","7424149","","2011-09-14 23:05:10","","1","215","<p>Recently I was playing a game of Gin with my <a href=""http://en.wikipedia.org/wiki/Gin_rummy"" rel=""nofollow"">grandmother</a>. We played a whole afternoon and as far as I can remember, I didn't won a single game.</p>

<p>So I told here that it with the help of computers it could become a much better player. She couldn't believe how computers could be useful there and that's why I want to demonstrate it.</p>

<p>I already implemented part of the logic, but now I have the problem that my solver is really not so sexy because he mainly is based on a brute force method. That is I calculated all the possibilities, score them according to the chances for a win and choose the best one. Is there any more sophisticated approach?</p>

<p>I'm talking about standard Gin. The implementation is done in C#.</p>
","","anon","","","","2011-09-14 23:21:10","How to find a solution for my Gin problem?","<c#><algorithm><gin>","1","3","","","","7424041","2253","2253","gin","315","5802757","5802756"
"7528952","1","","","2011-09-23 12:30:47","","3","2497","<p>In my GWT application i'm trying to setup a DI mechanism wihich would allow me to have all the commonly necessary stuff at hand everywhere. I'm using google-gin which is an adaptation of guice for GWT. I have an injector interface defined as this:</p>

<pre><code>@GinModules(InjectionClientModule.class)
public interface MyInjector extends Ginjector {
    public PlaceController getPlaceController();
    public Header getHeader();
    public Footer getFooter();
    public ContentPanel getContent();
    public EventBus getEventBus();
    public PlaceHistoryHandler getPlaceHistoryHandler();
}
</code></pre>

<p>My injection module is this:</p>

<pre><code>public class InjectionClientModule extends AbstractGinModule {
    public InjectionClientModule() {
        super();
    }

    protected void configure() {
        bind(Header.class).in(Singleton.class);
        bind(Footer.class).in(Singleton.class);
        bind(ContentPanel.class).in(Singleton.class);
        bind(EventBus.class).to(SimpleEventBus.class).in(Singleton.class);
        bind(PlaceController.class).toProvider(PlaceControllerProvider.class).asEagerSingleton();
        bind(PlaceHistoryHandler.class).toProvider(PlaceHistoryHandlerProvider.class).asEagerSingleton();
    }
}
</code></pre>

<p>When calling <code>MyInjector injector = GWT.create(MyInjector.class);</code> i'm gettign the following exception:</p>

<pre><code>java.lang.NullPointerException: null
at com.google.gwt.inject.rebind.BindingsProcessor.createImplicitBinding(BindingsProcessor.java:498)
at com.google.gwt.inject.rebind.BindingsProcessor.createImplicitBindingForUnresolved(BindingsProcessor.java:290)
at com.google.gwt.inject.rebind.BindingsProcessor.createImplicitBindingsForUnresolved(BindingsProcessor.java:278)
at com.google.gwt.inject.rebind.BindingsProcessor.process(BindingsProcessor.java:240)
at com.google.gwt.inject.rebind.GinjectorGeneratorImpl.generate(GinjectorGeneratorImpl.java:76)
at com.google.gwt.inject.rebind.GinjectorGenerator.generate(GinjectorGenerator.java:47)
at com.google.gwt.core.ext.GeneratorExtWrapper.generate(GeneratorExtWrapper.java:48)
at com.google.gwt.core.ext.GeneratorExtWrapper.generateIncrementally(GeneratorExtWrapper.java:60)
at com.google.gwt.dev.javac.StandardGeneratorContext.runGeneratorIncrementally(StandardGeneratorContext.java:647)
at com.google.gwt.dev.cfg.RuleGenerateWith.realize(RuleGenerateWith.java:41)
at com.google.gwt.dev.shell.StandardRebindOracle$Rebinder.rebind(StandardRebindOracle.java:78)
at com.google.gwt.dev.shell.StandardRebindOracle.rebind(StandardRebindOracle.java:268)
at com.google.gwt.dev.shell.ShellModuleSpaceHost.rebind(ShellModuleSpaceHost.java:141)
at com.google.gwt.dev.shell.ModuleSpace.rebind(ModuleSpace.java:585)
at com.google.gwt.dev.shell.ModuleSpace.rebindAndCreate(ModuleSpace.java:455)
at com.google.gwt.dev.shell.GWTBridgeImpl.create(GWTBridgeImpl.java:49)
at com.google.gwt.core.client.GWT.create(GWT.java:97)
</code></pre>

<p>The problem is that the PlaceController class actually depends on one of the other dependencies. I've implemented it's provider like this:</p>

<pre><code>public class PlaceControllerProvider implements Provider&lt;PlaceController&gt; { 
    private final PlaceController placeController;

    @Inject
    public PlaceControllerProvider(EventBus eventBus) {
        this.placeController = new PlaceController(eventBus);
    }

    @Override
    public PlaceController get() {
        return placeController;
    }
}
</code></pre>

<p>what should i change for this to work?</p>
","521535","","","","","2013-01-22 10:38:26","google-gin a provider needs a dependency. NullPointerException BindingsProcessor.java:498","<gwt><guice><gin>","4","0","1","","","7528952","2253","2253","gin","315","5802757","5802756"
"7565077","1","7565168","","2011-09-27 06:32:40","","0","2229","<p>Let's say I have a class</p>

<pre><code>public class Foo{
   @Inject
   public Foo(MessageBus messageBus, SomeServiceAsync service){
      ...
   }
...
</code></pre>

<p>I have some doubt on how I would construct such a class, given that the constructor parameters are to be injected. Or must I somehow also get an instance of the Foo class through Gin (is that the case anyway for injection to take place)? </p>

<p>Thanks in advance</p>
","80075","","","","","2011-09-27 06:40:48","GWT/Gin creating class with @Inject annotation in constructor","<gwt><gin>","1","0","","","","7565077","2253","2253","gin","315","5802757","5802756"
"7565930","1","7578688","","2011-09-27 08:03:43","","0","387","<p>I just got the grip on GWTP and the MVP, GIN and Dispatch.</p>

<p>With dispatch there is a Handler class which defines what the action does and returns something accordingly.</p>

<p>So far I found myself with a case where I have 2 actions that require to execute the same method. For which I believe ActionHandling is not where the bussiness logic goes, but that it should go in a layer behind it which pass something to it somehow</p>

<p>How should I layout my logic? I would like to use Hibernate later on btw.</p>

<p>EDIT:</p>

<p>as a note, applying the answers provided on practice, what needs to be done is:</p>

<p>1.- Create a module class that extends AbstractModule, this contains   </p>

<pre><code>bind(Service.class).to(ServiceImpl.class);
</code></pre>

<p>2.- on your GuiceServletcontextListener add your serviceModule to the getInjector method return: </p>

<pre><code>return Guice.createInjector(new ServerModule(), new DispatchServletModule(), new ServiceModule());
</code></pre>

<p>3.- On yours actionHandlers constructors have something like this</p>

<pre><code>@Inject
  TestHandler(Service service) { this.service=service }
</code></pre>
","813521","","813521","","2011-09-28 06:42:36","2011-09-28 06:42:36","GWT-Platform: where the business logic should go?","<gwt><dispatch><gin><gwt-platform>","3","0","0","","","7565930","2253","2253","gin","315","5802757","5802756"
"7631153","1","7632839","","2011-10-03 04:56:37","","3","2201","<p>I have the following code </p>

<pre><code>public class AppGinModule extends AbstractGinModule{
    @Override
    protected void configure() {
        bind(ContactListView.class).to(ContactListViewImpl.class);
        bind(ContactDetailView.class).to(ContactDetailViewImpl.class);
    }
}

@GinModules(AppGinModule.class) 
public interface AppInjector extends Ginjector{
    ContactDetailView getContactDetailView();
    ContactListView getContactListView();
}
</code></pre>

<p>In my entry point</p>

<pre><code>AppInjector appInjector = GWT.create(AppGinModule.class);
appInjector.getContactDetailsView();
</code></pre>

<p>Here <code>ContactDetailView</code> is always bind with <code>ContactsDetailViewImpl</code>. But i want that to bind with <code>ContactDetailViewImplX</code> under some conditions.</p>

<p>How can i do that? Pls help me.</p>
","650915","","","","","2011-10-03 08:50:10","GWT-GIN Multiple Implementations?","<gwt><dependency-injection><gin>","1","2","3","","","7631153","2253","2253","gin","315","5802757","5802756"
"7837010","1","7837044","","2011-10-20 13:55:07","","48","15741","<p>Is it true that javax.inject annotations can function as direct replacements for com.google.inject?</p>

<p>So that, if I replaced all my current guice/gin annotations with those from javax.inject, my app would compile and run just fine?</p>

<p>First, does javax.inject cover all the bases that google.inject cover?</p>
","140803","","140803","","2011-10-21 13:49:52","2016-04-22 09:30:51","Replacing com.google.inject with javax.inject","<java><gwt><dependency-injection><guice><gin>","4","1","6","","","7837010","2253","2253","gin","315","5802757","5802756"
"7963420","1","","","2011-11-01 07:04:38","","-1","756","<p>HELP WITH THIS ERROR PLEASE!</p>

<p>Compiling module com.myapp.n.N
   Scanning for additional dependencies: file:/C:/development/n5fix/nube/src/com/myapp/n/client/N.java
      Computing all possible rebind results for 'com.diddiasix.nube.client.gin.GinServiceInjector'
         Rebinding com.myapp.n.client.gin.GinServiceInjector
            Invoking generator com.google.gwt.inject.rebind.GinjectorGenerator
               [ERROR] Generator 'com.google.gwt.inject.rebind.GinjectorGenerator' threw an exception while rebinding 'com.diddiasix.nube.client.gin.GinServiceInjector'
com.google.inject.CreationException: Guice creation errors:</p>

<p>1) No implementation for javax.inject.Provider was bound.
  while locating javax.inject.Provider
    for parameter 9 at com.google.gwt.inject.rebind.BindingsProcessor.(BindingsProcessor.java:210)
  at com.google.gwt.inject.rebind.GinjectorGeneratorModule.configure(GinjectorGeneratorModule.java:59)</p>
","301808","","","","","2013-08-06 09:37:41","javax.inject GWT error","<gwt><guice><gin>","2","2","","","","7963420","2253","2253","gin","315","5802757","5802756"
"8328991","1","8329147","","2011-11-30 16:03:42","","0","591","<p>Can I add binds to a GIN module dynamically?</p>

<p>For example, having a module ""ExampleModule,"" and calling a static method on it, eg:</p>

<pre><code>bind (Test.class, TestImpl.class);
</code></pre>

<p>and GIN do the bind automatically?</p>

<p>Or maybe using annotations?</p>

<p>Thanks in advance.</p>
","405013","","453005","","2011-11-30 16:12:00","2011-11-30 16:14:19","Dynamically add Binds to a GIN Module","<java><gwt><guice><gin><gwt-platform>","1","0","2","","","8328991","2253","2253","gin","315","5802757","5802756"
"8379247","1","8383573","","2011-12-04 22:52:59","","7","4651","<p>I have a webapp that use GIN to inject dependencies at entry point.</p>

<pre><code>private InjectorService injector = GWT.create(InjectorService.class);
</code></pre>

<hr>

<pre><code>@GinModules({PlaceContollerInject.class, RootViewInject.class})
public interface InjectorService extends Ginjector {

  RootView getRootView();
  PlaceController getPlaceConroller();

}
</code></pre>

<hr>

<pre><code>public class RootViewInject extends AbstractGinModule {

  @Override
  protected void configure() {
    bind(RootView.class).to(RootViewImpl.class);
  }
}
</code></pre>

<p>I need a mobile version that use different RootView implementation. Dependencies are described in the following module</p>

<pre><code>public class RootViewMobileInject extends AbstractGinModule {

  @Override
  protected void configure() {
    bind(RootView.class).to(RootViewMobileImpl.class);
  }
}
</code></pre>

<p>The question is how to choose needed dependency conditionally whether we need mobile or default version.
I've seen <a href=""https://stackoverflow.com/questions/7631153/gwt-gin-multiple-implementations"">GWT-GIN Multiple Implementations</a>, but haven't figured out that solution because the Provider breaks the dependencies' chain and the Factory Pattern breaks testability. 
In ""Big Modular Java with Guice"" video <a href=""http://www.youtube.com/watch?v=hBVJbzAagfs&amp;feature=player_embedded"" rel=""nofollow noreferrer"">here (12 minute)</a> Guice's injector with modules was presented as a replacement to Factories. So my question is should I create different Ginjector for mobile and default versions (like MobileFactory and DefaultFactory) of my app or it would be bad practice and I should configure one instance of Ginjector with all needed versions. For example with the annotation bindings like this.</p>

<pre><code>public class RootViewMobileInject extends AbstractGinModule {

  @Override
  protected void configure() {
    bind(RootView.class).annotatedWith(Mobile.class).to(RootViewMobileImpl.class);
  }
}
</code></pre>

<p>and use @Mobile annotated bindings at GWT entry point</p>

<pre><code>  @Inject
  private void setMobileRootView(@Mobile RootView rw) {
    this.rw = rw;
  }
</code></pre>

<hr>

<p>In such a simplified example as above it might be possible. But if an application have more dependencies which need mobile and default versions. It looks like back to untestable ""ugly"" (as at Guice's presentation was said) factories.
Sorry for my English. Any help is appreciated.</p>
","791892","","-1","","2017-05-23 12:15:33","2012-08-01 17:05:13","Guice/Gin. How to inject multiple implementations","<gwt><guice><gin>","2","1","3","","","8379247","2253","2253","gin","315","5802757","5802756"
"8390019","1","8393399","","2011-12-05 18:27:38","","1","519","<p>I have a custom deferred binder (rebind implementation) that instantiates objects. I would like to have some dependencies (@Inject annotated setter methods) within the instance returned by GWT.create() fulfilled by GIN. Is this possible?</p>

<p>So, given code such as:</p>

<pre><code>Foo foo = GWT.create(Foo.class);
</code></pre>

<p>if foo's final implementation has:</p>

<pre><code>@Inject
public void setBar(Bar bar) {
    ...
}
</code></pre>

<p>how do I get bar injected into the returned foo instance automatically by GIN? </p>
","229896","","","","","2011-12-05 23:29:41","Injecting with Gin into instance created by GWT.create","<gwt><gin>","1","0","","","","8390019","2253","2253","gin","315","5802757","5802756"
"8514975","1","","","2011-12-15 04:04:59","","0","475","<p>How can the constant be bound by program/class with gwt/gin?</p>

<p>Instead of:</p>

<p>bindConstant().annotatedWith(AString.class).to(""XYZ"");</p>

<p>We need: ( Obviously, it doesn't compile )</p>

<p>bindConstant().annotatedWith(AString.class).to(CustomStringProvider.class);</p>

<p>Because this constant is stored in cookie/offline storage.</p>
","514748","","514748","","2011-12-15 04:13:10","2011-12-15 14:52:41","bind constant by program/class with gwt/gin","<gwt><constants><gin>","1","0","","","","8514975","2253","2253","gin","315","5802757","5802756"
"8652534","1","8657530","","2011-12-28 06:15:11","","3","1073","<p>I am using GWTP (MVP framework by Google) with GWT 2.3.
I want to use GWT code splitting with my presenters.</p>

<p>I know about <code>@ProxyCodeSplit</code> annotation in Presenters. Like below</p>

<pre><code>@ProxyCodeSplit
@UseGatekeeper(LoggedInGatekeeper.class)
public interface MyProxy extends Proxy&lt;MainPagePresenter&gt; {
}
</code></pre>

<p>Is this sufficient ? Or Do I need to dig out GWT Code Splitting which provides <code>A call to GWT.runAsync</code> like <a href=""http://code.google.com/webtoolkit/doc/latest/DevGuideCodeSplitting.html"" rel=""nofollow"">Here</a></p>
","559026","","559026","","2011-12-28 06:22:22","2011-12-28 15:07:32","GWTP Code Splitting","<gwt><gin><gwt-platform>","1","0","1","","","8652534","2253","2253","gin","315","5802757","5802756"
"8701215","1","","","2012-01-02 13:09:32","","0","299","<p>Please explain the following statement :
<strong>Method injection</strong> <em>can be useful if you don't control a class's instantiation. You can also use it if you have a superclass that needs some dependencies. (Constructor injection makes this difficult.)</em></p>

<p>How does Construtor injection makes this difficult ????
Thanks</p>
","1119283","","","","","2012-01-02 13:09:32","Method injection using GUICE","<gin>","0","2","","","","8701215","2253","2253","gin","315","5802757","5802756"
"8732270","1","8732487","","2012-01-04 18:52:23","","2","1900","<p>is there a way to use dependency injection in a widget, that is created via ui binding? </p>

<p>Suppose I have a simple widget (in package com.example.client.ui.widget):</p>

<pre><code>public class Foo extends Composite {

    private final EventBus eventBus;

    @Inject
    public Foo(final EventBus eventBus) {
        this.eventBus = eventBus;
        // create ui
    }
}
</code></pre>

<p>and then I have a view that is defined via ui binding which uses this widget. eg:</p>

<pre><code>&lt;ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
    xmlns:g='urn:import:com.google.gwt.user.client.ui'
    xmlns:app='urn:import:com.example.client.ui.widget'&gt;

    &lt;g:HorizontalPanel&gt;
        &lt;app:Foo/&gt;
    &lt;/g:HorizontalPanel&gt;
&lt;/ui:UiBinder&gt;
</code></pre>

<p>Doing it like this does not work, because of the no-arg constructor constraint for widgets that are used in ui binding. But wouldn't it be nice if the GWT compiler just uses GIN if there is an @Inject annotation? Or can this be done in any other way? Maybe I totally miss the concept of GIN and GWT, if so, any hints are much appreciated.</p>

<p>Thanks in advance, 
Markus</p>
","979457","","","","","2012-01-20 10:28:25","Use gwt ui-binding in conjunction with google-gin","<gwt><uibinder><gin>","1","2","0","","","8732270","2253","2253","gin","315","5802757","5802756"
"8752027","1","8785379","","2012-01-06 00:48:22","","0","333","<p>I am using an MVP architecture (or at least an approximation of one) and have a hierarchy of presenters, with similarly nested views. I'll stick to the first 2 levels for simplicity:</p>

<p>AppPresenter/AppView at the top level. DocumentListPresenter/DocumentListView and TranslationPresenter/TranslationView at the second level.</p>

<p>The two second level views are added to a panel on the top level view as widgets, but at the moment this is done by injecting the two second level presenters into the top level presenter, then having the top level presenter pass their views to its view through setter methods.</p>

<p>This seems a bit of a roundabout way of doing things. Is it possible with Gin to inject the second level views into the top level view without the presenters being involved at all?</p>
","297938","","","","","2012-01-09 07:59:20","Inject views into other views with Gin","<gwt-mvp><gin>","1","1","","","","8752027","2253","2253","gin","315","5802757","5802756"
"8990617","1","","","2012-01-24 16:44:29","","2","271","<p>I am trying to dynamically generate some set of event handlers (using <code>com.google.gwt.core.ext.Generator</code> subclass). The whole generation process works fine, my generated handlers accepts EventBus via setter injection (@Inject annotation) and the whole idea is that these automagically generated handlers register themselves in the (injected) EventBus under the hood. The problem is that all these handlers must be somehow instantiated. GIN does not know anything about them until they will be bound in GIN module; something like below:</p>

<pre><code>bind(MyDynamicallyGeneratedHandler.class).asEagerSingleton();
</code></pre>

<p>The problem with this code is that I have to generate gin module also (which will contain all bind(...) instructions). It works well but I cannot install generated module (@Inject it) into another not generated module so that its bind instructions are executed (as a result of install(MyDynamicModule.class)). I tried dirty tricks with static injection and providers - all without success. </p>

<p>Is there any way to configure dynamically generated GIN module? Or maybe is there any way to instantiate dynamically generated handlers so that setter injection (and thus event bus registration) happens? </p>

<p>Here is sample code snippet:</p>

<pre><code>// it is standard interface
public interace DynamicHandler {
  @Inject
  void setEventBus(EventBus eventBus);
}

// one of dynamically generated handlers
// where (how) to instantiate me?
public class MyHandler implements DynamicHandler {

  @Inject
  AnotherHandlerSpecificComponent component    

  void setEventBus(EventBus eventBus) {
    eventBus.register(...); // register myself
  }
}
</code></pre>

<p>Important thing to note is that all these dynamically generated handlers have some other dependencies @Injected (apart from EventBus). And these dependencies (their types) ale handler-specific (<code>AnotherHandlerSpecificComponent</code> in the example above). So what I need to do is to instantiate these handlers in a way that triggers GIN injection (I cannot, for example, inject dependencies manually).</p>

<p>Thanks in advance for any clues. I am totally stucked...</p>
","577812","","577812","","2012-01-24 21:15:13","2012-01-24 21:28:43","Binding generated classes in gin","<java><gwt><gin>","1","1","1","","","8990617","2253","2253","gin","315","5802757","5802756"
"9005066","1","9006859","","2012-01-25 15:16:50","","2","862","<p>I have circural dependency problems in a GWT project set (""Main project"", ""Widgets project"", ""Service adapter project""). Main references widgets and service adapters. Widgets reference service adapters. And here comes the problem. I would like to use an <code>EventBus</code> practically everywhere, injected. Where should I put my Ginjector interface?</p>

<p>It has to be usable from every project and has to reference classes from every project too, to be able to inject classes from different projects. This is obviously uncompilable.</p>

<p>I thought of using a separate Ginjector for widgets and one for only the <code>EventBus</code>. If two separate Ginjectors use two separate <code>GinModules</code> both containing <code>@Singleton</code> <code>EventBus</code> bindings, the two getters will return the same <code>EventBus</code> instances or not?</p>

<p>Note: It's a Gin, not a Guice question.</p>
","487534","","","","","2012-01-25 22:00:10","Using @Singleton in two Ginjector instances","<java><gwt><guice><gin>","2","0","","","","9005066","2253","2253","gin","315","5802757","5802756"
"9016009","1","9020942","","2012-01-26 09:24:32","","4","516","<p>I have one application that contains sub-applications. I would like to segregate the GIN injection so that each sub-application can have separate instances of the same core shared classes. I also want the injector to supply classes from some core modules to all sub-applications, so that singleton instances can be shared. e.g.</p>

<pre><code>GIN Modules:
  Core - shared
  MetadataCache - one per sub-application
  UserProvider - one per sub-application
</code></pre>

<p>In Guice I can do this using <code>createChildInjector</code>, but I can't see an obvious equivalent in GIN.</p>

<p>Can I achieve something similar in GIN?</p>
","4591","","","","","2012-01-27 14:01:12","Does GIN support anything like child injectors?","<java><gwt><gin>","2","0","1","","","9016009","2253","2253","gin","315","5802757","5802756"
"9211762","1","9212092","","2012-02-09 13:29:55","","1","719","<p>Im trying to do my first steps with GWT/GIN.</p>

<p>Ive downloaded the hellomvp example from google and followed this <a href=""http://www.wanderingcanadian.ca/hello-mvp-with-gin"" rel=""nofollow"" title=""tutorialquot;"">tutorial</a> to get started with gin.</p>

<p>My problem is about this line in the configure-method of the HelloGinModule-class:</p>

<pre><code>bind(ActivityMapper.class).to(AppActivityMapper.class).in(Singleton.class);
</code></pre>

<p>In my point of view it should bind my class ""AppActivityMapper"" as the active ActityManager.
But in fact the class constructor (or any method of the class) is never called, so the fired events are not caught.</p>

<p>The class AppActivityMapper looks like this:</p>

<pre><code>public class AppActivityMapper implements ActivityMapper {

       Provider&lt;HelloActivity&gt; helloActivityProvider;
       Provider&lt;GoodbyeActivity&gt; goodbyeActivityProvider;

       @Inject
       public AppActivityMapper(final Provider&lt;HelloActivity&gt; helloActivityProvider, final Provider&lt;GoodbyeActivity&gt; goodbyeActivityProvider) {
           this.helloActivityProvider = helloActivityProvider;
           this.goodbyeActivityProvider = goodbyeActivityProvider;
       }


       @Override
       public Activity getActivity(Place place) {
           if (place instanceof HelloPlace) {
               return helloActivityProvider.get();
           } else if (place instanceof GoodbyePlace) {
               return goodbyeActivityProvider.get();            
           }

           return null;
       }
}
</code></pre>

<p>In my example this code from my View-Class is called after clicking on a link:</p>

<pre><code>presenter.goTo(new GoodbyePlace(name)); 
</code></pre>

<p>The event is fired to the event bus. But nothing happens. </p>

<p>Thanks in advance</p>
","799526","","","","","2012-02-09 14:31:31","GWT - binding activityMapper with GIN not working","<gwt><gin>","1","0","","","","9211762","2253","2253","gin","315","5802757","5802756"
"9237199","1","9266823","","2012-02-11 02:04:04","","3","1668","<p>I'm using Gin 1.5 and GWT 2.4 The project built just fine before I added Gin, but now it doesn't:</p>

<pre><code>    [ERROR] [foo] - Generator 'com.google.gwt.inject.rebind.GinjectorGenerator' threw an exception while rebinding 'com.foo.html.client.FooGinjector'
</code></pre>

<p>The error is:</p>

<pre><code>20:58:04.252 [ERROR] [foo] Generator 'com.google.gwt.inject.rebind.GinjectorGenerator' threw an exception while rebinding 'com.foo.html.client.FooGinjector'
com.google.inject.internal.ComputationException: java.lang.NoClassDefFoundError: com/google/inject/assistedinject/Assisted
    at com.google.inject.internal.MapMaker$StrategyImpl.compute(MapMaker.java:553)
    at com.google.inject.internal.MapMaker$StrategyImpl.compute(MapMaker.java:419)
    at com.google.inject.internal.CustomConcurrentHashMap$ComputingImpl.get(CustomConcurrentHashMap.java:2041)
    at com.google.inject.internal.FailableCache.get(FailableCache.java:46)
    at com.google.inject.internal.ConstructorInjectorStore.get(ConstructorInjectorStore.java:48)
    at com.google.inject.internal.ConstructorBindingImpl.initialize(ConstructorBindingImpl.java:121)
    at com.google.inject.internal.InjectorImpl.initializeJitBinding(InjectorImpl.java:443)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBinding(InjectorImpl.java:698)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBindingRecursive(InjectorImpl.java:630)
    at com.google.inject.internal.InjectorImpl.getJustInTimeBinding(InjectorImpl.java:223)
    at com.google.inject.internal.InjectorImpl.getBindingOrThrow(InjectorImpl.java:174)
    at com.google.inject.internal.InjectorImpl.getInternalFactory(InjectorImpl.java:704)
    at com.google.inject.internal.FactoryProxy.notify(FactoryProxy.java:45)
    at com.google.inject.internal.BindingProcessor.runCreationListeners(BindingProcessor.java:238)
    at com.google.inject.internal.InternalInjectorCreator.initializeStatically(InternalInjectorCreator.java:143)
    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:116)
    at com.google.inject.InjectorBuilder.build(InjectorBuilder.java:101)
    at com.google.inject.Guice.createInjector(Guice.java:105)
    at com.google.inject.Guice.createInjector(Guice.java:90)
    at com.google.gwt.inject.rebind.GinjectorGenerator.generate(GinjectorGenerator.java:47)
    at com.google.gwt.core.ext.GeneratorExtWrapper.generate(GeneratorExtWrapper.java:48)
    at com.google.gwt.core.ext.GeneratorExtWrapper.generateIncrementally(GeneratorExtWrapper.java:60)
    at com.google.gwt.dev.javac.StandardGeneratorContext.runGeneratorIncrementally(StandardGeneratorContext.java:647)
    at com.google.gwt.dev.cfg.RuleGenerateWith.realize(RuleGenerateWith.java:41)
    at com.google.gwt.dev.shell.StandardRebindOracle$Rebinder.rebind(StandardRebindOracle.java:78)
    at com.google.gwt.dev.shell.StandardRebindOracle.rebind(StandardRebindOracle.java:268)
    at com.google.gwt.dev.shell.ShellModuleSpaceHost.rebind(ShellModuleSpaceHost.java:141)
    at com.google.gwt.dev.shell.ModuleSpace.rebind(ModuleSpace.java:585)
    at com.google.gwt.dev.shell.ModuleSpace.rebindAndCreate(ModuleSpace.java:455)
    at com.google.gwt.dev.shell.GWTBridgeImpl.create(GWTBridgeImpl.java:49)
    at com.google.gwt.core.client.GWT.create(GWT.java:97)
    at com.foo.html.client.FooGameHtml.&lt;init&gt;(FooGameHtml.java:39)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)
    at java.lang.reflect.Constructor.newInstance(Unknown Source)
    at com.google.gwt.dev.shell.ModuleSpace.rebindAndCreate(ModuleSpace.java:465)
    at com.google.gwt.dev.shell.ModuleSpace.onLoad(ModuleSpace.java:375)
    at com.google.gwt.dev.shell.OophmSessionHandler.loadModule(OophmSessionHandler.java:200)
    at com.google.gwt.dev.shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:525)
    at com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer.java:363)
    at java.lang.Thread.run(Unknown Source)
Caused by: java.lang.NoClassDefFoundError: com/google/inject/assistedinject/Assisted
    at java.lang.Class.getDeclaredConstructors0(Native Method)
    at java.lang.Class.privateGetDeclaredConstructors(Unknown Source)
    at java.lang.Class.getDeclaredConstructors(Unknown Source)
    at com.google.inject.spi.InjectionPoint.forConstructorOf(InjectionPoint.java:232)
    at com.google.inject.internal.ConstructorBindingImpl.create(ConstructorBindingImpl.java:92)
    at com.google.inject.internal.InjectorImpl.createUninitializedBinding(InjectorImpl.java:489)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBinding(InjectorImpl.java:696)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBindingRecursive(InjectorImpl.java:630)
    at com.google.inject.internal.InjectorImpl.getJustInTimeBinding(InjectorImpl.java:223)
    at com.google.inject.internal.InjectorImpl.getBindingOrThrow(InjectorImpl.java:174)
    at com.google.inject.internal.InjectorImpl.createProviderBinding(InjectorImpl.java:281)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBinding(InjectorImpl.java:662)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBindingRecursive(InjectorImpl.java:630)
    at com.google.inject.internal.InjectorImpl.getJustInTimeBinding(InjectorImpl.java:223)
    at com.google.inject.internal.InjectorImpl.getBindingOrThrow(InjectorImpl.java:174)
    at com.google.inject.internal.InjectorImpl.getInternalFactory(InjectorImpl.java:704)
    at com.google.inject.internal.InjectorImpl.createParameterInjector(InjectorImpl.java:772)
    at com.google.inject.internal.InjectorImpl.getParametersInjectors(InjectorImpl.java:760)
    at com.google.inject.internal.ConstructorInjectorStore.createConstructor(ConstructorInjectorStore.java:55)
    at com.google.inject.internal.ConstructorInjectorStore.access$000(ConstructorInjectorStore.java:27)
    at com.google.inject.internal.ConstructorInjectorStore$1.create(ConstructorInjectorStore.java:35)
    at com.google.inject.internal.ConstructorInjectorStore$1.create(ConstructorInjectorStore.java:33)
    at com.google.inject.internal.FailableCache$1.apply(FailableCache.java:35)
    at com.google.inject.internal.MapMaker$StrategyImpl.compute(MapMaker.java:549)
    at com.google.inject.internal.MapMaker$StrategyImpl.compute(MapMaker.java:419)
    at com.google.inject.internal.CustomConcurrentHashMap$ComputingImpl.get(CustomConcurrentHashMap.java:2041)
    at com.google.inject.internal.FailableCache.get(FailableCache.java:46)
    at com.google.inject.internal.ConstructorInjectorStore.get(ConstructorInjectorStore.java:48)
    at com.google.inject.internal.ConstructorBindingImpl.initialize(ConstructorBindingImpl.java:121)
    at com.google.inject.internal.InjectorImpl.initializeJitBinding(InjectorImpl.java:443)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBinding(InjectorImpl.java:698)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBindingRecursive(InjectorImpl.java:630)
    at com.google.inject.internal.InjectorImpl.getJustInTimeBinding(InjectorImpl.java:223)
    at com.google.inject.internal.InjectorImpl.getBindingOrThrow(InjectorImpl.java:174)
    at com.google.inject.internal.InjectorImpl.getInternalFactory(InjectorImpl.java:704)
    at com.google.inject.internal.FactoryProxy.notify(FactoryProxy.java:45)
    at com.google.inject.internal.BindingProcessor.runCreationListeners(BindingProcessor.java:238)
    at com.google.inject.internal.InternalInjectorCreator.initializeStatically(InternalInjectorCreator.java:143)
    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:116)
    at com.google.inject.InjectorBuilder.build(InjectorBuilder.java:101)
    at com.google.inject.Guice.createInjector(Guice.java:105)
    at com.google.inject.Guice.createInjector(Guice.java:90)
    at com.google.gwt.inject.rebind.GinjectorGenerator.generate(GinjectorGenerator.java:47)
    at com.google.gwt.core.ext.GeneratorExtWrapper.generate(GeneratorExtWrapper.java:48)
    at com.google.gwt.core.ext.GeneratorExtWrapper.generateIncrementally(GeneratorExtWrapper.java:60)
    at com.google.gwt.dev.javac.StandardGeneratorContext.runGeneratorIncrementally(StandardGeneratorContext.java:647)
    at com.google.gwt.dev.cfg.RuleGenerateWith.realize(RuleGenerateWith.java:41)
    at com.google.gwt.dev.shell.StandardRebindOracle$Rebinder.rebind(StandardRebindOracle.java:78)
    at com.google.gwt.dev.shell.StandardRebindOracle.rebind(StandardRebindOracle.java:268)
    at com.google.gwt.dev.shell.ShellModuleSpaceHost.rebind(ShellModuleSpaceHost.java:141)
    at com.google.gwt.dev.shell.ModuleSpace.rebind(ModuleSpace.java:585)
    at com.google.gwt.dev.shell.ModuleSpace.rebindAndCreate(ModuleSpace.java:455)
    at com.google.gwt.dev.shell.GWTBridgeImpl.create(GWTBridgeImpl.java:49)
    at com.google.gwt.core.client.GWT.create(GWT.java:97)
    at com.foo.html.client.FooGameHtml.&lt;init&gt;(FooGameHtml.java:39)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)
    at java.lang.reflect.Constructor.newInstance(Unknown Source)
    at com.google.gwt.dev.shell.ModuleSpace.rebindAndCreate(ModuleSpace.java:465)
    at com.google.gwt.dev.shell.ModuleSpace.onLoad(ModuleSpace.java:375)
    at com.google.gwt.dev.shell.OophmSessionHandler.loadModule(OophmSessionHandler.java:200)
    at com.google.gwt.dev.shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:525)
    at com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer.java:363)
    at java.lang.Thread.run(Unknown Source)
Caused by: java.lang.ClassNotFoundException: com.google.inject.assistedinject.Assisted
    at java.net.URLClassLoader$1.run(Unknown Source)
    at java.net.URLClassLoader$1.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(Unknown Source)
    at java.lang.ClassLoader.loadClass(Unknown Source)
    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)
    at java.lang.ClassLoader.loadClass(Unknown Source)
    at java.lang.Class.getDeclaredConstructors0(Native Method)
    at java.lang.Class.privateGetDeclaredConstructors(Unknown Source)
    at java.lang.Class.getDeclaredConstructors(Unknown Source)
    at com.google.inject.spi.InjectionPoint.forConstructorOf(InjectionPoint.java:232)
    at com.google.inject.internal.ConstructorBindingImpl.create(ConstructorBindingImpl.java:92)
    at com.google.inject.internal.InjectorImpl.createUninitializedBinding(InjectorImpl.java:489)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBinding(InjectorImpl.java:696)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBindingRecursive(InjectorImpl.java:630)
    at com.google.inject.internal.InjectorImpl.getJustInTimeBinding(InjectorImpl.java:223)
    at com.google.inject.internal.InjectorImpl.getBindingOrThrow(InjectorImpl.java:174)
    at com.google.inject.internal.InjectorImpl.createProviderBinding(InjectorImpl.java:281)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBinding(InjectorImpl.java:662)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBindingRecursive(InjectorImpl.java:630)
    at com.google.inject.internal.InjectorImpl.getJustInTimeBinding(InjectorImpl.java:223)
    at com.google.inject.internal.InjectorImpl.getBindingOrThrow(InjectorImpl.java:174)
    at com.google.inject.internal.InjectorImpl.getInternalFactory(InjectorImpl.java:704)
    at com.google.inject.internal.InjectorImpl.createParameterInjector(InjectorImpl.java:772)
    at com.google.inject.internal.InjectorImpl.getParametersInjectors(InjectorImpl.java:760)
    at com.google.inject.internal.ConstructorInjectorStore.createConstructor(ConstructorInjectorStore.java:55)
    at com.google.inject.internal.ConstructorInjectorStore.access$000(ConstructorInjectorStore.java:27)
    at com.google.inject.internal.ConstructorInjectorStore$1.create(ConstructorInjectorStore.java:35)
    at com.google.inject.internal.ConstructorInjectorStore$1.create(ConstructorInjectorStore.java:33)
    at com.google.inject.internal.FailableCache$1.apply(FailableCache.java:35)
    at com.google.inject.internal.MapMaker$StrategyImpl.compute(MapMaker.java:549)
    at com.google.inject.internal.MapMaker$StrategyImpl.compute(MapMaker.java:419)
    at com.google.inject.internal.CustomConcurrentHashMap$ComputingImpl.get(CustomConcurrentHashMap.java:2041)
    at com.google.inject.internal.FailableCache.get(FailableCache.java:46)
    at com.google.inject.internal.ConstructorInjectorStore.get(ConstructorInjectorStore.java:48)
    at com.google.inject.internal.ConstructorBindingImpl.initialize(ConstructorBindingImpl.java:121)
    at com.google.inject.internal.InjectorImpl.initializeJitBinding(InjectorImpl.java:443)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBinding(InjectorImpl.java:698)
    at com.google.inject.internal.InjectorImpl.createJustInTimeBindingRecursive(InjectorImpl.java:630)
    at com.google.inject.internal.InjectorImpl.getJustInTimeBinding(InjectorImpl.java:223)
    at com.google.inject.internal.InjectorImpl.getBindingOrThrow(InjectorImpl.java:174)
    at com.google.inject.internal.InjectorImpl.getInternalFactory(InjectorImpl.java:704)
    at com.google.inject.internal.FactoryProxy.notify(FactoryProxy.java:45)
    at com.google.inject.internal.BindingProcessor.runCreationListeners(BindingProcessor.java:238)
    at com.google.inject.internal.InternalInjectorCreator.initializeStatically(InternalInjectorCreator.java:143)
    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:116)
    at com.google.inject.InjectorBuilder.build(InjectorBuilder.java:101)
    at com.google.inject.Guice.createInjector(Guice.java:105)
    at com.google.inject.Guice.createInjector(Guice.java:90)
    at com.google.gwt.inject.rebind.GinjectorGenerator.generate(GinjectorGenerator.java:47)
    at com.google.gwt.core.ext.GeneratorExtWrapper.generate(GeneratorExtWrapper.java:48)
    at com.google.gwt.core.ext.GeneratorExtWrapper.generateIncrementally(GeneratorExtWrapper.java:60)
    at com.google.gwt.dev.javac.StandardGeneratorContext.runGeneratorIncrementally(StandardGeneratorContext.java:647)
    at com.google.gwt.dev.cfg.RuleGenerateWith.realize(RuleGenerateWith.java:41)
    at com.google.gwt.dev.shell.StandardRebindOracle$Rebinder.rebind(StandardRebindOracle.java:78)
    at com.google.gwt.dev.shell.StandardRebindOracle.rebind(StandardRebindOracle.java:268)
    at com.google.gwt.dev.shell.ShellModuleSpaceHost.rebind(ShellModuleSpaceHost.java:141)
    at com.google.gwt.dev.shell.ModuleSpace.rebind(ModuleSpace.java:585)
    at com.google.gwt.dev.shell.ModuleSpace.rebindAndCreate(ModuleSpace.java:455)
    at com.google.gwt.dev.shell.GWTBridgeImpl.create(GWTBridgeImpl.java:49)
    at com.google.gwt.core.client.GWT.create(GWT.java:97)
    at com.foo.html.client.FooGameHtml.&lt;init&gt;(FooGameHtml.java:39)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)
    at java.lang.reflect.Constructor.newInstance(Unknown Source)
    at com.google.gwt.dev.shell.ModuleSpace.rebindAndCreate(ModuleSpace.java:465)
    at com.google.gwt.dev.shell.ModuleSpace.onLoad(ModuleSpace.java:375)
    at com.google.gwt.dev.shell.OophmSessionHandler.loadModule(OophmSessionHandler.java:200)
    at com.google.gwt.dev.shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:525)
    at com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer.java:363)
    at java.lang.Thread.run(Unknown Source)
</code></pre>

<p>What am I doing wrong? I have <code>guice-assistedinject-snapshot.jar</code> and <code>guice-snapshot.jar</code> on my classpath, in that order.</p>

<p>The line that causes the error is in my entry point class is:</p>

<pre><code>private final FooGinjector injector = GWT.create(FooGinjector.class);
</code></pre>

<p>FooGinjector.java:</p>

<pre><code>@GinModules(FooGinModule.class)
public interface FooGinjector extends Ginjector {

  EventBus eventBus();

  PlaceHistoryHandler historyHandler();

}
</code></pre>
","147601","","","","","2012-02-19 11:23:24","Trouble Compiling with Gin","<java><gwt><dependency-injection><guice><gin>","2","1","2","","","9237199","2253","2253","gin","315","5802757","5802756"
"9267403","1","","","2012-02-13 20:17:59","","4","1371","<p>I'm trying to use Gin in MVP GWT 2.4. In my module, I have:</p>

<pre><code>import com.google.web.bindery.event.shared.EventBus;
import com.google.web.bindery.event.shared.SimpleEventBus;

    @Override
      protected void configure() {
        bind(EventBus.class).to(SimpleEventBus.class).in(Singleton.class);
        ...
      }
</code></pre>

<p>The above code uses the new <code>com.google.web.bindery.event.shared.EventBus</code>. The problem comes when I want to inject the event bus in MVP Activities that implement Activity:</p>

<pre><code>package com.google.gwt.activity.shared;

import com.google.gwt.event.shared.EventBus;
import com.google.gwt.user.client.ui.AcceptsOneWidget;

public interface Activity {

  ...

  void start(AcceptsOneWidget panel, EventBus eventBus);
}
</code></pre>

<p><code>Activity</code> uses the deprecated <code>com.google.gwt.event.shared.EventBus</code>. How can I reconcile the two? Obviously, if I ask for the deprecated type of EventBus, then Gin will complain because I didn't specify a binding for it.</p>

<p><strong>Update</strong>: This will allow the app to build, but now there are two different <code>EventBus</code>s, which is awful:</p>

<pre><code> protected void configure() {
    bind(com.google.gwt.event.shared.EventBus.class).to(
        com.google.gwt.event.shared.SimpleEventBus.class).in(Singleton.class);
    bind(EventBus.class).to(SimpleEventBus.class).in(Singleton.class);
    ...
</code></pre>
","147601","","147601","","2012-02-13 21:17:30","2013-06-06 00:16:03","Trouble with EventBus and Gin in Gwt 2.4","<java><gwt><mvp><gin><event-bus>","4","1","","","","9267403","2253","2253","gin","315","5802757","5802756"
"9275045","1","","","2012-02-14 10:09:17","","0","501","<p>In my GWTP application I need to Inject HttpServletRequest, HttpSession as instance variable of ActionHandler.</p>

<p>My ActionHandler is initialized through Spring.</p>

<p>I can't get current Request object through Spring as it instantiates just POJO.</p>

<p>I am thinking about mixing GIN and Spring.</p>

<p>Would I be able inject HttpServletRequest using GIN in my ActionHandler which is instantiated through Spring?????</p>

<p>Is it possible to do following way??</p>



<pre><code>@Configuration
@Import(DefaultModule.class)
public class ServerModule extends HandlerModule
{ 
    @Bean
    public UserVerficationActionHandler getUserVerificationActionActionHandler()
    {
        return new UserVerficationActionHandler();
    }
}
</code></pre>



<pre><code>public class UserVerficationActionHandler implements ActionHandler&lt;UserVerficationAction, UserVerficationActionResult&gt;
{
@Autowired
private UserService userService;

private Provider&lt;HttpServletRequest&gt; requestProvider;

@Inject
public UserVerficationActionHandler()
{
}

public UserVerficationActionResult execute(UserVerficationAction action, ExecutionContext context) throws ActionException
{
           ....
}
@Inject
public Provider&lt;HttpServletRequest&gt; setRequestProvider()
{
    return requestProvider;
}
}
</code></pre>

<p>-------ActionHandler Ends--------</p>

<p>Can somebody let me know Is it possible to do SetterInjection this way?</p>

<p>Second thing, if above is possible then will I be getting current request object using this method?</p>

<p>Thanks in advance.</p>

<p>Bhavesh.</p>
","556712","","556712","","2012-02-14 11:34:21","2012-02-14 11:34:21","Can I do setter injection using @Inject annotation","<gwt><guice><gin><gwt-platform>","0","4","","","","9275045","2253","2253","gin","315","5802757","5802756"
"9307222","1","","","2012-02-16 07:33:04","","1","157","<p>I hope my question is not to generic.</p>

<p>I created a framework in gwt/gxt which helps developer to create very quick a web application with a set of pre definied widgets.</p>

<p>Now over the days they want to have new functionality which are very related to a specific customer and I found it very difficult to extend my framework. I am using the MVP pattern on client side with GIN and GUICE on server side. The client components which needs to be extended also have related services on the server to load their data.</p>

<p>I already thought about creating new guice modules and over""bind""(dont know if this is the right word) the existing ones but than the developer has to rewrite the complete module or its service.</p>

<p>Does somebody already has some experiences with designing a framework with gwt on client and server side? If yes how can I provide my framework with easy possiblities to extend with customer specific stuff. Maybe there are some nice patterns out there which I could use.</p>

<p>Thanks a lot</p>
","859317","","","","","2012-05-03 02:03:06","Framework Extensibility based on GWT/GIN/GUICE","<gwt><guice><gin>","1","1","0","","","9307222","2253","2253","gin","315","5802757","5802756"
"9309049","1","","","2012-02-16 09:56:53","","0","411","<p>I've read some documentation and downloaded samples but I still got a question.
In most sample, the GIN module uses something like :</p>

<pre><code>bind(MainActivityMapper.class);
bind(VerticalMasterActivityMapper.class);
</code></pre>

<p>I don't understand what it does? If I remove it from the sample code, everything works perfectly.</p>

<p>Thanks for any answer.</p>
","602928","","","","","2012-02-16 14:47:25","What does the Google GIN method : bind(Class class)","<gwt><bind><gin>","1","0","","","","9309049","2253","2253","gin","315","5802757","5802756"
"9353385","1","9354527","","2012-02-19 21:24:14","","2","920","<p>Here is my Gin module:</p>

<pre><code>public class FooGinModule extends AbstractGinModule {

  @Override
  protected void configure() {
    ...

    bind(ActivityManager.class).asEagerSingleton();

    ...
  }

  @Provides
  @Singleton
  public ActivityManager getActivityManager(EventBus eventBus, SimplePanel display,
      ActivityMapper activityMapper) {
    final ActivityManager activityManager = new ActivityManager(activityMapper, eventBus);
    activityManager.setDisplay(display);
    return activityManager;
  }

}
</code></pre>

<p>When I try to gwt-compile, I get the following error:</p>

<blockquote>
  <p>[ERROR] No @Inject or default constructor found for class
  com.google.gwt.activity.shared.ActivityManager</p>
</blockquote>

<p>Am I specifying the <code>@Provides</code> method wrong?</p>
","147601","","","","","2012-02-19 23:48:08","Gin not finding @Provides method","<gwt><dependency-injection><gin>","1","0","","","","9353385","2253","2253","gin","315","5802757","5802756"
"9353395","1","9353834","","2012-02-19 21:26:13","","2","522","<p>I have a Ginjector:</p>

<pre><code>@GinModules(FooGinModule.class)
public interface FooGinjector extends Ginjector {

  ...

  PlaceHistoryHandler historyHandler();

}
</code></pre>

<p>Whenever I call <code>injector.historyHandler()</code>, I get a null pointer exception. (The <code>injector</code> itself is not null.) How can I debug this? The error message printed to Chrome's console is not helpful - it just says ""null pointer exception"".</p>
","147601","","","","","2012-02-19 22:19:29","How to debug Ginjector?","<gwt><dependency-injection><gin>","1","0","","","","9353395","2253","2253","gin","315","5802757","5802756"
"9364709","1","9365570","","2012-02-20 16:34:59","","1","541","<p>I'm using successfully GIN on my GWT projet. Now my RPC service will need data from other layer (Business Logic --> Data Access), in the old time I would have done singleton services with needed methods.
Something like 
    MyGwtServiceImpl.getData() --> MyServerSideService.getData() --> MyDaoGetDataFromDB()</p>

<p>But nowadays singleton are not really appreciated and I would like for testing purpose use the injection method.</p>

<p>I know all I need to know is install GUICE for server side, but I'm not really sure where the creation of the injector should be done. Usually it would be done in a main method, but here I'm using GWT.</p>

<p>Will there be conflict between GIN and GUICE lib?</p>

<p>Where should I put the injector creation ?  in the onModuleLoad ? I'm not sure since my application will be divided in several. </p>

<p>Thanks for helping!</p>

<hr>

<p><strong>Summary :</strong></p>

<ul>
<li>Follow the tutorial given by Thomas (The answer)</li>
<li><p>But for injection to work, don't forget to replace (delete in fact) in web.xml :</p>

<pre><code>&lt;servlet&gt;
    &lt;servlet-name&gt;MyService&lt;/servlet-name&gt;
    &lt;servlet-class&gt;com.myapp.MyServiceImpl&lt;/servlet-class&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;MyService&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/com.myapp/MyService&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
</code></pre></li>
<li><p>By in a Guice module :</p>

<pre><code> serve(""/com.myapp/MyService"").with(MyServiceImpl.class);
</code></pre></li>
</ul>
","602928","","602928","","2012-02-21 14:17:15","2012-02-21 14:17:15","Use GUICE next to GIN","<gwt><guice><gin>","1","0","1","","","9364709","2253","2253","gin","315","5802757","5802756"
"9365654","1","9366012","","2012-02-20 17:33:26","","3","1001","<p>I'm a bit lost with the use of Inject on variable.</p>

<p>I got this code working :</p>

<pre><code>private XXServiceAsync xxServiceAsync;

@Inject
protected IndexViewImpl(EventBus eventBus, XXServiceAsync tableManagementServiceAsync) {
    super(eventBus, mapper);

    this.xxServiceAsync = xxServiceAsync;
    initializeWidgets();
}
</code></pre>

<p>With this code, I can call my RPC service wherever I need in the class (On click ...)
I would like to clear a bit the code by injecting direcly in the variable ; doing so :</p>

<pre><code>@Inject
private XXServiceAsync xxServiceAsync;


protected IndexViewImpl(EventBus eventBus) {
    super(eventBus, mapper);
    initializeWidgets();
}
</code></pre>

<p>This always keep the Service to NULL.
Am I doing something wrong ? Is the GIN magic with rpc services meant to be done otherwise?</p>

<p>Thanks!</p>
","602928","","","","","2012-02-21 01:25:20","GIN @Inject on variable for Rpc Services","<gwt><dependency-injection><guice><inject><gin>","2","0","","","","9365654","2253","2253","gin","315","5802757","5802756"
"9403815","1","9404169","","2012-02-22 22:03:45","","1","991","<p>I'm trying to build and GWT MVP application using Guice and Gin. I added Guice and GIN jars to my Eclipse project but i'm stuck with this error:</p>

<pre><code>java.lang.NoClassDefFoundError: com/google/inject/internal/util/$Preconditions
</code></pre>

<p>I've done a quick Google search and <a href=""http://groups.google.com/group/google-web-toolkit/browse_thread/thread/2484550628c20624"" rel=""nofollow"">here</a> says the we need to recompile GIN against GWT SDK. Also, the <a href=""http://code.google.com/p/google-gin/wiki/GinTutorial"" rel=""nofollow"">Gin Tutorial</a> mention something about a compilation step.</p>

<p>Isn't enough to add GIN jars to the GWT project, or is mandatory to generate gin.jar from sources? How do i accomplish this with Eclipse (with Google Plugin)?</p>

<p>PS: I'm not using Maven in my Project. Only Eclipse and Google Tools
Another PS: Currently using Guice 3.0, Gin 1.5 and GWT 2.3</p>
","1193136","","1193136","","2012-02-22 22:18:44","2012-02-23 22:24:37","GWT, Guice and GIN compilation","<gwt><guice><gin>","2","2","","","","9403815","2253","2253","gin","315","5802757","5802756"
"9421397","1","","","2012-02-23 21:13:04","","1","3351","<p>My Gin module contains the following:</p>

<pre><code>  @Override
  protected void configure() {
    bind(HistoryWrapper.class).to(HistoryWrapperImpl.class);
    ...
  }
</code></pre>

<p>The types in question are:</p>

<pre><code>public interface HistoryWrapper {

  void newItem(String token);

}

public class HistoryWrapperImpl implements HistoryWrapper {

  @Override
  public void newItem(String token) {}

}
</code></pre>

<p>When I try to GWT compile, I get the following error:</p>

<pre><code>Compiling module com.foo.FooGame
   Validating newly compiled units
      Ignored 9 units with compilation errors in first pass.
Compile with -strict or with -logLevel set to TRACE or DEBUG to see all errors.
   Scanning for additional dependencies: file: FooGameHtml.java
      Computing all possible rebind results for 'com.foo.html.client.gin.BarGinjector'
         Rebinding com.foo.html.client.gin.BarGinjector
            Invoking generator com.google.gwt.inject.rebind.GinjectorGenerator
               [ERROR] Generator 'com.google.gwt.inject.rebind.GinjectorGenerator' threw an exception while rebinding 'com.foo.html.client.gin.BarGinjector'
java.lang.NullPointerException
    at com.google.gwt.inject.rebind.BindingsProcessor.createImplicitBinding(BindingsProcessor.java:498)
    at com.google.gwt.inject.rebind.BindingsProcessor.access$900(BindingsProcessor.java:99)
    at com.google.gwt.inject.rebind.BindingsProcessor$GuiceBindingVisitor.addImplicitBinding(BindingsProcessor.java:982)
    at com.google.gwt.inject.rebind.BindingsProcessor$GuiceBindingVisitor.visit(BindingsProcessor.java:972)
    at com.google.gwt.inject.rebind.BindingsProcessor$GuiceBindingVisitor.visit(BindingsProcessor.java:898)
    at com.google.inject.internal.UntargettedBindingImpl.acceptTargetVisitor(UntargettedBindingImpl.java:40)
    at com.google.gwt.inject.rebind.BindingsProcessor$GuiceElementVisitor.visit(BindingsProcessor.java:827)
    at com.google.gwt.inject.rebind.BindingsProcessor$GuiceElementVisitor.visit(BindingsProcessor.java:820)
    at com.google.inject.internal.BindingImpl.acceptVisitor(BindingImpl.java:92)
    at com.google.gwt.inject.rebind.BindingsProcessor.createBindingsForModules(BindingsProcessor.java:409)
    at com.google.gwt.inject.rebind.BindingsProcessor.process(BindingsProcessor.java:238)
    at com.google.gwt.inject.rebind.GinjectorGeneratorImpl.generate(GinjectorGeneratorImpl.java:76)
    at com.google.gwt.inject.rebind.GinjectorGenerator.generate(GinjectorGenerator.java:47)
    at com.google.gwt.core.ext.GeneratorExtWrapper.generate(GeneratorExtWrapper.java:48)
    at com.google.gwt.core.ext.GeneratorExtWrapper.generateIncrementally(GeneratorExtWrapper.java:60)
    at com.google.gwt.dev.javac.StandardGeneratorContext.runGeneratorIncrementally(StandardGeneratorContext.java:647)
    at com.google.gwt.dev.cfg.RuleGenerateWith.realize(RuleGenerateWith.java:41)
    at com.google.gwt.dev.shell.StandardRebindOracle$Rebinder.rebind(StandardRebindOracle.java:78)
    at com.google.gwt.dev.shell.StandardRebindOracle.rebind(StandardRebindOracle.java:268)
    at com.google.gwt.dev.shell.StandardRebindOracle.rebind(StandardRebindOracle.java:257)
    at com.google.gwt.dev.DistillerRebindPermutationOracle.getAllPossibleRebindAnswers(DistillerRebindPermutationOracle.java:91)
    at com.google.gwt.dev.jdt.WebModeCompilerFrontEnd.doFindAdditionalTypesUsingRebinds(WebModeCompilerFrontEnd.java:96)
    at com.google.gwt.dev.jdt.AbstractCompiler$Sandbox$CompilerImpl.process(AbstractCompiler.java:254)
    at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:444)
    at com.google.gwt.dev.jdt.AbstractCompiler$Sandbox$CompilerImpl.compile(AbstractCompiler.java:173)
    at com.google.gwt.dev.jdt.AbstractCompiler$Sandbox$CompilerImpl.compile(AbstractCompiler.java:288)
    at com.google.gwt.dev.jdt.AbstractCompiler$Sandbox$CompilerImpl.access$400(AbstractCompiler.java:139)
    at com.google.gwt.dev.jdt.AbstractCompiler.compile(AbstractCompiler.java:588)
    at com.google.gwt.dev.jdt.BasicWebModeCompiler.getCompilationUnitDeclarations(BasicWebModeCompiler.java:97)
    at com.google.gwt.dev.jdt.WebModeCompilerFrontEnd.getCompilationUnitDeclarations(WebModeCompilerFrontEnd.java:52)
    at com.google.gwt.dev.jjs.JavaToJavaScriptCompiler.precompile(JavaToJavaScriptCompiler.java:569)
    at com.google.gwt.dev.jjs.JavaScriptCompiler.precompile(JavaScriptCompiler.java:33)
    at com.google.gwt.dev.Precompile.precompile(Precompile.java:284)
    at com.google.gwt.dev.Precompile.precompile(Precompile.java:233)
    at com.google.gwt.dev.Precompile.precompile(Precompile.java:145)
    at com.google.gwt.dev.Compiler.run(Compiler.java:232)
    at com.google.gwt.dev.Compiler.run(Compiler.java:198)
    at com.google.gwt.dev.Compiler$1.run(Compiler.java:170)
    at com.google.gwt.dev.CompileTaskRunner.doRun(CompileTaskRunner.java:88)
    at com.google.gwt.dev.CompileTaskRunner.runWithAppropriateLogger(CompileTaskRunner.java:82)
    at com.google.gwt.dev.Compiler.main(Compiler.java:177)
   [ERROR] Errors in 'src/com/foo/html/client/FooGameHtml.java'
      [ERROR] Line 34:  Failed to resolve 'com.foo.html.client.gin.BarGinjector' via deferred binding
   Scanning for additional dependencies: jar:file:/C:/path/to/eclipse-java-indigo-win32-x86_64%20(1)/eclipse/plugins/com.google.gwt.eclipse.sdkbundle_2.4.0.v201201120043-rel-r37/gwt-2.4.0/gwt-user.jar!/com/google/gwt/core/client/impl/AsyncFragmentLoader.java
      [WARN] For the following type(s), generated source was never committed (did you forget to call commit()?)
         [WARN] com.foo.html.client.gin.BarGinjectorImpl
</code></pre>

<p>What am I doing wrong here? Commenting out the <code>bind(HistoryWrapper.class)</code> line makes the issue go away, although obviously I need a binding for that type.</p>

<p>I got a similar error when I tried to use a <code>@Provides</code> method.</p>

<p><strong>Update:</strong> Now I'm getting a different NPE, but I'm not sure why:</p>

<pre><code>java.lang.NullPointerException
    at com.google.gwt.inject.rebind.util.KeyUtil.javaToGwtMethod(KeyUtil.java:222)
    at com.google.gwt.inject.rebind.binding.ProviderMethodBinding.setProviderMethod(ProviderMethodBinding.java:60)
    at com.google.gwt.inject.rebind.BindingsProcessor$GuiceBindingVisitor.visit(BindingsProcessor.java:926)
    at com.google.gwt.inject.rebind.BindingsProcessor$GuiceBindingVisitor.visit(BindingsProcessor.java:898)
    at com.google.inject.internal.ProviderInstanceBindingImpl.acceptTargetVisitor(ProviderInstanceBindingImpl.java:52)
    at com.google.gwt.inject.rebind.BindingsProcessor$GuiceElementVisitor.visit(BindingsProcessor.java:827)
    at com.google.gwt.inject.rebind.BindingsProcessor$GuiceElementVisitor.visit(BindingsProcessor.java:820)
    at com.google.inject.internal.BindingImpl.acceptVisitor(BindingImpl.java:92)
</code></pre>
","147601","","147601","","2012-02-24 17:52:24","2012-02-24 18:03:37","NullPointerException while GWT building with Gin","<java><gwt><dependency-injection><nullpointerexception><gin>","2","3","1","","","9421397","2253","2253","gin","315","5802757","5802756"
"9438299","1","9448434","","2012-02-24 21:26:58","","3","2214","<p>I wonder what scopes folowing two bindings have:</p>

<pre><code>bind(PermissionManager.class).in(Singleton.class);
</code></pre>

<p>and </p>

<pre><code>bind(PermissionManager.class);
</code></pre>

<p>I have read the JavaDocs, they are as following. For Singleton:</p>

<pre><code>/**
* Apply this to implementation classes when you want only one instance
* (per {@link Injector}) to be reused for all injections for that binding.
*
* @author crazybob@google.com (Bob Lee)
*/
</code></pre>

<p>For no scope:</p>

<pre><code>/**
* No scope; the same as not applying any scope at all.  Each time the
* Injector obtains an instance of an object with ""no scope"", it injects this
* instance then immediately forgets it.  When the next request for the same
* binding arrives it will need to obtain the instance over again.
*
* &lt;p&gt;This exists only in case a class has been annotated with a scope
* annotation such as {@link Singleton @Singleton}, and you need to override
* this to ""no scope"" in your binding.
*
* @since 2.0
*/
</code></pre>

<p>What does this mean in practical terms? Are singletons per client or per JVM? For no scope, is every instance different?</p>
","214091","","","","","2012-02-25 21:55:17","What are the scopes of GIN bindings?","<gwt><dependency-injection><guice><gin>","2","0","","","","9438299","2253","2253","gin","315","5802757","5802756"
"9458683","1","9459365","","2012-02-27 00:29:01","","2","2042","<p>We are evaluating using GIN in out GWT project and have had good results with typical injection via constructor arguments.  The thing we have had difficulty with is field level injection.  The fields always end up being null.  Does anyone have a good example of how to properly achieve filed level injection with GIN?</p>

<p>Update:</p>

<p>Here is some example code similar to ours:</p>

<pre class=""lang-java prettyprint-override""><code>public class MVP implements EntryPoint {

  public static final HandlerManager EVENT_BUS = new HandlerManager(null);
  private final MVPInjector _injector = GWT.create(MVPInjector.class);

  public void onModuleLoad() {
    // set up layout for module
    RootLayoutPanel.get().add(mainPanel);

    // initialize presenters
    ListPresenter listPresenter = _injector.listPresenter();
    DetailPresenter detailPresenter = _injector.detailPresenter();

    listPresenter.go(listContainer);
    detailPresenter.go(detailContainer);

    // simulate data coming in from RPC call
    EVENT_BUS.fireEvent(new DataReadyEvent(getData()));
  }
}

public class ListPresenter {

  private final HandlerManager _eventBus;
  private final Map&lt;String, Fruit&gt; _myRecords = new HashMap&lt;String, Fruit&gt;();
  private final Display _view;

  @Inject
  public ListPresenter(Display argView, HandlerManager argEventBus) {
    _eventBus = argEventBus;
    _view = argView;
  }

  public void go(HasWidgets argContainer) {
    argContainer.clear();
    argContainer.add(_view.asWidget());
  }

  public interface Display {
    public Widget asWidget();

    public void clear();

    public SingleSelectionModel&lt;ViewProxy&gt; getSelectionModel();

    public void setData(List&lt;ViewProxy&gt; argData);
  }
}

public class DetailPresenter {

  private final HandlerManager _eventBus;
  private final Display _view;
  private Fruit _myRecord;

  @Inject
  private ImagePresenterFactory _imagePresenterFactory;

  @Inject
  private TestPresenter _testPresenter;

  @Inject
  public DetailPresenter(Display argView, HandlerManager argEventBus) {
    _view = argView;
    _eventBus = argEventBus;
  }

  public void go(HasWidgets argContainer) {
    argContainer.clear();
    argContainer.add(_view.asWidget());

    if (_testPresenter != null) {
      _testPresenter.go();
    }
  }

  public interface Display {
    public Widget asWidget();

    public HasText getDescriptionControl();

    public HasClickHandlers getImageControl();

    public HasText getNameControl();

    public HasClickHandlers getSaveControl();

    public void setEnabledControls(boolean argEnabled);
  }
}

public class TestPresenter {

  @Inject
  HandlerManager _eventBus;

  public TestPresenter() {}

  public void go() {
    if (_eventBus != null) {
      _eventBus.toString();
    }
    else {
      // event bus was not injected
    }
  }
}

@GinModules(MVPModule.class)
public interface MVPInjector extends Ginjector {

  DetailPresenter detailPresenter();

  ListPresenter listPresenter();

}

public class MVPModule extends AbstractGinModule {

  @Provides
  @Singleton
  public HandlerManager getEventBus() {
    return MVP.EVENT_BUS;
  }

  @Provides
  public TestPresenter getTestPresenter() {
    return new TestPresenter();
  }

  @Override
  protected void configure() {
    bind(ListPresenter.Display.class).to(ListView.class);
    bind(DetailPresenter.Display.class).to(DetailView.class);
    bind(ImagePresenter.Display.class).to(ImagePopup.class);
    install(new GinFactoryModuleBuilder().build(ImagePresenterFactory.class));
  }

  public interface ImagePresenterFactory {
    public ImagePresenter createImagePresenter(ImageResource argImage);
  }

}
</code></pre>

<p>In the above code, I have removed most of the code that doesn't involve GIN.  The TestPresenter that the DetailPresenter requires is injected successfully but the HandlerManager that the TestPresenter requires is always null.  As you can see, the injected HandlerManager is not used in the constructor.</p>
","404903","","826983","","2016-06-17 15:53:34","2016-06-17 15:53:34","GWT GIN Field Level Injection","<gwt><dependency-injection><gin>","1","1","","","","9458683","2253","2253","gin","315","5802757","5802756"
"9669615","1","9670019","","2012-03-12 15:09:06","","3","908","<p>Problem: I have a generic super class with type T at GWT client side , the subclass is generated at runtime(using GIN) with the generic parameter initialized, is it possible to retrieve concrete subclass's generic parameter type at runtime?</p>

<p>I can get the actual type in JRE environment(using Class.getGenericSuperclass and Class.getActualTypeArguments), however i have no idea how to do that in GWT environment, i search some GWT 3rd reflection libs, seem none of them support this feature. Is it possible to get generic parameter type at runtime from GWT? if not, any workaround?</p>

<p>Many thanks.</p>

<p> i found a project: gwt-preprocessor, which generate reflection info at compile time, is quite useful for some case.</p>
","492760","","492760","","2012-06-28 15:15:42","2012-06-28 15:15:42","Is it possible to get generic parameter type at runtime from GWT","<java><generics><gwt><reflection><gin>","1","0","1","","","9669615","2253","2253","gin","315","5802757","5802756"
"9772725","1","9800755","","2012-03-19 15:14:18","","1","1099","<p>I am trying Google GIN for our project and I came across a case where I have a generic interface and a generic implementation of that interface:</p>

<pre><code>public interface IFace&lt;T&gt; {
    void setEntry(T t);
}

public class Face&lt;T&gt; implements IFace&lt;T&gt; {
    public void setEntry(T t) {
    }
}
</code></pre>

<p>Now I have a user of the interface that needs an IFace injected in the constructor:</p>

<pre><code>public class IFaceUser {
    private IFace&lt;String&gt; face;

    @Inject
    public IFaceUser(IFace&lt;String&gt; face) {
        this.face = face;
    }
}
</code></pre>

<p>If I try to bind the interface to the implementation with <code>bind(IFace.class).to(Face.class);</code>, the injection fails with</p>

<pre><code>Deferred binding result type 'IFace' should not be abstract
</code></pre>

<p>So GIN doesn't find a binding for <code>IFace&lt;String&gt;</code> and falls back to <code>IFace</code> use the binding and tries <code>GWT.create(IFace.class)</code>.</p>

<p>I also tried <code>bind(new TypeLiteral&lt;IFace&gt;(){}).to(new TypeLiteral&lt;Face&gt;(){});</code> and <code>bind(new TypeLiteral&lt;IFace&lt;?&gt;&gt;(){}).to(new TypeLiteral&lt;Face&lt;?&gt;&gt;(){});</code> with no success.</p>

<p>I know I could bind <code>IFace&lt;String&gt;</code> to <code>Face&lt;String&gt;</code>, but that could lead to a huge Module with lots of repeating code in it. It is also possible to use <code>@ImplementedBy(Face.class)</code>, but that is not an option.</p>

<p>Is there a magic <code>bind(...).to(...)</code> combination I need to use? Is this even possible with GIN?</p>
","1171320","","","","","2012-03-21 08:09:04","How to create a default binding for a generic interface to a generic implementation with GIN?","<generics><gwt><gin>","1","0","1","","","9772725","2253","2253","gin","315","5802757","5802756"
"9783170","1","9813336","","2012-03-20 07:58:34","","2","1120","<p>Could you guys help me marry GIN and custom bean validator in GWT application (GWT 2.4) ?</p>

<p>GWT compiler gives me following errors:</p>

<pre><code>Rebind result 'javax.validation.ValidatorFactory' must be a class
Rebind result 'com.google.gwt.validation.client.ProviderValidationMessageResolver' must be a class
</code></pre>

<p>My GIN module looks like this</p>

<pre><code>@GinModules(ClientGinModule.class)
public interface ClientGinjector extends Ginjector
{
    NewOrderView getOrderView();
}
</code></pre>

<p>Where <code>NewOrderView</code> just extends <code>Composite</code>.</p>

<p>In my <code>.gwt.xml</code> of my module I have following instructions</p>

<pre><code>&lt;replace-with class=""com.mine.courierApp.client.validation.ClientValidatorFactory""&gt;
    &lt;when-type-is class=""javax.validation.ValidatorFactory""/&gt;
&lt;/replace-with&gt;
&lt;replace-with class=""com.mine.courierApp.client.validation.ClientValidationMessagesResolver""&gt;
    &lt;when-type-is class=""com.google.gwt.validation.client.UserValidationMessagesResolver""/&gt;
&lt;/replace-with&gt;
</code></pre>

<p>So I thought maybe GIN wants to know this in Java code so I modified my GIN module which became</p>

<pre><code>public class ClientGinModule extends AbstractGinModule
{
    protected void configure()
    {
        bind(javax.validation.ValidatorFactory.class).to(ClientValidatorFactory.class);
        bind(com.google.gwt.validation.client.UserValidationMessagesResolver.class).to(ClientValidationMessagesResolver.class);
    }
}
</code></pre>

<p>But it didn't help although error message became bigger:</p>

<pre><code>Rebind result 'javax.validation.ValidatorFactory' must be a class
Rebind result 'javax.validation.ValidatorFactory' must be a class
Cannot proceed due to previous errors
Rebind result 'com.google.gwt.validation.client.ProviderValidationMessageResolver' must be a class
</code></pre>

<p>Update: Detailed GWT compiler output:</p>

<pre><code>   [ERROR] Errors in 'jar:file:/C:/work/externals/gwt/gwt-user.jar!/com/google/gwt/validation/client/BaseMessageInterpolator.java'
      [ERROR] Line 96:  Rebind result 'com.google.gwt.validation.client.ProviderValidationMessageResolver' must be a class
   [ERROR] Errors in 'jar:file:/C:/work/externals/gwt/gwt-user.jar!/com/google/gwt/validation/client/GwtValidatorContext.java'
      [ERROR] Line 36:  Rebind result 'javax.validation.ValidatorFactory' must be a class
   [ERROR] Errors in 'jar:file:/C:/work/externals/gwt/gwt-user.jar!/com/google/gwt/validation/client/spi/GwtValidationProvider.java'
      [ERROR] Line 39:  Rebind result 'javax.validation.ValidatorFactory' must be a class
   [ERROR] Cannot proceed due to previous errors
</code></pre>

<p>What shall I do ?</p>
","226895","","226895","","2012-03-20 08:09:03","2012-03-21 21:45:05","Can't marry GIN and custom bean validator in GWT application (compiler error)","<gwt><bean-validation><gwt2><gin>","1","0","0","","","9783170","2253","2253","gin","315","5802757","5802756"
"9790137","1","","","2012-03-20 15:48:07","","0","312","<p>I want to be able to create two instances of the same class and have them be injected with different properties and then have those two objects injected into two specific locations in my application.</p>

<p>Currently I have a method in my ClientModule...</p>

<pre><code>    @Provides
    @Named(""bean1"")
    public MainBean getMainBean() {
        MainBean mainBean = new MainBean(new SecondaryBean());
        return mainBean;
    }
</code></pre>

<p>And then in my presenters etc I do the following:</p>

<pre><code>    public MyPresenter(final EventBus eventBus, final MyView view, 
                     @Named(""bean1"") MainBean bean, TitleSetupData data) {
        super(eventBus, view);
        this.bean1 = bean1;
    }
</code></pre>

<p>And it works great. Based on the @Named annotation corresponding I get the correct bean.</p>

<p>However, this approach has a weakness in that I need to create and inject all the dependencies of MainBean in the @Provides method.</p>

<p>So any @Inject annotations of SecondaryBean are not honoured for example.</p>

<p>One thing I could do is pass into the getMainBean method any relevant dependencies but I'm wondering if there might be another more elegant or better solution.</p>

<p>Anyone got any ideas?</p>
","117839","","168868","","2012-03-20 17:21:51","2012-03-21 11:06:16","Customise the creation of a gin managed object or creating two different instances of the same class","<gwt><guice><gin>","1","0","","","","9790137","2253","2253","gin","315","5802757","5802756"
"9872599","1","","","2012-03-26 13:01:13","","4","1579","<p>every one!
I'm having a compilation problem in my GWT app which is divided in 3 modules: 
App-core: containing the main classes without an entry point,
App-A and App-B: inherit from App-core, and containing there specific classes with an entry point in each submodule.</p>

<p>I'm using GIN to inject classes instances in every module:</p>

<p>in App-core:</p>

<pre><code>public interface App-coreGinjector extends Ginjector {
EventBus getEventBus();
Provider&lt;LoginPagePresenter&gt; getLoginPagePresenter();
...
}

App-coreModule extends AbstractPresenterModule {

protected void configureCore() {
    install(new DefaultModule(App-corePlaceManager.class));
    bindConstant().annotatedWith(DefaultPlace.class).to(LoginPagePresenter.NAME_TOKEN);
    ...
    bind(AuthenticationManager.class).to(AuthenticationManagerImpl.class);
    bindPresenter(LoginPagePresenter.class, LoginPagePresenter.MyView.class,
                  LoginPageView.class, LoginPagePresenter.MyProxy.class);
 }
</code></pre>

<p>in App-A:</p>

<pre><code>@GinModules({ App-AModule.class })
public interface App-AGinjector extends App-coreGinjector {

MyApp-AScreen getMyApp-AScreen();
...
}

public class App-AModule extends App-coreModule {

@Override
protected void configure() {

    configureCore();
            ...
            //Here we bind the App-A classes inheriting from App-core classes 
            bind(App-coreScreenManager.class).to(App-AcreenManager.class).in(Singleton.class);
            ...
            //Here we bind the specific App=A classes
    }
</code></pre>

<p>And we do the same thing in App-B</p>

<p>The maven compilation is successful for the App-A, but it fail for the App-B, with this message:</p>

<pre><code>[ERROR] Errors in 'C:\workspace\App-core\client\gin\App-coreGinjectorImpl.java'
[ERROR] Line 790:  Rebind result 'com.gwtplatform.mvp.client.proxy.PlaceManager' must be a class
[ERROR] Line 818:  Rebind result 'lu.sfeir.grh.client.authentication.AuthenticationManager' must   be a class
[ERROR] Line 1047:  Rebind result 'lu.sfeir.grh.client.login.LoginPagePresenter.MyView' must be a class
[ERROR] Line 2359:  Rebind result 'com.google.gwt.event.shared.EventBus' cannot be abstract
[ERROR] Cannot proceed due to previous errors
</code></pre>

<p>So the weird part int all this is that this error come from the shared module between these two submodules, witch is the binding of the LoginPagePresenter and the AuthentificationManager, but we have this compilation error just in one sub module.
So if someone had this king of problems I'm waiting for his precious help ^^</p>

<p>Ah! if you want some precisions , don't be shy!! </p>
","1184578","","","","","2012-07-11 09:33:00","GIN binding problems in GWTP application","<gwt><gin>","1","1","0","","","9872599","2253","2253","gin","315","5802757","5802756"
"9924695","1","9925608","","2012-03-29 11:45:32","","5","3236","<p>Each of my Activities needs a correspoding singleton View implementation. What's the best strategy to inject them into activities?</p>

<ol>
<li><p><strong>constructor injection</strong> Activity constructor is called from an ActivityMapper's getActivity(). The ctor already has a parameter (a Place object). I would have to create the ActivityMapper with all possible views injected. Not good...</p></li>
<li><p><strong>method injection</strong> - <em>""A function so annotated is automatically executed after the constructor has been executed.""</em> (GWT in Action, 2nd Ed.) Well, ""after the ctor has been executed"" is apparently not fast enough because the view (or an RPC service injected this way) is still not initialized when the Activity's <code>start()</code> method is called and I get a NPE.</p></li>
<li><p>constructing the injector with GWT.create in Activity's ctor. Useless, as they would not longer be singletons.</p></li>
</ol>
","1230995","","","","","2012-03-29 14:36:10","using GIN in GWT Activities","<gwt><dependency-injection><gin><gwt-activities>","3","0","1","","","9924695","2253","2253","gin","315","5802757","5802756"
"9963716","1","10028799","","2012-04-01 10:34:36","","4","344","<p>Imagine you have a PlayN game which uses Guice bindings in its core project:</p>

<pre><code>/* PlayN core Guice module */
public class MyGameModule extends AbstractModule {

    @Override
    protected void configure() {
        bindConstant().annotatedWith(Title.class).to(""My game title"");
        // Other bindings...
    }

}
</code></pre>

<p>What if you want to use those <strong>same bindings</strong>, but on your GWT project of the game (with Gin)? </p>

<p>In the Java project it's as easy as it gets:</p>

<pre><code>/* PlayN Java Guice module */
public class MyGameModuleJava extends MyGameModule {

    // **OK**: no manual intervention required.

}
</code></pre>

<p>Can this be achieved without having to manually copy-paste the Guice module's configure method to the Gin module? For example, this works as a workaround, but is not what I'd prefer to do:</p>

<pre><code>/* PlayN GWT Gin module */
public class MyGameModuleHtml extends AbstractGinModule {

    @Override
    protected void configure() {
        // **NOK**: copy-paste the Guice module, as shown below.
        bindConstant().annotatedWith(Title.class).to(""My game title"");
        // Other bindings...
    }

}
</code></pre>

<p>It works, but it's not pretty to say the least.</p>

<p><strong>Bottom line</strong>: I want to use <strong>same bindings</strong> across all PlayN projects.</p>

<h2>Solution</h2>

<p>So what I did is use the <code>GinModuleAdapter</code> in my Java main, based on the answer:</p>

<pre><code>Injector injector = Guice.createInjector(new GinModuleAdapter(new MyGameModuleHtml()));
</code></pre>

<p>This way I could remove the Guice bindings in the core classes as well.</p>
","682311","","682311","","2012-04-05 21:10:48","2012-04-05 21:10:48","How to use Guice bindings in Gin module for PlayN?","<gwt><guice><playn><gin>","1","0","1","","","9963716","2253","2253","gin","315","5802757","5802756"
"10029090","1","","","2012-04-05 12:59:43","","0","318","<p>I'm going to start a Java EE project with EJB3.1 technology. I know the new EJB concept allows Context and Dependency Injection.</p>

<p>In an old project I used <strong>GIN</strong> and <strong>GUICE</strong> in a GWT Project. It was nice.
Can I use these frameworks also with EJB? Or do you think another framework would be a better choice?</p>

<p>Any Experience?</p>
","643271","","643271","","2012-08-29 14:34:56","2012-08-29 14:34:56","Can I use Gin and Guice in an EJB 3.1 project?","<java><ejb><guice><cdi><gin>","2","1","","","","10029090","2253","2253","gin","315","5802757","5802756"
"10066262","1","10068690","","2012-04-08 20:32:35","","0","2526","<p>I am trying to put together a GWT webapp following <a href=""http://blog.hivedevelopment.co.uk/2009/08/google-web-toolkit-gwt-mvp-example.html"" rel=""nofollow"">this GWT MVP tutorial</a> but using newer releases of the used libraries because not all of them are available any more or not compatible with GWT 2.4.</p>

<p>The problem is that when I run the project, I get the following to the console:</p>

<pre><code>Starting Jetty on port 8888
[WARN] failed com.google.gwt.dev.shell.jetty.JettyLauncher$WebAppContextWithReload@6ee76fcc{/,/home/raido/Kood/workspaceJava/gwtmvp/war}
java.lang.NoClassDefFoundError: com/google/inject/internal/util/$Preconditions
at com.google.inject.servlet.ServletModule.configure(ServletModule.java:44)
at com.google.inject.AbstractModule.configure(AbstractModule.java:59)
at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:223)
at com.google.inject.spi.Elements.getElements(Elements.java:101)
at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:135)
at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:113)
at com.google.inject.InjectorBuilder.build(InjectorBuilder.java:101)
at com.google.inject.Guice.createInjector(Guice.java:105)
at com.google.inject.Guice.createInjector(Guice.java:76)
at com.google.inject.Guice.createInjector(Guice.java:63)
at gwtmvp.server.guice.GuiceServletConfig.getInjector(GuiceServletConfig.java:11)
at com.google.inject.servlet.GuiceServletContextListener.contextInitialized(GuiceServletContextListener.java:45)
at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:543)
at org.mortbay.jetty.servlet.Context.startContext(Context.java:136)
at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1220)
at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:513)
at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:448)
at com.google.gwt.dev.shell.jetty.JettyLauncher$WebAppContextWithReload.doStart(JettyLauncher.java:468)
at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:39)
at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
at org.mortbay.jetty.handler.RequestLogHandler.doStart(RequestLogHandler.java:115)
at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:39)
at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
at org.mortbay.jetty.Server.doStart(Server.java:222)
at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:39)
at com.google.gwt.dev.shell.jetty.JettyLauncher.start(JettyLauncher.java:672)
at com.google.gwt.dev.DevMode.doStartUpServer(DevMode.java:509)
at com.google.gwt.dev.DevModeBase.startUp(DevModeBase.java:1068)
at com.google.gwt.dev.DevModeBase.run(DevModeBase.java:811)
at com.google.gwt.dev.DevMode.main(DevMode.java:311)
Caused by: java.lang.ClassNotFoundException: com.google.inject.internal.util.$Preconditions
at java.lang.ClassLoader.findClass(ClassLoader.java:373)
at java.lang.ClassLoader.loadClass(ClassLoader.java:321)
at java.lang.ClassLoader.loadClass(ClassLoader.java:266)
at org.mortbay.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:352)
at org.mortbay.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:337)
at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:334)
... 30 more
[WARN] failed RequestLogHandler@4113a03d
java.lang.NoClassDefFoundError: com/google/inject/internal/util/$Preconditions
at com.google.inject.servlet.ServletModule.configure(ServletModule.java:44)
at com.google.inject.AbstractModule.configure(AbstractModule.java:59)
at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:223)
at com.google.inject.spi.Elements.getElements(Elements.java:101)
at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:135)
at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:113)
at com.google.inject.InjectorBuilder.build(InjectorBuilder.java:101)
at com.google.inject.Guice.createInjector(Guice.java:105)
at com.google.inject.Guice.createInjector(Guice.java:76)
at com.google.inject.Guice.createInjector(Guice.java:63)
at gwtmvp.server.guice.GuiceServletConfig.getInjector(GuiceServletConfig.java:11)
at com.google.inject.servlet.GuiceServletContextListener.contextInitialized(GuiceServletContextListener.java:45)
at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:543)
at org.mortbay.jetty.servlet.Context.startContext(Context.java:136)
at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1220)
at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:513)
at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:448)
at com.google.gwt.dev.shell.jetty.JettyLauncher$WebAppContextWithReload.doStart(JettyLauncher.java:468)
at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:39)
at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
at org.mortbay.jetty.handler.RequestLogHandler.doStart(RequestLogHandler.java:115)
at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:39)
at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
at org.mortbay.jetty.Server.doStart(Server.java:222)
at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:39)
at com.google.gwt.dev.shell.jetty.JettyLauncher.start(JettyLauncher.java:672)
at com.google.gwt.dev.DevMode.doStartUpServer(DevMode.java:509)
at com.google.gwt.dev.DevModeBase.startUp(DevModeBase.java:1068)
at com.google.gwt.dev.DevModeBase.run(DevModeBase.java:811)
at com.google.gwt.dev.DevMode.main(DevMode.java:311)
Caused by: java.lang.ClassNotFoundException: com.google.inject.internal.util.$Preconditions
at java.lang.ClassLoader.findClass(ClassLoader.java:373)
at java.lang.ClassLoader.loadClass(ClassLoader.java:321)
at java.lang.ClassLoader.loadClass(ClassLoader.java:266)
at org.mortbay.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:352)
at org.mortbay.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:337)
at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:334)
... 30 more
[WARN] Error starting handlers
java.lang.NoClassDefFoundError: com/google/inject/internal/util/$Preconditions
at com.google.inject.servlet.ServletModule.configure(ServletModule.java:44)
at com.google.inject.AbstractModule.configure(AbstractModule.java:59)
at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:223)
at com.google.inject.spi.Elements.getElements(Elements.java:101)
at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:135)
at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:113)
at com.google.inject.InjectorBuilder.build(InjectorBuilder.java:101)
at com.google.inject.Guice.createInjector(Guice.java:105)
at com.google.inject.Guice.createInjector(Guice.java:76)
at com.google.inject.Guice.createInjector(Guice.java:63)
at gwtmvp.server.guice.GuiceServletConfig.getInjector(GuiceServletConfig.java:11)
at com.google.inject.servlet.GuiceServletContextListener.contextInitialized(GuiceServletContextListener.java:45)
at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:543)
at org.mortbay.jetty.servlet.Context.startContext(Context.java:136)
at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1220)
at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:513)
at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:448)
at com.google.gwt.dev.shell.jetty.JettyLauncher$WebAppContextWithReload.doStart(JettyLauncher.java:468)
at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:39)
at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
at org.mortbay.jetty.handler.RequestLogHandler.doStart(RequestLogHandler.java:115)
at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:39)
at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
at org.mortbay.jetty.Server.doStart(Server.java:222)
at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:39)
at com.google.gwt.dev.shell.jetty.JettyLauncher.start(JettyLauncher.java:672)
at com.google.gwt.dev.DevMode.doStartUpServer(DevMode.java:509)
at com.google.gwt.dev.DevModeBase.startUp(DevModeBase.java:1068)
at com.google.gwt.dev.DevModeBase.run(DevModeBase.java:811)
at com.google.gwt.dev.DevMode.main(DevMode.java:311)
Caused by: java.lang.ClassNotFoundException: com.google.inject.internal.util.$Preconditions
at java.lang.ClassLoader.findClass(ClassLoader.java:373)
at java.lang.ClassLoader.loadClass(ClassLoader.java:321)
at java.lang.ClassLoader.loadClass(ClassLoader.java:266)
at org.mortbay.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:352)
at org.mortbay.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:337)
at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:334)
... 30 more
</code></pre>

<p>Libraries needed for the projects vs libraries I have:</p>

<ul>
<li>gin.jar --- <strong>gin-1.5-post-gwt-2.2.jar</strong> (gin-1.5)</li>
<li>aopalliance.jar  (from Google Gin) --- <strong>aopalliance.jar</strong> (gin-1.5)</li>
<li>guice-2.0.jar (from Google Gin. IMPORTANT - use the version supplied with Gin and not Guice) --- <strong>guice-snapshot.jar</strong> (gin-1.5)</li>
<li>guice-servlet-2.0.jar (from Google Guice) --- <strong>guice-servlet-3.0.jar</strong> (guice-3.0)</li>
<li>gwt-dispatch-1.0.0-SNAPSHOT.jar  (from gwt-dispatch) --- <strong>gwt-dispatch-1.2.0.jar</strong></li>
<li>gwt-log-2.6.2.jar (from gwt-log) --- <strong>gwt-log-3.1.8.jar</strong></li>
<li>gwt-presenter-1.0.0-SNAPSHOT.jar (from gwt-presenter) --- <strong>gwt-presenter-1.0.0.jar</strong></li>
<li>log4j.jar (from log4j) --- <strong>log4j-1.2.16.jar</strong></li>
</ul>

<p>Gwt-presenter also has a newer version, 1.1.1 which caused additional problems so I went back to 1.0.0 but that is an another story.</p>

<p>I have the code uploaded to <a href=""https://github.com/Raidok/gwtmvp"" rel=""nofollow"">GitHub</a>. Most of it is just copy-paste from the mentioned tutorial with minor differences.</p>
","767678","","767678","","2012-04-08 20:38:22","2012-04-09 04:59:00","NoClassDefFoundError with Gin 1.5 and GWT 2.4","<java><gwt><guice><gin>","2","1","0","","","10066262","2253","2253","gin","315","5802757","5802756"
"10127811","1","","","2012-04-12 16:32:45","","4","2956","<p>I've implemented a GWT application following the recommendations of <a href=""http://blog.hivedevelopment.co.uk/2009/08/google-web-toolkit-gwt-mvp-example.html"" rel=""nofollow"">this tutorial</a>. I also downloaded the sample code, and I noticed that every Presenter of the demo needed to be injected in the main presenter constructor to be instantiated. The author included this in the source:</p>

<pre><code>public class GreetingPresenter extends WidgetPresenter&lt;GreetingPresenter.Display&gt; {

    // FUDGE FACTOR!  Although this is not used, having GIN pass the object
    // to this class will force its instantiation and therefore will make the
    // response presenter listen for events (via bind()).  This is not a very good way to
    // achieve this, but I wanted to put something together quickly - sorry!
    private final GreetingResponsePresenter greetingResponsePresenter;

    @Inject
    public GreetingPresenter(final Display display, final EventBus eventBus, final DispatchAsync dispatcher, final GreetingResponsePresenter greetingResponsePresenter) {
            super(display, eventBus);       
            this.dispatcher = dispatcher;       
            this.greetingResponsePresenter = greetingResponsePresenter;     
            bind();
}
</code></pre>

<p>I verified that if any Presenter doesn't get injected in GreetingPresenter, it won't be instantiated. For demonstration purposes this is cool because the whole app only has two Presenters, but in a Real-World application this can be a serious inconvenient.</p>

<p>What's the proper way of accomplish Presenter instantiation?</p>

<p><strong>EDIT:</strong> Including GIN related classes for reference:</p>

<p><strong>Presenter module:</strong></p>

<pre><code>public class GreetingClientModule extends AbstractPresenterModule {

    @Override
    protected void configure() {        
        bind(EventBus.class).to(DefaultEventBus.class).in(Singleton.class);
        bind(PlaceManager.class).in(Singleton.class);       
        bindPresenter(GreetingPresenter.class, GreetingPresenter.Display.class, GreetingView.class);
        bindPresenter(GreetingResponsePresenter.class, GreetingResponsePresenter.Display.class, GreetingResponseView.class);        
        bind(AppPresenter.class).in(Singleton.class);
        bind(CachingDispatchAsync.class);
    }
}
</code></pre>

<p><strong>Ginjector:</strong></p>

<pre><code>@GinModules({ ClientDispatchModule.class, GreetingClientModule.class })
public interface GreetingGinjector extends Ginjector {

    AppPresenter getAppPresenter();
    PlaceManager getPlaceManager();

}
</code></pre>
","1193136","","1193136","","2012-04-13 16:08:16","2012-04-13 16:08:16","GWT/Gin Presenter instantiation","<java><gwt><gin><gwt-mvp>","2","0","2","","","10127811","2253","2253","gin","315","5802757","5802756"
"10201165","1","10202231","","2012-04-18 00:35:02","","3","1984","<p>My GWT app works in development mode but when I compile I get this error:</p>

<pre><code>[ERROR] Errors in generated://F1C9BA113391FC353E7321372D77396D/com/mygwtapp/client/gin/ClientGinjectorImpl.java'
[ERROR] Line 64:  Rebind result 'com.mygwtapp.client.core.presenter.ResponsePresenter.MyView' must be a class
[ERROR] Line 2319:  Rebind result 'com.mygwtapp.client.core.presenter.MainPagePresenter.MyView' must be a class
[ERROR] Cannot proceed due to previous errors
</code></pre>

<p>I am using GWT 2.4.0 and GwtPlatform.</p>
","785349","","","","","2012-04-18 10:47:21","GWT application runs in dev mode but fails to compile","<gwt><gin><gwt-platform>","2","0","1","","","10201165","2253","2253","gin","315","5802757","5802756"
"10400163","1","10409297","","2012-05-01 15:41:54","","3","6857","<p>I typically have this kind of code pattern in my GWT project:</p>

<pre><code>Menu errorMenu = new Menu(user, userController, -1);
Menu  searchMenu = new Menu(user, userController, 0);

errorView.setMenu(errorMenu);
searchView.setMenu(searchMenu);
</code></pre>

<p>How do I inject a <code>Menu</code> instance in the <code>ErrorView</code> and other ""views"" using Gin/Guice:</p>

<pre><code>public ErrorView implements View {
 // Inject menu instance here
 private Menu menu;
}
</code></pre>

<p>Such that, I don't have to manually create and set objects? </p>

<p>Also for the <code>Menu</code> class, how can I inject the ""user"" and ""userController"" objects so I don't have to pass it on each Menu instance every time it is instantiated. </p>
","785349","","727208","","2012-06-17 10:04:15","2012-06-17 10:04:15","Injecting an instance using Gin/Guice","<gwt><dependency-injection><guice><gin>","1","1","","","","10400163","2253","2253","gin","315","5802757","5802756"
"10408684","1","10408714","","2012-05-02 06:22:09","","0","193","<p>I know DI is mostly used with MVP pattern however, where does Google Gin fits into a Model-View-Controller framework/pattern? </p>

<p>For example, usually for a MVC a View holds references to the Model (in which it listen to change events) and the Controller holds references to the Model and the View. I mean how I can improve a MVC pattern using DI.</p>
","785349","","785349","","2012-05-02 06:34:36","2012-05-02 06:34:36","Dependency Injection for MVC","<java><model-view-controller><dependency-injection><guice><gin>","1","0","","","","10408684","2253","2253","gin","315","5802757","5802756"
"10414089","1","10418383","","2012-05-02 12:47:50","","0","1508","<p>I'm trying to do field-level injection so I don't have to pass ""models"" when my controllers are instantiated, like, </p>

<pre><code>UserController controller = new UserController(/*No need to pass models here*/);
</code></pre>

<p>However my application throws NullPointerException, here my code:</p>

<p><strong>UserController.java</strong></p>

<pre><code>    public class UserController implements Controller {
        @Inject private UserModel model;
        public UserController() {
          model.doSomething(); // NullPointerException
        }
    }
</code></pre>

<p><strong>ClientGinModule.java</strong></p>

<pre><code>public class ClientGinModule extends AbstractGinModule {
    @Override
    protected void configure() {
        bind(UserModel.class).in(Singleton.class);
    }
}
</code></pre>

<p>What could be the problem?</p>
","785349","","","","","2012-05-02 18:01:19","Field level injection with Gin","<java><dependency-injection><guice><gin>","2","3","","","","10414089","2253","2253","gin","315","5802757","5802756"
"10419724","1","10421123","","2012-05-02 18:38:48","","2","12119","<p>My application is throwing: </p>

<pre><code>java.lang.RuntimeException: Deferred binding failed for 'com.mygwtapp.client.gin.ClientAppGinjector' (did you forget to inherit a required module?)
</code></pre>

<p>on this code inside the EntryPoint:</p>

<pre><code>private final ClientAppGinjector injector = GWT.create(ClientAppGinjector.class);
</code></pre>

<p>What could be the problem?</p>

<p><strong>Here's the full error Log:</strong></p>

<pre><code>java.lang.RuntimeException: Deferred binding failed for 'com.mygwtapp.client.gin.ClientAppGinjector' (did you forget to inherit a required module?)
    at com.google.gwt.dev.shell.GWTBridgeImpl.create(GWTBridgeImpl.java:53)
    at com.google.gwt.core.client.GWT.create(GWT.java:97)
    at com.mygwtapp.client.MainEntryPoint.&lt;init&gt;(MainEntryPoint.java:79)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:525)
    at com.google.gwt.dev.shell.ModuleSpace.rebindAndCreate(ModuleSpace.java:465)
    at com.google.gwt.dev.shell.ModuleSpace.onLoad(ModuleSpace.java:375)
    at com.google.gwt.dev.shell.OophmSessionHandler.loadModule(OophmSessionHandler.java:200)
    at com.google.gwt.dev.shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:525)
    at com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer.java:363)
    at java.lang.Thread.run(Thread.java:722)
</code></pre>
","785349","","785349","","2012-05-03 00:24:28","2017-06-08 00:51:00","Deferred binding failed","<gwt><dependency-injection><guice><gin>","4","1","1","","","10419724","2253","2253","gin","315","5802757","5802756"
"10424082","1","10869661","","2012-05-03 01:54:56","","2","374","<p>Me and one friend are thinking in build a pluggable applications with GWT, guice, GIN, JPA2 etc...</p>

<p>In our idea, we will have a basic web app, with login, permission management, basic configurations, a menu and a content slot for the real webapp content.</p>

<p>Then, we can build a new Plugin using some API provided by the web app, gen a jar file, and put it inside a folder in the web app. Then, when the app start, with reflection we will detect what modules are declared and add them to the Injector and to the classpath. That could work in server side code.</p>

<p>But, We couldn't think in something really good and usable for client side, because the GWT code are compiled, so, we cannot just add new places, events etc without inherit the module and/or recompile the app...</p>

<p>So, in this question, I will like to hear what you folks, think that could be done to make it works. Any idea would be welcome. </p>

<p>Thanks in advance.</p>
","405013","","","","","2012-06-03 10:46:33","Dynamic GWT Modules with Guice and GIN in execution time","<gwt><guice><modularity><gin>","1","0","0","","","10424082","2253","2253","gin","315","5802757","5802756"
"10429803","1","10435669","","2012-05-03 10:46:22","","1","2182","<p>I'm getting this error when running GWT application:</p>

<pre><code>java.lang.AssertionError: This UIObject's element is not set; you may be missing a call to either Composite.initWidget() or UIObject.setElement()

public class MainView extends Composite implements HeaderPresenter.MyView {
  // Code omitted
}
</code></pre>

<p>In the Gin <strong>ClientModule.java</strong> configure() function I have this code:</p>

<pre><code>bindPresenter(HeaderPresenter.class, HeaderPresenter.MyView.class,
                MainView.class, HeaderPresenter.MyProxy.class);
</code></pre>

<p>In the view class the initWidget() is properly called and passed with a widget, what could be causing the error? </p>
","785349","","","","","2012-05-03 21:18:37","Error binding view to presenter?","<gwt><dependency-injection><guice><gin><gwt-platform>","2","2","1","","","10429803","2253","2253","gin","315","5802757","5802756"
"10434227","1","10558812","","2012-05-03 15:10:48","","2","455","<p>I need an example of well-structured full-stack GWT application written in the best practices: with MVP pattern usage, GIN modules (at least 2: production module and the mocking one for tests), JRE light-weight tests (extending TestCase class). The primary goal of this request is to find out how GWT app should be effectively tested with the help of GIN. </p>

<p>This showcase doesn't need to be huge. Several simple tests for one presenter would be enough. I have already took a look at ""Contacts"" example provided by Google - but it doesn't use GIN library. </p>

<p>Thanks a lot for any advance.</p>
","906677","","906677","","2012-05-03 15:17:51","2012-05-11 21:21:23","Mocking in GWT application showcase with the help of GIN","<unit-testing><gwt><mocking><mvp><gin>","2","0","3","","","10434227","2253","2253","gin","315","5802757","5802756"
"10565758","1","","","2012-05-12 17:05:13","","2","1326","<p>I'm trying to use AssistedInject with Gin in GWT 2.4.0:</p>

<pre><code>  public interface ElevatorButtonFactory {
    ElevatorButton create(int shownFloorNumber, Action&lt;Integer&gt; onClick);
  }

  @Inject
  ElevatorButton(GameHost gameHost, @Assisted int shownFloorNumber,
      @Assisted Action&lt;Integer&gt; onClick) {
    // ...
  }
</code></pre>

<p>In my Gin module:</p>

<pre><code>install(new GinFactoryModuleBuilder().implement(ElevatorButton.class, ElevatorButton.class)
        .build(ElevatorButtonFactory.class));
</code></pre>

<p>That seems like it should be sufficient, right? But when I try to take <code>ElevatorButtonFactory</code> as an injected parameter, I get the following error:</p>

<blockquote>
  <p>[ERROR] [foo] - Deferred binding result type
  'com.foo.html.client.components.floorpicker.ElevatorButton.ElevatorButtonFactory'
  should not be abstract</p>
</blockquote>

<p>What am I doing wrong?</p>
","147601","","","","","2012-05-28 05:54:57","Gin AssistedInject: Deferred binding result type 'Foo' should not be abstract","<java><gwt><dependency-injection><gin><assisted-inject>","1","0","","","","10565758","2253","2253","gin","315","5802757","5802756"
"11120711","1","11300949","","2012-06-20 13:28:19","","1","351","<p>I want to be able to achieve the following using guice/gin:</p>

<ol>
<li>Get all sort of constants from the server (user settings, language, etc)</li>
<li>Bind those constants to ""Named(###)"" in a guice/gin module</li>
<li>inject those to constructors in my code, that are called only after I init the 2 steps above.</li>
</ol>

<p>Can I do this somehow? if so, how?</p>
","276789","","","","","2012-10-31 09:30:36","Calculated constants in Google Guice","<java><gwt><dependency-injection><guice><gin>","1","3","1","","","11120711","2253","2253","gin","315","5802757","5802756"
"11297029","1","11297514","","2012-07-02 15:50:11","","0","475","<p>What would be the best practice to keep the user logged in if he or she refreshes the page?
Assume that the user signed in already.</p>

<p>At the moment the gatekeeper is performing its duty but when the user refreshes (F5 , browser button) the page. The user is redirected to the login screen (aka default place). </p>

<p>There is a nametoken in the url to detirmen what presenter should be loaded.</p>

<p>Has anyone found a way to relog the user?</p>
","520265","","520265","","2012-07-02 16:40:47","2012-07-02 16:40:47","GWT Platform gatekeeper user needs to sign in again on page refresh","<gwt><gwt-platform><gin>","1","0","","","","11297029","2253","2253","gin","315","5802757","5802756"
"11306228","1","11308637","","2012-07-03 07:21:02","","4","1289","<p>I've just started a project built with the <a href=""https://github.com/tbroyer/gwt-maven-archetypes/tree/master/guice-rf-activitie"" rel=""nofollow noreferrer"">new GWT archetype</a>.</p>

<p>ActivityMapper looks like:</p>

<pre><code>public interface Factory {
    HomeActivity homeActivity();

    GreetingActivity greetingActivity(String user);
}

private final Factory factory;

@Inject
MainActivityMapper(Factory factory) {
    this.factory = factory;
}

@Override
public Activity getActivity(Place place) {
    if (place instanceof HomePlace) {
        return factory.homeActivity();
    }
    if (place instanceof GreetingPlace) {
        GreetingPlace greetingPlace = (GreetingPlace) place;
        return factory.greetingActivity(greetingPlace.getUser());
    }
    logger.severe(""Unhandled place type: "" + place.getClass().getName());
    return null;
}
</code></pre>

<p>I'm now trying to implement code split with AsyncProvider based on <a href=""http://ars-codia.raphaelbauer.com/2011/04/gwt-gin-and-simple-split-points.html"" rel=""nofollow noreferrer"">this example</a>, but I can't get it working.</p>

<p>When using ActivityAsyncProxy, what should I do? return the ActivityAsyncProxy from getActivity(Place place)? but then, how can I create the ActivityAsyncProxy from the factory?</p>

<p>How would you suggest to make the activity mapper play nicely with code split?</p>
","395804","","1075341","","2019-07-01 07:34:34","2019-07-01 07:34:34","ActivityMapper with Gin and AsyncProvider","<gwt><gin>","1","0","2","","","11306228","2253","2253","gin","315","5802757","5802756"
"11367370","1","11367680","","2012-07-06 17:58:33","","2","421","<p>Is there any reason why I can't just use Guice for DI inside a GWT application? If so, why? If not, what does GWT-GIN <em>really</em> offer that POG (plain ole' Guice) doesn't?</p>
","892029","","","","","2016-06-09 00:11:45","GWT-GIN vs Raw Guice","<java><gwt><guice><gin>","1","0","","","","11367370","2253","2253","gin","315","5802757","5802756"
"11434346","1","11435566","","2012-07-11 13:59:45","","8","5037","<p>I'm using GWT 2.4 with gwt-platform 0.7 and gin 1.5.0.</p>

<p>I've built a library for dynamic (live) translation of my GWT application. So every widget will get notified when the <code>LocaleChangeEvent</code> gets fired and then ask my <code>TranslationDictionary</code> to get the new String to display.</p>

<p>The widgets actually look like this:</p>

<pre><code>public class LocaleAwareLabel extends Label implements LocaleChangeEventHandler {
    TranslationDictionary dictionary;
    String translationToken;

    public LocaleAwareLabel(TranslationDictionary dictionary, EventBus eventBus, String translationToken) {
        this.dictionary = dictionary;
        this.translationToken = translationToken;
        eventBus.addHandler(LocaleChangeEvent.TYPE, this);
        getCurrentTranslationFromDictionary();
    }

    public void getCurrentTranslationFromDictionary() {
        this.setText(dictionary.getTranslation(translationToken));
    }

    @Override
    public void onLocaleChange(LocaleChangeEvent event) {
        getCurrentTranslationFromDictionary();
    }
}
</code></pre>

<p>As you can see: I can't easily use this widget with UiBinder, at the moment I inject <code>EventBus</code> and  <code>TranslationDictionary</code> in my <code>View</code> and use <code>@UiField(provided=true)</code>like this:</p>

<pre><code>@UiField(provided=true)
LocaleAwareLabel myLabel;

@Inject
public MyView(TranslationDictionary dictionary, EventBus eventBus) {
    widget = uiBinder.createAndBindUi(this);

    myLabel = new LocaleAwareLabel(dictionary, eventBus, ""someTranslationToken"");
}
</code></pre>

<p><strong>What I'd like to have:</strong> Using my widgets without <code>@UiField(provided=true)</code>, so I can simply put them inside a <code>ui.xml</code> like this:</p>

<pre><code>&lt;custom:LocaleAwareLabel ui:field=""myLabel"" translationToken=""someTranslationToken"" /&gt;
</code></pre>

<p>I know I can set the <code>translationToken</code> via UiBinder using:</p>

<pre><code>public void setTranslationToken(String translationToken) {
    this.translationToken = translationToken;
}
</code></pre>

<p>But then I still have the problem that I can't use a zero-args constructor because of <code>EventBus</code> and <code>TranslationDictionary</code>. And additionaly I can't call the <code>getCurrentTranslationFromDictionary()</code> inside the constructor, because the value of <code>translationToken</code> of course gets set after the constructor.</p>

<p>Would be nice if someone can provide a solution, maybe with code examples.</p>

<p>And P.S. I'm a total injection-noob, but from my understanding gin may somehow solve my problem. But I don't know how.</p>

<p>Thank you!</p>
","1321564","","","","","2012-07-11 18:01:15","How to use injection via GIN with UiBinder and Widgets?","<gwt><dependency-injection><uibinder><gin>","2","0","1","","","11434346","2253","2253","gin","315","5802757","5802756"
"11527445","1","19802440","","2012-07-17 17:10:26","","0","1299","<p>I'm getting this error when running my web application that use GWT, GWT-Platform and App engine:</p>

<blockquote>
  <p>Generator 'com.google.gwt.inject.rebind.GinjectorGenerator' threw an
  exception while rebinding 'com.myapp.client.gin.ClientGinjector'</p>
</blockquote>

<p>My application have these jars in the <code>WEB-INF/lib</code> folder:</p>

<pre><code>guice-3.0.jar  
gin-1.5-post-gwt-2.2.jar
guice-servlet-3.0.jar
gwtp-all-0.7.jar
</code></pre>

<p>Here's the detailed error log of <code>Development Mode</code>:</p>

<blockquote>
  <p>[DEBUG] [app] - Validating newly compiled units [DEBUG]  [app] -
  Rebinding com.myapp.client.gin.ClientGinjector     [DEBUG] [app] -
  Invoking generator com.google.gwt.inject.rebind.GinjectorGenerator<br>
  [ERROR] [app] - Generator
  'com.google.gwt.inject.rebind.GinjectorGenerator' threw an exception
  while rebinding 'com.myapp.client.gin.ClientGinjector'</p>
  
  <p>[ERROR] [app] - Deferred binding failed for
  'com.myapp.client.gin.ClientGinjector'; expect subsequent failures
  [ERROR]  [app] - Failed to create an instance of
  'com.myapp.client.MainAppEntryPoint' via deferred binding </p>
  
  <p>[ERROR] [app] - Unable to load module entry point class
  com.myapp.client.MainAppEntryPoint (see associated exception for
  details)</p>
  
  <p>[ERROR] [app] - Failed to load module 'app' from user agent
  'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/536.11 (KHTML, like Gecko)
  Chrome/20.0.1132.57 Safari/536.11' at 127.0.0.1:53782</p>
</blockquote>

<p>I've been trying to figure out what could have been missing in my application but I still can't find the fix? What is causing this kind of error?</p>
","785349","","","","","2013-11-06 01:32:08","'GinjectorGenerator' threw an exception while rebinding '...ClientGinjector'","<google-app-engine><gwt><guice><gin><gwtp>","1","2","","","","11527445","2253","2253","gin","315","5802757","5802756"
"11527969","1","","","2012-07-17 17:45:48","","0","580","<p>This is the error I get when running my application:</p>

<blockquote>
  <p>java.lang.RuntimeException: Deferred binding failed for
  'com.gwtplatform.mvp.client.proxy.PlaceManager' (did you forget to
  inherit a required module?)
      at com.google.gwt.dev.shell.GWTBridgeImpl.create(GWTBridgeImpl.java:53)
      at com.google.gwt.core.client.GWT.create(GWT.java:97)
      at com.myapp.client.gin.ClientGinjectorImpl.create_Key$type$com$gwtplatform$mvp$client$proxy$PlaceManager$_annotation$$none$$(ClientGinjectorImpl.java:597)
      at com.myapp.client.gin.ClientGinjectorImpl.get_Key$type$com$gwtplatform$mvp$client$proxy$PlaceManager$_annotation$$none$$(ClientGinjectorImpl.java:611)
      at com.myapp.client.gin.ClientGinjectorImpl.getPlaceManager(ClientGinjectorImpl.java:27)
      at com.myapp.client.MainAppEntryPoint.onModuleLoad(MainAppEntryPoint.java:17)
      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
      at java.lang.reflect.Method.invoke(Method.java:601)
      at com.google.gwt.dev.shell.ModuleSpace.onLoad(ModuleSpace.java:396)
      at com.google.gwt.dev.shell.OophmSessionHandler.loadModule(OophmSessionHandler.java:200)
      at com.google.gwt.dev.shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:525)
      at com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer.java:363)
      at java.lang.Thread.run(Thread.java:722) Caused by: com.google.gwt.core.ext.UnableToCompleteException: (see previous log
  entries)
      at com.google.gwt.dev.shell.ModuleSpace.rebindAndCreate(ModuleSpace.java:503)
      at com.google.gwt.dev.shell.GWTBridgeImpl.create(GWTBridgeImpl.java:49)
      at com.google.gwt.core.client.GWT.create(GWT.java:97)
      at com.myapp.client.gin.ClientGinjectorImpl.create_Key$type$com$gwtplatform$mvp$client$proxy$PlaceManager$_annotation$$none$$(ClientGinjectorImpl.java:597)
      at com.myapp.client.gin.ClientGinjectorImpl.get_Key$type$com$gwtplatform$mvp$client$proxy$PlaceManager$_annotation$$none$$(ClientGinjectorImpl.java:611)
      at com.myapp.client.gin.ClientGinjectorImpl.getPlaceManager(ClientGinjectorImpl.java:27)
      at com.myapp.client.MainAppEntryPoint.onModuleLoad(MainAppEntryPoint.java:17)
      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
      at java.lang.reflect.Method.invoke(Method.java:601)
      at com.google.gwt.dev.shell.ModuleSpace.onLoad(ModuleSpace.java:396)
      at com.google.gwt.dev.shell.OophmSessionHandler.loadModule(OophmSessionHandler.java:200)
      at com.google.gwt.dev.shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:525)
      at com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer.java:363)
      at java.lang.Thread.run(Thread.java:722)</p>
</blockquote>

<p>Although I have these on the <code>.gwt.xml</code> file:</p>

<pre><code>&lt;inherits name=""com.google.gwt.inject.Inject""/&gt;
&lt;inherits name='com.gwtplatform.mvp.Mvp'/&gt;
&lt;inherits name='com.gwtplatform.dispatch.Dispatch'/&gt;

&lt;define-configuration-property name='gin.ginjector' is-multi-valued='false' /&gt;
&lt;set-configuration-property name='gin.ginjector' value='com.myapp.client.gin.ClientGinjector' /&gt;
</code></pre>

<p>In the application <code>WEB-INF/lib</code>:</p>

<pre><code>guice-assistedinject-3.0-rc2.jar
guice-servlet-3.0.jar
guice-3.0.jar  
gin-1.5.0.jar
gin-1.5-post-gwt-2.2.jar
gwtp-all-0.7.jar
</code></pre>

<p>What could be missing?</p>
","785349","","785349","","2012-07-17 18:14:57","2012-07-17 18:14:57","Deferred binding failed for GWTP PlaceManager","<google-app-engine><gwt><guice><gin><gwtp>","0","2","1","","","11527969","2253","2253","gin","315","5802757","5802756"
"11928017","1","11942789","","2012-08-13 03:56:26","","0","167","<p>My Gin-injected GWT application uses RequestFactory together with Activities and Places.</p>

<p>To tokenize RequestFactory's <code>stableId()</code> inside Places, I inject the RequestFactory. That gives the class access to <code>getProxyId(token)</code> and <code>getHistoryToken(stableId)</code>. The Tokenizer calls non-static, protected methods to tokenize a particular Place.</p>

<p>Here is a sample class.</p>

<pre><code>public class StableIdPlace extends Place {

  @Inject private static Provider&lt;StableIdPlace&gt; provider;

  private final MyRequestFactory requestFactory;
  private EntityProxyId&lt;StableIdProxy&gt; stableId;

  @Inject
  public StableIdPlace(MyRequestFactory rf) {
    requestFactory = rf;
  }

  public void setStableId(EntityProxyId&lt;StableIdProxy&gt; which) {
    stableId = which;
  }

  public EntityProxyId&lt;StableIdProxy&gt; getStableId() {
    return stableId;
  }

  protected void setFromHistoryToken(String token) {
    stableId = requestFactory.getProxyId(token);
  }

  protected String getHistoryToken() {
    return requestFactory.getHistoryToken(stableId);
  }

  public static class Tokenizer implements PlaceTokenizer&lt;StableIdPlace&gt; {
    @Override
    public String getToken(StableIdPlace place) {
      return place.getHistoryToken();
    }
    @Override
    public StableIdPlace getPlace(String token) {
      StableIdPlace place = provider.get();
      place.setFromHistoryToken(token);
      return place;
  }
}
</code></pre>

<p>The strategy requires injecting a Provider wherever a new Place is needed. <strong>Unfortunately, that includes the static Tokenizers.</strong></p>

<p>I tried to initiate the static injection (for each Place class) with <code>requestStaticInjection()</code> in the Gin client module. What I have worksexcept for History. I cannot get the static Provider to initialize. It causes a Null exception in the Tokenizer.</p>

<p>Is there a better way to do this? Thank you for your pointers.</p>
","1544144","","","","","2012-08-13 21:45:12","Can one avoid injecting Places when using RequestFactory's stableId() as state information?","<gwt><requestfactory><gin><gwt-places>","1","0","","","","11928017","2253","2253","gin","315","5802757","5802756"
"11980049","1","11980629","","2012-08-16 02:47:17","","0","109","<p>The standard <a href=""http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html"" rel=""nofollow"">Exception</a> has no default constructor (or a way to set the message after instantiation). If a custom exception is based on it, can the derived class be made injectable?</p>

<pre><code>public class SpecialPurposeException extends Exception {

  private static final long serialVersionUID = 1L;

  public SpecialPurposeException(String message) {
    super(message);
  }
}
</code></pre>

<p>The custom exception will not normally be instantiated outside of its module, but for consistency reasons it should perhaps be injected inside of it.</p>
","1544144","","","","","2012-08-16 04:15:47","Can you inject a custom exception (or its provider)?","<java><dependency-injection><guice><gin>","1","1","1","","","11980049","2253","2253","gin","315","5802757","5802756"
"12613072","1","12765711","","2012-09-27 02:05:48","","1","2999","<p>I'm really having a hard time fixing the error below as I have properly added the the jars and the <code>&lt;inherits ...&gt;</code> in the <code>gwt.xml</code> file</p>

<p>0</p>

<pre><code>5:27:22.011 [ERROR] [myapp] Failed to create an instance of 'com.mycompany.client.MainAppEntryPoint' via deferred binding

java.lang.RuntimeException: Deferred binding failed for 'com.mycompany.client.gin.ClientGinjector' (did you forget to inherit a required module?)
    at com.google.gwt.dev.shell.GWTBridgeImpl.create(GWTBridgeImpl.java:53)
    at com.google.gwt.core.client.GWT.create(GWT.java:97)
    at com.mycompany.client.MainAppEntryPoint.&amp;lt;init&amp;gt;(MainAppEntryPoint.java:10)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:525)
    at com.google.gwt.dev.shell.ModuleSpace.rebindAndCreate(ModuleSpace.java:465)
    at com.google.gwt.dev.shell.ModuleSpace.onLoad(ModuleSpace.java:375)
    at com.google.gwt.dev.shell.OophmSessionHandler.loadModule(OophmSessionHandler.java:200)
    at com.google.gwt.dev.shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:525)
    at com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer.java:363)
    at java.lang.Thread.run(Thread.java:722)
Caused by: java.lang.VerifyError: (class: com/gwtplatform/mvp/client/PresenterWidget, method: fireEvent signature: (Lcom/google/gwt/event/shared/GwtEvent;)V) Incompatible argument to function
    at java.lang.Class.getDeclaredConstructors0(Native Method)
    at java.lang.Class.privateGetDeclaredConstructors(Class.java:2404)
    at java.lang.Class.getDeclaredConstructors(Class.java:1853)
    at com.google.inject.spi.InjectionPoint.forConstructorOf(InjectionPoint.java:243)
    at com.google.inject.internal.ConstructorBindingImpl.create(ConstructorBindingImpl.java:96)
    at com.google.inject.internal.InjectorImpl.createUninitializedBinding(InjectorImpl.java:628)
    at com.google.inject.internal.BindingProcessor$1.visit(BindingProcessor.java:169)
    at com.google.inject.internal.BindingProcessor$1.visit(BindingProcessor.java:89)
    at com.google.inject.internal.UntargettedBindingImpl.acceptTargetVisitor(UntargettedBindingImpl.java:42)
    at com.google.inject.internal.BindingProcessor.visit(BindingProcessor.java:89)
    at com.google.inject.internal.BindingProcessor.visit(BindingProcessor.java:52)
    at com.google.inject.internal.BindingImpl.acceptVisitor(BindingImpl.java:93)
    at com.google.inject.internal.AbstractProcessor.process(AbstractProcessor.java:55)
    at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:172)
    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:103)
    at com.google.inject.Guice.createInjector(Guice.java:95)
    at com.google.gwt.inject.rebind.BindingsProcessor.validateModulesUsingGuice(BindingsProcessor.java:437)
    at com.google.gwt.inject.rebind.BindingsProcessor.process(BindingsProcessor.java:241)
    at com.google.gwt.inject.rebind.GinjectorGeneratorImpl.generate(GinjectorGeneratorImpl.java:76)
    at com.google.gwt.inject.rebind.GinjectorGenerator.generate(GinjectorGenerator.java:47)
    at com.google.gwt.core.ext.GeneratorExtWrapper.generate(GeneratorExtWrapper.java:48)
    at com.google.gwt.core.ext.GeneratorExtWrapper.generateIncrementally(GeneratorExtWrapper.java:60)
    at com.google.gwt.dev.javac.StandardGeneratorContext.runGeneratorIncrementally(StandardGeneratorContext.java:647)
    at com.google.gwt.dev.cfg.RuleGenerateWith.realize(RuleGenerateWith.java:41)
    at com.google.gwt.dev.shell.StandardRebindOracle$Rebinder.rebind(StandardRebindOracle.java:78)
    at com.google.gwt.dev.shell.StandardRebindOracle.rebind(StandardRebindOracle.java:268)
    at com.google.gwt.dev.shell.ShellModuleSpaceHost.rebind(ShellModuleSpaceHost.java:141)
    at com.google.gwt.dev.shell.ModuleSpace.rebind(ModuleSpace.java:585)
    at com.google.gwt.dev.shell.ModuleSpace.rebindAndCreate(ModuleSpace.java:455)
    at com.google.gwt.dev.shell.GWTBridgeImpl.create(GWTBridgeImpl.java:49)
    at com.google.gwt.core.client.GWT.create(GWT.java:97)
    at com.mycompany.client.MainAppEntryPoint.&amp;lt;init&amp;gt;(MainAppEntryPoint.java:10)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:525)
    at com.google.gwt.dev.shell.ModuleSpace.rebindAndCreate(ModuleSpace.java:465)
    at com.google.gwt.dev.shell.ModuleSpace.onLoad(ModuleSpace.java:375)
    at com.google.gwt.dev.shell.OophmSessionHandler.loadModule(OophmSessionHandler.java:200)
    at com.google.gwt.dev.shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:525)
    at com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer.java:363)
    at java.lang.Thread.run(Thread.java:722)
</code></pre>

<p>Here's my app main entry point class:</p>

<pre><code>public class MainAppEntryPoint implements EntryPoint {

    private final ClientGinjector ginjector = GWT.create(ClientGinjector.class);

    @Override
    public void onModuleLoad() {

        // Inject global styles
        GWT.&lt;Resources&gt;create(Resources.class).style().ensureInjected();

        // This is required for Gwt-Platform proxy's generator
        DelayedBindRegistry.bind(ginjector); // Line 10, reference from the stack trace above

        ginjector.getPlaceManager().revealCurrentPlace();
    }
}
</code></pre>
","785349","","","","","2012-10-07 02:49:53","Deferred binding failed for 'com.mycompany.client.gin.ClientGinjector'","<java><gwt><guice><gwt-platform><gin>","1","4","","","","12613072","2253","2253","gin","315","5802757","5802756"
"12702538","1","","","2012-10-03 05:47:30","","1","131","<p>I am facing an issue, when I do inject a nested view  into my base view's constructor using @inject. I am not able to handle the nested view's events in it own presenter. Because  of which I need to handle them in the Base View's presenter.
I have 2 view and their respective presenter's : AppBaseView - AppBasePresenter;
LoginView - LoginPresenter.
I @inject LoginView into the AppBaseView.
Now that I have to handle the Login Button event, I am not able to do so in the LoginPresenter, but need to handle it in the AppBasePresenter.
No idea why does that happen. Am I missing anything?
Any light on this issue would be higly appreciated.</p>

<p>Thanks.</p>
","1621657","","","","","2012-10-03 16:36:13","Nested View's Presenter not getting initialized and not being able to handle its view's events","<java><gwt><guice><gin><mvp4g>","1","1","","","","12702538","2253","2253","gin","315","5802757","5802756"
"12867354","1","12868404","","2012-10-12 21:28:14","","1","383","<p>Our application uses GIN to instantiate its GWT Resource bundle dynamically. This is done to enable loading different stylesheets at runtime for different display modes. In general, this means that I can create the singleton instance of the resources using something like <code>MyApp.ginjector.getResources()</code> as opposed to the standard <code>GWT.create(MyAppResources.class)</code>. </p>

<p>This works well for everything but UiBinder code. We have been using <code>&lt;ui:with ref=""res"" type=""com.company.MyAppResources"" /&gt;</code> and I would like the instance of <code>MyAppResources</code> to be created with GIN rather than <code>GWT.create</code>.</p>

<p>According to the <a href=""https://developers.google.com/web-toolkit/doc/latest/DevGuideUiBinder#Share_resource_instances"" rel=""nofollow"">GWT UiBinder docs</a>, there are two ways to handle this. Either use a <code>@UiField(provided=true)</code> or a <code>@UiFactory</code> in the component. Both of these methods are undesirable because they require people on my team (including myself) to remember to put this boilerplate code into every widget. Worse, if the creation code is omitted, everything will still appear to work, since <code>GWT.create</code> will create an instance of our Resources, just not the one we want.</p>

<p>I am looking for a method of creating some sort of global <code>@UiFactory</code> method which all my components will use, which will delegate to GIN. Alternatively, some way of hooking into <code>GWT.create</code> for specific classes and having client-side runtime code create the instance would work as well, as I could then delegate the object creation to my static <code>Ginjector</code>. </p>
","966104","","","","","2012-10-12 23:23:23","Using GIN-created resource in UiBinder xml","<java><gwt><guice><uibinder><gin>","1","0","","","","12867354","2253","2253","gin","315","5802757","5802756"
"12901483","1","","","2012-10-15 18:09:17","","0","135","<p>I have this GinModule:</p>

<pre><code>public class LocalizadorGinModule extends AbstractGinModule {
    @Override
    protected void configure() {
        bind(Localizador.class).to(LocalizadorAImple.class).in(Singleton.class);
        bind(Localizador.class).to(LocalizadorBImpl.class).in(Singleton.class);
    }
}
</code></pre>

<p>and I wanna use it like this:</p>

<pre><code>public interface LocalizadorGinjector extends Ginjector {
    Localizador getA();
    Localizador getB();
}
</code></pre>

<p>But I dont know how <code>gwt</code> will know the right implementation.</p>

<p>Is there any way to do this?</p>
","1461412","","1456376","","2013-03-06 19:52:04","2013-07-04 01:40:28","GWT - GinModule use the same interface for different implementations","<java><gwt><dependency-injection><gin>","1","1","","","","12901483","2253","2253","gin","315","5802757","5802756"
"12961459","1","","","2012-10-18 18:36:17","","3","1482","<p>I've got a collection of documents that I'd like to do some full text searching on in Postgres 9.1, so adding them as the contents of a tsvector and then creating a GIN index on this column seems straightforward enough. My understanding of the GIN index is that the keys used are (depedning on the text search configuration used) either the list of original words or their normalized lexemes from the collection of original documents. However, for other functionality we've developed I'd really like to get that list of keys out of the GIN index to put in another column in a different table for use. Is this possible?</p>

<p>Edit: I've <a href=""http://archives.postgresql.org/message-id/CAF6hsPjHgoHWgsH62JbTiZnqHP0-JqZS7xzVyS+pMC6AfLx4bQ@mail.gmail.com"" rel=""nofollow"">re-posted this on the pgsql-general mailing list</a>.</p>
","1757158","","398670","","2012-10-19 05:26:25","2012-10-19 05:27:04","retrieving keys from a GIN index on a tsvector column in Postgres 9.1","<postgresql><indexing><full-text-search><gin>","1","0","1","","","12961459","2253","2253","gin","315","5802757","5802756"
"13030464","1","13031270","","2012-10-23 12:30:56","","6","1038","<p>It looks like GWT has its own baked-in DI mechanism (<code>GWT.create(Class&lt;?&gt;)</code>). What benefits does GIN offer on top of this? Should you ever use them in conjunction with one another, or are they mutually exclusive? I like Guice so I'm tempted to use GIN, but don't want to introduce it if GWT already does the same stuff right out of the box.</p>
","1762158","","","","","2012-10-23 14:02:32","GWT.create(Class<?>) vs. GIN?","<java><gwt><guice><gin>","2","0","","","","13030464","2253","2253","gin","315","5802757","5802756"
"13400581","1","13411256","","2012-11-15 15:22:31","","1","330","<p>I am experimenting with my first GWT app that uses GIN. I am essentially mimicking the exact same source code example found in their <em>Getting Started</em> tutorial. At the end of that tutorial, the author mentions that you need to supply the the GWT compiler with a classpath pointing to the compiled Java binaries. The example they use for doing this <a href=""http://code.google.com/p/google-gin/wiki/GinTutorial#Compilation"" rel=""nofollow"">is done using an Ant target</a>.</p>

<p>Although I will have an automated (Ant-driven) build that also emulates this build task, I want to be able to run/debug my GWT apps from inside of Eclipse without having to kick off an Ant build.</p>

<p>So I ask: when running my GWT app inside Eclipse (Dev Mode), how do I configure the GIN library to point to the compiled classes? Thanks in advance!</p>
","","user1768830","","","","2012-11-16 05:55:49","How to get Google GIN working with Google-Eclipse plugin in DevMode?","<java><gwt><dependency-injection><gin><google-eclipse-plugin>","1","0","0","","","13400581","2253","2253","gin","315","5802757","5802756"
"13401100","1","13401635","","2012-11-15 15:47:31","","3","1660","<p>I have the following GWT module:</p>

<pre><code>public class FizzModule implements EntryPoint {
    private Buzz buzz;

    public FizzModule() {
        this(null);
    }

    public FizzModule(Buzz bz) {
        super();

        setBuzz(bz);
    }

    @Override
    public void onModuleLoad() {
        // ...etc.
    }
}
</code></pre>

<p>I would like to ""inject"" <code>FizzModule</code> with a <code>Buzz</code> instance. However, all of the code examples I see for GWT modules do not use constructors. Instead, they bootstrap the DI mechanism (typically either ClientFactory or GIN) from inside the <code>onModuleLoad()</code> method. Is this something that GWT forces, or can I somehow inject my module before it loads to the client-side? Thanks in advance!</p>
","","user1768830","","","","2012-11-16 00:18:38","Can I pass arguments into GWT Module constructor?","<java><gwt><dependency-injection><gin>","2","0","","","","13401100","2253","2253","gin","315","5802757","5802756"
"13408466","1","13411109","","2012-11-16 00:11:12","","2","4397","<p>I've followed the <a href=""http://code.google.com/p/google-gin/wiki/GinTutorial#Step_3._Declare_bindings"" rel=""nofollow"">basic setup instructions</a> on the GWT-GIN tutorial page. I'm on Step #3 (<strong>Declare bindings</strong>) and am trying to figure out how to use GIN's Binder API.</p>

<pre><code>public class MyModule extends AbstractGinModule {
    @Override
    public void configure() {
        // 1. Declare an instance of EventBus and make sure every
        // injection request pulls back the same instance.
        EventBus eventBus = new EventBus();
        bind(EventBus.class).to??? // no toInstance() method!

        // 2. Declare two instances of Fizz using different constructors,
        // and allow the injection of either of them.
        Fizz f1 = new Fizz(true, ""oh yeah"", null);
        Fizz f2 = new Fizz();
        bind(Fizz.class).to??? // no toInstance() AND don't know how to choose f1 or f2!

        // 3. Declare a List of Buzz objects and allow them to be
        // injectable.
        List&lt;Buzz&gt; buzzes = new ArrayList&lt;Buzz&gt;();
        configureBuzzes(buzzes); // adds configured Buzz objects to the list
        bind(???).to(buzzes); // no toInstance() methods AND how to bind List&lt;?&gt;.class?!

        // 4. Conditionally bind SomePlace to Place *only* when we want the default Place
        // that 'historyHandler.handleCurrentHistory()' will go to when called onModuleLoad.
        bind(Place.class).to(SomePlace.class); // forces me to only have SomePlace instances!
    }
}
</code></pre>

<p>The four use cases above are what I'm struggling with. Respectively:</p>

<ol>
<li>How to reuse the same instance of <code>EventBus</code> every time a client requests it?</li>
<li>Building from #1 above, how to have 2+ different instances that can be injected under different scenarios?</li>
<li>How to inject a <code>List</code> of anything?</li>
<li>Might be the same as #2 above, but how to bind 2+ Place subclasses to <code>Place.class</code>?</li>
</ol>

<p>Thanks in advance!</p>
","","user1768830","","","","2012-11-16 05:53:18","How to bind essential GWT components with GIN?","<java><gwt><dependency-injection><gin>","1","0","","","","13408466","2253","2253","gin","315","5802757","5802756"
"13434690","1","","","2012-11-17 20:55:29","","2","844","<p>I am trying to configure my GIN module to bind <code>ActivityManager</code> requests to a <code>DefaultActivityManagerProvider</code>:</p>

<pre><code>import com.google.inject.Provider;

public class DefaultActivityManagerProvider implements Provider&lt;ActivityManager&gt; {
    @Override
    public ActivityManager get() {
        return new ActivityManager(new MyDefaultActivityMapper());
    }
}
</code></pre>

<p>But when I go to actually bind it:</p>

<pre><code>public class MyAppGinModule extends AbstractGinModule {
    @Override
    protected void configure() {
        bind(ActivityManager.class).toProvider(DefaultActivityManagerProvider.class);
    }
}
</code></pre>

<p>I get a compile error on the <code>bind(...)</code> statement:</p>

<pre><code>Bound mismatch: The generic method toProvider(Class&lt;I&gt;) of type
GinLinkedBindingBuilder&lt;T&gt; is not applicable for the arguments
(Class&lt;DefaultActivityManagerProvider&gt;). The inferred type
DefaultActivityManagerProvider is not a valid substitute for the
bounded parameter &lt;I extends Provider&lt;? extends ActivityManager&gt;&gt;
</code></pre>

<p><strong>What am I doing wrong here?!?</strong> I have followed countless examples such as <a href=""https://stackoverflow.com/questions/7631153/gwt-gin-multiple-implementations"">this one</a> and can't figure out why I am getting the error! Thanks in advance!</p>
","","user1768830","-1","user1768830","2017-05-23 12:14:17","2012-11-28 21:44:10","GWT GIN Provider compile error","<java><gwt><guice><gin>","1","10","","","","13434690","2253","2253","gin","315","5802757","5802756"
"13725017","1","13725194","","2012-12-05 14:06:05","","0","143","<p>I have an object that implements ""IsTreeItem"". The Object is displayed as a two level tree item. Each tree item is built with a check box.
I need to know when a check box is changing value - so i am listening to ValueChangedEvents.</p>

<p>The first problem is that the Tree built with such items only fires SelectionEvents. If selection is changing the check box the ValueChanged event is fired afterwards - so there is no way to listen to events inside ""IsTreeItem"" from Tree.</p>

<p>So i let my ""IsTreeItem"" fire its own element. So i (field)injected an EventBus and used it to fire the event if ""ValueChanged"".
The Problem is that my ""IsTreeItem"" is an Object sent from server (it is in shared package and serializable). The object is instantiated on server (EventBus is not ionjected) and ""asTreeItem"" is called on client.</p>

<p>Is there a way to inject the EventBus in the Method TreeItem asTreeItem() in some way? Or are there any other means to let some one outside know if a check box has changed its value.</p>
","447426","","","","","2012-12-05 14:15:36","Gin injecting in a shared (client server) object - ""IsTreeItem""","<gwt><guice><gin>","1","0","","","","13725017","2253","2253","gin","315","5802757","5802756"
"13756868","1","","","2012-12-07 04:20:44","","2","756","<p>I'm getting following exception when open my GWT app in development mode. the exact same code can compile successfully using mvn gwt:compile</p>

<blockquote>
  <p>Caused by: java.lang.ArrayIndexOutOfBoundsException: 3667     at
  com.google.gwt.dev.asm.ClassReader.readClass(ClassReader.java:1976)
    at com.google.gwt.dev.asm.ClassReader.accept(ClassReader.java:464)
    at com.google.gwt.dev.asm.ClassReader.accept(ClassReader.java:420)
    at
  com.google.gwt.dev.shell.rewrite.HasAnnotation.hasAnnotation(HasAnnotation.java:45)
    at
  com.google.gwt.dev.shell.CompilingClassLoader.findClass(CompilingClassLoader.java:1100)
    at
  com.google.gwt.dev.shell.CompilingClassLoader.loadClass(CompilingClassLoader.java:1203)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)    at
  java.lang.Class.forName0(Native Method)   at
  java.lang.Class.forName(Class.java:247)   at
  com.google.gwt.dev.shell.ModuleSpace.loadClassFromSourceName(ModuleSpace.java:665)
    at
  com.google.gwt.dev.shell.ModuleSpace.rebindAndCreate(ModuleSpace.java:468)
    at
  com.google.gwt.dev.shell.GWTBridgeImpl.create(GWTBridgeImpl.java:49)
    at com.google.gwt.core.shared.GWT.create(GWT.java:57)   at
  com.google.gwt.core.client.GWT.create(GWT.java:85)    at ...</p>
</blockquote>

<p>I overdid ModuleSpace.java and printed out the class name at line 665 before Class.forName() which points out it is trying to load the generated GinjectorImpl.java</p>

<p>I found out my generated GinjectorImpl.java is about 9MB and with 100K+ lines of code.</p>

<p>When I randomly remove some modules from my GWT app it works again, so I'm guessing it is too large for ASM to compile.</p>

<p>Any suggestions? Thanks</p>

<p>Environment:
GWT 2.5.0, GIN 1.5.0, gwt-maven-plugin 2.5.0, Java 6 SE</p>
","1172627","","1172627","","2012-12-07 04:28:37","2013-09-11 13:21:42","GWT dev mode throws ArrayIndexOutOfBoundsException when compile GinjectorImpl.java","<java><gwt><gin>","2","0","","","","13756868","2253","2253","gin","315","5802757","5802756"
"14534420","1","14542013","","2013-01-26 06:14:46","","2","1446","<p>I designed a new project using Guice/Gin so I could make our code more modular and swap-able especially when testing. </p>

<p>However, I am not able to find out how to make this work in practice. I was under the impression that I could just create a new Gin/Guice module in my test and install my 'base' module, overloading any bindings that I want to replace with specific testing implementations. </p>

<p>I don't want to have to use GWTTestCase and load my entire module, because it is very slow and unecissary for the types of granular testing I need to do.</p>

<p>I have tried using Jukito (<a href=""http://code.google.com/p/jukito/"" rel=""nofollow"">http://code.google.com/p/jukito/</a>), gwt-test-utils (<a href=""http://code.google.com/p/gwt-test-utils/wiki/HowToUseWithGIN"" rel=""nofollow"">http://code.google.com/p/gwt-test-utils/wiki/HowToUseWithGIN</a>) and also some resources on doing this with guice (<a href=""http://fabiostrozzi.eu/2011/03/27/junit-tests-easy-guice/"" rel=""nofollow"">http://fabiostrozzi.eu/2011/03/27/junit-tests-easy-guice/</a>).</p>

<p>None of these methods are yielding any results. </p>

<p>I think the Guice approach might work, if I defined a mirror guice module for my Gin module. However I really don't want to have to manage both of these. I really just want to test my GIN module like I would assume people test with Guice.</p>

<p>I feel like this should be really simple, can anyone point me to examples that work?</p>

<p><strong>Update</strong></p>

<p>Another way of looking at this question is: </p>

<p>How do I get the examples on the Jukito site (<a href=""http://code.google.com/p/jukito/"" rel=""nofollow"">http://code.google.com/p/jukito/</a>) work when the classes I am injecting are in an exernal Gin module?</p>

<p>**Update - In reference to Thomas Boyer's answer **</p>

<p>Thanks for the hint Tom, I was not able to find examples of using the adapter but I tried augmenting the Jukito examples to use the GinModuleAdapter anyway:</p>

<pre><code>@RunWith(JukitoRunner.class)
public class MyGinTest {

  public static class Module extends JukitoModule {
    protected void configureTest() {
        install(new GinModuleAdapter(new ClientModule()));
    }
  }

  @Test
  @Inject
  public void testAdd(SyncedDOMModel mod){
      assertNotNull(mod);
  }
}
</code></pre>

<p>When I tried to run this test I recieved this exception:</p>

<pre><code>java.lang.AssertionError: should never be actually called
    at com.google.gwt.inject.rebind.adapter.GwtDotCreateProvider.get(GwtDotCreateProvider.java:43)
    at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
    at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
    at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
    at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
    at com.google.inject.Scopes$1$1.get(Scopes.java:65)
    at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
    at com.google.inject.internal.InternalInjectorCreator$1.call(InternalInjectorCreator.java:204)
    at com.google.inject.internal.InternalInjectorCreator$1.call(InternalInjectorCreator.java:198)
    at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1024)
    at com.google.inject.internal.InternalInjectorCreator.loadEagerSingletons(InternalInjectorCreator.java:198)
    at com.google.inject.internal.InternalInjectorCreator.injectDynamically(InternalInjectorCreator.java:179)
    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:109)
    at com.google.inject.Guice.createInjector(Guice.java:95)
    at com.google.inject.Guice.createInjector(Guice.java:72)
    at com.google.inject.Guice.createInjector(Guice.java:62)
    at org.jukito.JukitoRunner.ensureInjector(JukitoRunner.java:118)
    at org.jukito.JukitoRunner.computeTestMethods(JukitoRunner.java:177)
    at org.jukito.JukitoRunner.validateInstanceMethods(JukitoRunner.java:276)
    at org.junit.runners.BlockJUnit4ClassRunner.collectInitializationErrors(BlockJUnit4ClassRunner.java:102)
    at org.junit.runners.ParentRunner.validate(ParentRunner.java:344)
    at org.junit.runners.ParentRunner.&lt;init&gt;(ParentRunner.java:74)
    at org.junit.runners.BlockJUnit4ClassRunner.&lt;init&gt;(BlockJUnit4ClassRunner.java:55)
    at org.jukito.JukitoRunner.&lt;init&gt;(JukitoRunner.java:72)
</code></pre>

<p>My gin module is part of a GWTP project, and looks like this:</p>

<pre><code>public class ClientModule extends AbstractPresenterModule {

    @Override
    protected void configure() {
        install(new DefaultModule(ClientPlaceManager.class));

        bindPresenter(MainPagePresenter.class, MainPagePresenter.MyView.class,
                MainPageView.class, MainPagePresenter.MyProxy.class);

        bindConstant().annotatedWith(DefaultPlace.class).to(NameTokens.main);

        bindPresenterWidget(MapTreePresenter.class,
                MapTreePresenter.MyView.class, MapTreeView.class);

        bindPresenterWidget(MapTreeItemPresenter.class,
                MapTreeItemPresenter.MyView.class, MapTreeItemView.class);

        bind(ResourcePool.class).to(DefferredResourcePool.class);

        bind(WebSocket.class).to(WebSocketImpl.class);

    }

}
</code></pre>

<p>As you can somewhat see, the class I am injecting in my test <code>SyncedDOMModel</code>, uses a <code>WebSocket</code> which I bind in my module. When I am testing, I don't want to use a real websocket and server. So I want to overload that binding in my test, with a class that basically emulates the whole thing. It's easier to just inject a different implementation of the WebSocket in this case rather than use mocking. </p>

<p>If it helps, this is a basic outline of the SyncedDOMMOdel class:</p>

<pre><code>public class SyncedDOMMOdel {
 ....
    @Inject
    public SyncedDOMModel(WebSocket socket){
        this.socket = socket;
    }

 ....
}
</code></pre>
","412354","","1768232","","2015-08-04 23:31:02","2015-08-04 23:31:02","JUnit test with GIN injection, without GWTTestCase and overloading gin modules?","<gwt><junit><guice><gin><jukito>","1","0","","","","14534420","2253","2253","gin","315","5802757","5802756"
"14563148","1","14568695","","2013-01-28 13:30:43","","1","621","<p>I'm working in some GWT application in which I have a hierarchy where I have an abstract presenter with some common functionality of derived classes.  Something like:</p>

<pre><code>public abstract class MyAbstractPresenter&lt;T extends MyAbstractPresenter.CustomDisplay&gt; extends Presenter&lt;T&gt;
{
public interface CustomDisplay extends View
{
  //some methods
}

//I want to inject this element
@Inject
private CustomObject myObj;

public MyAbstractPresenter(T display)
{
   super(display);
}
}
</code></pre>

<p>All the subclasses get injected properly. However, I want to be able to inject that particular field without having it to add it in the constructor of the subclasses.  I tried to do field injection as you see , but it doesn't work as it is the subclasses the one that get injected.</p>

<p>Is there a proper way to achieve this Injection without letting the subclasses know about the existence of the field?</p>
","634368","","634368","","2013-01-28 18:38:45","2013-01-28 18:38:45","GIN injection of field in abstract class","<java><gwt><dependency-injection><guice><gin>","1","2","","","","14563148","2253","2253","gin","315","5802757","5802756"
"14713774","1","14729404","","2013-02-05 17:53:17","","3","933","<p>how can I detect GIN and GiST indexes in postgresql? I am looking for if an database of postgres use fulltext. I think that a table use GIN o GiST then is using fulltext.</p>

<p>I accept that GIN or GiST indexes does not necessarily mean that they are used for full text search, but how can I differentiate them of other indexes type? I want to list Gin an Gist indexes</p>
","2044138","","168868","","2014-03-29 03:32:03","2015-06-24 12:01:27","how can I detect gin and gist","<postgresql><indexing><gin><gist-index>","2","1","","","","14713774","2253","2253","gin","315","5802757","5802756"
"14782941","1","14813797","","2013-02-08 23:19:25","","0","1038","<p>Is there a simple way of doing this in doctrine, or am I going to have to do a native sql query? If someone could point me in the right direction, it would be appreciated.</p>
","1783860","","","","","2013-02-11 14:35:50","How to perform full text search on a gin postgres index in doctrine 2.2?","<postgresql><symfony><doctrine><full-text-search><gin>","1","1","","","","14782941","2253","2253","gin","315","5802757","5802756"
"15450528","1","15452092","","2013-03-16 14:36:44","","2","1609","<p>I have a question about using Gin to inject GWT Async RPC service.</p>

<p>I have two classes both using the same Async service:</p>

<pre><code>class TheViewA {    
    @Inject
    public TheViewA(MyServiceAsync myServiceASync) {
        ....
    }
}


class TheViewB {
    @Inject
    public TheViewB(MyServiceASync myServiceASync) {
        ....
    }
}
</code></pre>

<p>This works fine. However, I found out this will cause GWT internally call:</p>

<pre><code>GWT.create(MyServiceASync.class) 
</code></pre>

<p>twice for each injection. I don't know what is the disadvantage of this, but I am thinking they can both share a single MyServiceAsync instance.</p>

<p>Can someone tell me how to configure Gin (Guice) so that only one instance of MyServiceAsync is created for both injection? </p>

<p>Or Is it OK to create separate instances for both injection and why?</p>

<p>Many thanks.</p>
","","user2064791","","","","2013-03-16 17:05:25","GWT Gin Async Service Injection","<java><gwt><guice><gin>","1","3","2","","","15450528","2253","2253","gin","315","5802757","5802756"
"15502493","1","","","2013-03-19 14:39:50","","0","211","<p>i have got module and this module only read config from server via async callbacK: </p>

<pre class=""lang-java prettyprint-override""><code>@Singleton
public class Config {

private ConnectionSettings connectionSettings;

@Inject
protected Config(final MainRPCAsync mainRpc) {  

      configureConnection(mainRpc);
}

private void configureConnection(MainRPCAsync mainRpc) {

    Log.debug(""****Configure connection.."");

    mainRpc.getConfig(new AsyncCallback&lt;Configuration&gt;() {

        @Override
        public void onSuccess(Configuration result) {
            Log.debug(""-----------Get config"");
                                 //initialize configuration settings

            });             

        }

    });
</code></pre>

<p>and next this class <code>Config</code> is injected to another module but when i need to get <code>configSettings</code> from that module i get only <code>null</code> ....</p>

<p>and in log console i read info that line <code>Log.debug(""-----------Get config"");</code> show info after all ...</p>

<p>Its possible be sure that connection settings will be initialized by rpc async before injection that class to another module ? </p>
","1568605","","1417997","","2013-03-19 16:57:26","2015-09-17 23:14:11","gin inject and read config from async service","<gwt><guice><gwt-rpc><gin>","1","0","","","","15502493","2253","2253","gin","315","5802757","5802756"
"15525382","1","","","2013-03-20 13:47:09","","0","315","<p>I am looking for example to use code splitting with gin and smartgwt ...</p>

<p>In my simple application I have 2 modules <code>AutoLoadModule</code> and <code>WindowModule</code>. In my simple app I just need to load a window when some button is clicked.</p>

<p>My window module contains: </p>

   

<pre class=""lang-java prettyprint-override""><code>@Override
protected void configure() {
    bind(MainWindow.class).in(Singleton.class);

}
</code></pre>

<p>and my <code>MainWindow</code>: </p>

<pre class=""lang-java prettyprint-override""><code>@Singleton
public class MainWindow extends Window implements SessionStatusChangedEvent.Handler {

    private final XmppSession session;

    @Inject
    private MainWindow(XmppSession session) {

        Log.debug(""Constructor ImMainWindow... !"");

        this.session = session;
        initComponent();
    }
    ....................
</code></pre>

<p>In my <code>AutoLoadModule</code> I have bind <code>AutoLoad</code> <code>asEagerSingleton();</code></p>

<pre class=""lang-java prettyprint-override""><code>    @Override
    protected void configure() {
    bind(StartButton.class).toProvider(StartChatButtonProvider.class);
        bind(AutoLoader.class).asEagerSingleton();

    }
</code></pre>

<p>My <code>AutoLoader</code> class: </p>

<pre class=""lang-java prettyprint-override""><code>@Singleton
public class AutoLoader implements Scheduler.ScheduledCommand {

private final XmppConnection connection;
@Nullable
private final ImStartButton startButton;

    @Inject
    protected AutoLoader(final XmppConnection connection, final XmppSession session,
             final StartButton startButton) {
    this.startButton = startButton;

    Scheduler.get().scheduleDeferred(this);
    }

    @Override
    public final void execute() {
    startButton.addClickHandler(new ClickHandler() {

        @Override
        public void onClick(ClickEvent event) {
            Log.debug(""StartButton click handler..."");
                    //load window in this point but how ? ....
        }
    });
    }
}
</code></pre>

<p>Its possible to load a window instance using Code Splitting, when window is in <code>WindowModule</code>? In my example app I need load the window only on demand using code splitting and that window must be in a gin module.</p>
","1568605","","1417997","","2013-03-20 14:09:17","2013-03-20 15:06:11","smartgwt + gin Code Splitting","<gwt><smartgwt><gwt2><gin>","1","0","","","","15525382","2253","2253","gin","315","5802757","5802756"
"15631056","1","15633883","","2013-03-26 06:52:59","","3","1562","<p>what is the difference between provider and AsyncProvider in GWT. My understanding is that both are used for code splitting and delayed instantiation. 
so I am not able to decide, in which case we go for Provider and not for AsyncProvider ?</p>

<p>Thanks in advance!</p>
","2210421","","116472","","2013-03-26 09:38:48","2013-03-26 09:48:27","GWT: Provider vs AsyncProvider","<gwt><gin><gwtp>","1","1","","","","15631056","2253","2253","gin","315","5802757","5802756"
"15675215","1","","","2013-03-28 06:00:49","","1","258","<p>I am using GWT in my application. For caching pictures i use ClientBundle with ImageResource. I have many ClientBundles like this:</p>

<pre><code>public interface MenuBundle extends ClientBundle { 

  @Source(background.png) 
  ImageResource background();

  @Source(image_bg.png) 
  ImageResource image_bg();

...

}
</code></pre>

<p>and hundreds ClientBundles with same methods like this:</p>

<pre><code>    public interface House1 extends House, ClientBundle { 

      @Source(house1/pic1.png) 
      ImageResource pic1();

      @Source(house1/pic2.png) 
      ImageResource pic2();

      @Source(house1/pic3.png) 
      ImageResource pic3();

    ...

    }

    public interface House2 extends House, ClientBundle{ 

      @Source(house2/pic1.png) 
      ImageResource pic1();

      @Source(house2/pic2.png) 
      ImageResource pic2();

      @Source(house2/pic3.png) 
      ImageResource pic3();

    ...

    }

   public interface House { 

      ImageResource pic1();

      ImageResource pic2();    

      ImageResource pic3();

    ...

    }
</code></pre>

<p>In result i have hundreds pictures on server like ""*.cache.png"".
For fast loading i need less pictures. For this purpose i found decision:</p>

<pre><code>public class ClientBundleModule extends AbstractGinModule {

 @Override
 protected void configure() {
  bind(MenuBundle.class).to(ClientBundlePack1.class);
  bind(NatureFuture.class).to(ClientBundlePack1.class);
  ...
  bind(House1.class).to(ClientBundlePack2.class);
  bind(House2.class).to(ClientBundlePack2.class);
  bind(House3.class).to(ClientBundlePack2.class);
  ...
 }
}

public interface ClientBundlePack1 extends MenuBundle, NatureFuture, ... {
}

public interface ClientBundlePack2 extends House1, House2, House3, ... {
}
</code></pre>

<p>Also there is Ginjector, ... But problem is :</p>

<p>MenuBundle, NatureFuture and other classes in ClientBundlePack1 compile in one big picture (it's good), but House1, House2, House3 and other Houses do not compile in one big picture (it's bad). </p>

<p>Houses compile each class House in one picture. I see problem in java way to extends implementation, to use just one same method like pic1 instead use all methods pic1. </p>

<p>But i need to join all Houses in one picture. There is setting, annotation for GIN to do that. Or may be is there other way for join all Houses? But i cannot rewrite code of Houses, it will break architecture of my application. I need all houses immediately after preloading, without ""Lazy loading"".  </p>

<p>Thanks.</p>
","2218361","","","","","2013-03-28 06:00:49","GWT GIN to bind many ClientBundle with ImageResource in one picture for fast loading application","<java><gwt><browser-cache><gin><clientbundle>","0","5","","","","15675215","2253","2253","gin","315","5802757","5802756"
"15686808","1","18901423","","2013-03-28 16:11:29","","0","868","<p>I have read a TON of stackoverflow and other resources trying to find an answer and maybe I just don't get it.</p>

<p>I am trying to inject a GIN @Singleton into several widgets and classes in my application's client code. Using Spring I can simply use the correct annotation and anything is injectable pretty much anywhere. Using GWT and GIN I can't seem to inject anywhere other than the constructors. I don't want to inject into a constructor because I am working on a very large project and it would be almost impossible.</p>

<p>Some of these classes are widgets and others are not. They are used throughout the application and some are injected, others are instantiated by new, and others have both, which makes changing the constructor even more difficult.</p>

<p>I want the code to work like this, but don't understand how it works with GIN:</p>

<pre><code>@Singleton
public class ApplicationData {

   public AppInfo getAppInfo() {
      return new AppInfo(""My App Info"");
   }
}

public class MyClass{
   @Inject protected ApplicationData applicationData;

   public void someMethod() {
      doSomething(applicationData.getAppInfo());
   }
}
</code></pre>

<p>Someone else coded this to work in a Presenter and I kind of understand why it works, but I don't totally grasp the concepts. They are no longer around to ask.</p>

<p>Here is a hack that I have so that it will work, but I just don't like it:</p>

<pre><code>@GinModules(GinModule.class)
public interface Injector extends Ginjector {
   final Injector INSTANCE = GWT.create(Injector.class);

   ApplicationData getApplicationData();
}

public class MyWidget extends Composite implements TakesValue&lt;Integer&gt;{

   public static interface MyWidgetUiBinder extends UiBinder&lt;FormPanel, MyWidget&gt;}

   private MyWidgetUiBinder uiBinder = GWT.create(MyWidgetUiBinder.class);
   private ApplicationData appData;

   public ArrivalTimeWidget() {
      appData = Injector.INSTANCE.getApplicationData();
      initWidget(uiBinder.createAndBindUi(this));
      someMethod(appData.getAppInfo());
   }
}
</code></pre>

<p>Please help me to do this correctly instead of using a hack. And please treat me like I am stupid, with full explanations, because when it comes to this, I am stupid.</p>
","1209809","","","","","2013-09-19 17:37:30","GIN Inject @Singleton into widgets fields","<gwt><dependency-injection><gin>","1","8","","","","15686808","2253","2253","gin","315","5802757","5802756"
"15948301","1","15949325","","2013-04-11 12:03:10","","0","388","<p>I often need a client bundle and some i18n-ed messages in presenters and views.</p>

<p>I would like to know which is the best way to get them : Injection or Singleton?</p>

<p><strong>Solution 1:</strong> Up to now, I used to get the messages using a Singleton :</p>

<pre><code>public interface MyMessages extends Messages{

  String key1();
  String key2();
  ...

  class Instance {
    private static MyMessages instance = null;

    public static MyMessages getInstance() {
      if (instance == null) {
       instance = GWT.create(MyMessages.class);
      }
      return instance;
    }
  }
}
</code></pre>

<p>FooView.java : </p>

<pre><code>MyMessages.Instance.getInstance().key1();
</code></pre>

<p><strong>Solution 2:</strong> Would it be better to get it with an injection like this ?</p>

<pre><code>private MyMessages i18n;    

@Inject
public FooView(MyMessages i18n){
  this.i18n=i18n;    
}
</code></pre>

<p>The second solution seems cleaner to me but I sometimes get stuck when I need a non-empty constructor which uses some i18n strings:</p>

<pre><code>@Inject
private MyMessages i18n;

public Bar(Foo foo){
  /*
   * do something which absolutely requires i18n here.
   * The problem is that injectable attributes are called
   * after the constructor so i18n is null here.
   */
  foobar();
}
</code></pre>
","2147970","","2147970","","2013-04-11 12:59:32","2013-04-11 12:59:32","GWT Injection : need good practice","<java><gwt><gin>","1","0","1","","","15948301","2253","2253","gin","315","5802757","5802756"
"16006726","1","","","2013-04-15 02:19:13","","3","374","<p>We store ""broken"" xml in a text field in a table. Fixing xml is not currently possible, so normal use pattern is to search through it using ~* E'my_regex' in where clause. The challenge is that size of the table is very very large.</p>

<p>I am trying to employ gin index to make queries faster. The problem is that while parsing text to tsvector, the parser ignores xml tags.<br>
For example I am looking for the records containing word ""file"". The word could be a part of xml tag or not part of tag.
This is what I tried:</p>

<pre><code>select to_tsvector ( 'simple', '&lt;file mode=""blah""&gt;&lt;value&gt;bar&lt;/value&gt;' ) @@ to_tsquery('simple','file');  
?column?  
f
</code></pre>

<p>What am I doing wrong? How can I specify delimiters to be one of &lt;>&amp;=,./?
Thank you in advance</p>
","2280876","","1033581","","2018-05-04 10:25:04","2018-05-04 10:25:04","PostgreSQL tsvector parse include xml tags in search","<postgresql><indexing><gin><tsvector>","1","1","1","","","16006726","2253","2253","gin","315","5802757","5802756"
"16163557","1","16163769","","2013-04-23 07:34:38","","0","227","<p>I read somewhere that GWT 2.5 now allows Class.getSimpleName.</p>

<p>I am using GWT 2.5, GXT 3.x.</p>

<p>This gave me GIN injector NPE:</p>

<pre><code>GWT.log(this.getClass().getSimpleName() + commentString);
</code></pre>

<p>Is getting the error due to</p>

<ul>
<li>The gin.jar version I am using may not be up-to-par with GWT 2.5</li>
<li>GIN does not support all features of GWT 2.5;</li>
<li>I have read wrongly, GWT does not yet support Class.getSimpleName.</li>
<li>Some other reason<br>
??</li>
</ul>
","140803","","","","","2013-04-23 09:19:16","Class.getSimpleName NPE with GIN, GWT 2.5","<java><gwt><gin>","1","0","","","","16163557","2253","2253","gin","315","5802757","5802756"
"16242323","1","16281433","","2013-04-26 17:47:39","","1","371","<p>I have a GWTP application which has no entry point because I don't ever need to run this application on its own. Rather I want to use it within a standard GWT application which has an entry point, implements its own history management mechanism, uses its own implementation of MVP framework, has its own dependency injection and so on. </p>

<p>The question is: Is it even possible to nicely integrate a GWTP application within a standard GWT application? </p>

<p>Consider this use-case for example: I want to show a popup dialog when a button is clicked in a view that is implemented in the GWT application. The popup dialog is a GWTP PresenterWidget implemented in the GWTP application. How is it possible for a non GWTP presenter to show a popup and make sure all life cycle events are properly called. </p>

<p>I know it's a broad question but I'm looking to see if any body has ever tried to integrate two such applications together. If not is there any advice on how to approach this problem at all.</p>

<p>Thanks in advance</p>
","1322910","","","","","2013-04-29 14:38:58","Integrating a GWTP project with a standard GWT project","<gwt><gwt-platform><gin><gwt-mvp><gwtp>","1","0","","","","16242323","2253","2253","gin","315","5802757","5802756"
"16311419","1","16315479","","2013-05-01 01:22:24","","3","3929","<p>I am getting an strange error which I cannot get past when using Assisted Injection:</p>

<pre><code>[DEBUG] [project] - Rebinding com.gwtplatform.mvp.client.DesktopGinjector
[DEBUG] [project] - Invoking generator com.google.gwt.inject.rebind.GinjectorGenerator
    [ERROR] [project] - Factory com.jorsek.editor.gin.EditorClientFactory could not be created
    [ERROR] [project] - Error injecting com.jorsek.editor.gin.EditorClientFactory: Unable to create or inherit binding: No @Inject or default constructor found for com.jorsek.editor.gin.EditorClientFactory
</code></pre>

<p>Path to required node:</p>

<p>com.projectname.client.application.resourceworkspace.ResourceWorkspacePresenter [com.gwtplatform.mvp.client.gin.AbstractPresenterModule.bindPresenter(AbstractPresenterModule.java:122)]
 -> com.jorsek.editor.gin.EditorClientFactory [@Inject constructor of com.projectname.client.application.resourceworkspace.ResourceWorkspacePresenter]</p>

<p>Here is how I have everything setup:</p>

<p>My factory:</p>

<pre><code>public interface EditorClientFactory {

/**
 * Create a new DOMModel via assisted injection initializing the model 
 * with the document entity and it's DOM document content.
 * 
 * @param document
 * @param domDocument
 * @return
 */
public DOMModel create(Entity document, Document domDocument);
}
</code></pre>

<p>My Module:</p>

<pre><code>public class EditorClientModule extends AbstractGinModule {

@Override
protected void configure() {

    install(new GinFactoryModuleBuilder().build(EditorClientFactory.class));

    bind(DOMModel.class).to(SyncedDOMModel.class);
}

}
</code></pre>

<p>com.jorsek.editor.impl.SyncedDOMModel:</p>

<pre><code>public class SyncedDOMModel implements DOMModel {



@Inject
private SyncedDOMModel(){} /* For GIN/GUICE */

@AssistedInject
public SyncedDOMModel(CollabClient client, CollabClientFactory collabFactory, @Assisted Entity ref, @Assisted Document domDoc){
    }
}
</code></pre>

<p>This is how I am trying to inject my factory for use:</p>

<pre><code>@AssistedInject
public ResourceWorkspacePresenter(final EventBus eventBus, final MyView view, final MyProxy proxy, APIService apiService, EditorClientFactory editorFactory, @Assisted EntityLocator entityLocator) {
    super(eventBus, view, proxy, ApplicationPresenter.TYPE_SetMainContent);


    this.editorFactory = editorFactory;
    this.apiService = apiService;
     System.out.println(""E Locator: "" + entityLocator);

}
</code></pre>

<p>And this is how I am trying to use my factory (Never get this far though):</p>

<pre><code>editorFactory.create(doc, domDoc);
</code></pre>

<p>Can anyone see why this would be happening?</p>

<p>I am using GWTP RC2 if that helps.</p>

<p>Thanks,</p>

<p>Casey</p>
","412354","","","","","2013-05-01 09:07:42","GIN AssistedInject issue with factory ""Unable to create or inherit binding""","<gwt><guice><gwt-platform><gin><assisted-inject>","1","0","","","","16311419","2253","2253","gin","315","5802757","5802756"
"16342407","1","16342738","","2013-05-02 15:50:36","","8","3747","<p>I was wondering what is the different between singleton and eagersingleton for Gin or Guice? </p>
","337546","","","","","2013-05-02 16:06:14","Difference between singleton and eagersingleton for Gin or Guice?","<java><guice><gin>","1","0","","","","16342407","2253","2253","gin","315","5802757","5802756"
"17184915","1","17188415","","2013-06-19 07:06:55","","1","647","<p>I'm trying to put a enumeration into the ginjector with these lines of code:</p>

<p>ClientGinjector.java</p>

<pre><code>MyEnum getMyEnum();
</code></pre>

<p>ClientModule.java</p>

<pre><code>bind(MyEnum.class).in(Singleton.class);
</code></pre>

<p>But when I'm trying to compile I get the following error:</p>

<blockquote>
  <p>[ERROR] Error injecting bla.blup.MyEnum: Unable to create or inherit
  binding: Binding requested for constant key 'bla.blup.MyEnum' but no
  explicit binding was found</p>
</blockquote>

<p>Can anyone please help me?</p>
","2381238","","","","","2013-06-19 15:16:37","GWTP bind enum in GIN","<java><gwt><compiler-errors><gwt-platform><gin>","2","0","1","","","17184915","2253","2253","gin","315","5802757","5802756"
"17632881","1","17633125","","2013-07-13 18:10:24","","2","1167","<p>I am getting an error when trying to compile gwt project that is typically caused by a jre 1.7 (51.0) compiled class. I have verified that my classes are getting compiled with 1.6 version. I am almost positive that this is some other class that is getting included on the classpath but I am unable to get the gwt compiler to break when debugging a maven build. I am using eclipse to attempt to break debug maven build and adding breakpoints for the  UnsupportClassVersionError and the UnableToCompleteException but the jvm is not stopping when this occurrs. I am GUESSING that maybe the GWT compiler is running under a separate process and I won't be able to easily catch those exceptions. Any pointers would be greatly appreciated. I would rather find a way to break on gwt exceptions but if someone knows why GIN is complaining about invalid class revisions that would be great too.</p>

<p>Here is the error when I am attempting to compile from command line using maven.</p>

<pre><code>[INFO] --- gwt-maven-plugin:2.5.1:compile (default) @ smartbar ---
[INFO] Loading inherited module 'com.smartbar.SmartBar'
[INFO]    Loading inherited module 'com.smartbar.SmartBarCommon'
[INFO]       Loading inherited module 'com.google.gwt.inject.Inject'
[INFO]          [ERROR] Unexpected error while processing XML
[INFO] java.lang.UnsupportedClassVersionError: com/google/gwt/inject/rebind/GinjectorGenerator : Unsupported major.minor version 51.0
[INFO]  at java.lang.ClassLoader.defineClass1(Native Method)
[INFO]  at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)
[INFO]  at java.lang.ClassLoader.defineClass(ClassLoader.java:615)


chinshaw$ java -version
java version ""1.6.0_51""
Java(TM) SE Runtime Environment (build 1.6.0_51-b11-457-11M4509)
Java HotSpot(TM) 64-Bit Server VM (build 20.51-b01-457, mixed mode)


chinshaw$ find . -name '*.class' | xargs file | head -10
    ./WEB-INF/classes/com/testing/client/activity/AbstractActivity.class:                                compiled Java class data, version 50.0 (Java 1.6)
    ./WEB-INF/classes/com/testing/client/activity/EstablishmentInventoryActivity.class:                  compiled Java class data, version 50.0 (Java 1.6)
    ./WEB-INF/classes/com/testing/client/activity/EstablishmentNavigationActivity.class:                 compiled Java class data, version 50.0 (Java 1.6)
    ./WEB-INF/classes/com/testing/client/ClientUserSession.class:                                        compiled Java class data, version 50.0 (Java 1.6)
    ./WEB-INF/classes/com/testing/client/events/EntityEditEvent$Handler.class:                           compiled Java class data, version 50.0 (Java 1.6)
    ./WEB-INF/classes/com/testing/client/events/EntityEditEvent.class:                                   compiled Java class data, version 50.0 (Java 1.6)
    ./WEB-INF/classes/com/testing/client/events/InventoryItemSelectionEvent$Handler.class:               compiled Java class data, version 50.0 (Java 1.6)
    ./WEB-INF/classes/com/testing/client/events/InventoryItemSelectionEvent.class:                       compiled Java class data, version 50.0 (Java 1.6)
    ./WEB-INF/classes/com/testing/client
</code></pre>

<h2>Temporary Solution</h2>

<p>This may be just a problem with the maven repository but it appears that the 2.1.0 gin package is built with 1.7.0. I downgraded my dependencies to 2.0.0 and it works fine now. </p>

<pre><code>desktop-mini:2.1.0 chinshaw$ pwd
/Users/chinshaw/.m2/repository/com/google/gwt/inject/gin/2.1.0
desktop-mini:inject chinshaw$ find . -name '*.class'  -exec file {} \; | head -10
./client/AbstractGinModule.class: compiled Java class data, version 51.0
./client/assistedinject/BindingCollector.class: compiled Java class data, version 51.0
./client/assistedinject/FactoryModule.class: compiled Java class data, version 51.0
./client/assistedinject/GinFactoryModuleBuilder.class: compiled Java class data, version 51.0
./client/AsyncProvider.class: compiled Java class data, version 51.0
./client/binder/GinAnnotatedBindingBuilder.class: compiled Java class data, version 51.0
./client/binder/GinAnnotatedConstantBindingBuilder.class: compiled Java class data, version 51.0
./client/binder/GinAnnotatedElementBuilder.class: compiled Java class data, version 51.0
./client/binder/GinBinder.class: compiled Java class data, version 51.0
./client/binder/GinConstantBindingBuilder.class: compiled Java class data, version 51.0
</code></pre>

<p>Here's the bug id, wish I had looked there first. Assumed it was a problem with another jar first though.
<a href=""http://code.google.com/p/google-gin/issues/detail?id=190"" rel=""nofollow"">http://code.google.com/p/google-gin/issues/detail?id=190</a></p>
","1342154","","1342154","","2013-07-13 19:03:58","2013-07-13 19:03:58","GWT Gin 2.1 Unsupported major.minor version 51.0","<java><gwt><guice><gin>","1","1","","","","17632881","2253","2253","gin","315","5802757","5802756"
"17736270","1","17870198","","2013-07-19 00:31:52","","2","679","<p>I've written a factory able to create ListEditor of any type:</p>

<pre><code>public interface ListEditorFactory&lt;T, E extends Editor&lt;T&gt;&gt; {
    ListEditor&lt;T, E&gt; create(InsertPanel panel);
}
</code></pre>

<p>And its implementation:</p>

<pre><code>public class ListEditorFactoryImpl&lt;T, E extends Editor&lt;T&gt; &amp; IsWidget&gt; implements ListEditorFactory&lt;T, E&gt; {
    private final Provider&lt;E&gt; editorProvider;

    @Inject
    public ListEditorFactoryImpl(Provider&lt;E&gt; editorProvider) {
        this.editorProvider = editorProvider;
    }

    @Override
    public ListEditor&lt;T, E&gt; create(final InsertPanel panel) {
        return ListEditor.of(new EditorSource&lt;E&gt;() {
            @Override
            public E create(int index) {
                final E e = editorProvider.get();
                panel.add(e.asWidget());
                return e;
            }

            @Override
            public void dispose(E e) {
                e.asWidget().removeFromParent();
            }

            @Override
            public void setIndex(E editor, int index) {
                panel.insert(editor.asWidget(), index);
            }
        });
    }
}
</code></pre>

<p>It works very well if I instantiate directly the factory with a Provider injected by Gin:</p>

<pre><code>ListEditor&lt;NoteDTO, CharacterNoteScreen&gt; notesEditor;
@Inject @UiField(provided = true) FlowPanel notePanel;

@Inject
protected void init(Provider&lt;CharacterNoteScreen&gt; characterNoteProvider) {
    final ListEditorFactory&lt;NoteDTO, CharacterNoteScreen&gt; listEditorFactory = new ListEditorFactoryImpl&lt;NoteDTO, CharacterNoteScreen&gt;(characterNoteProvider);
    notesEditor = listEditorFactory.create(notePanel);
</code></pre>

<p>But if I want to inject the whole ListEditorFactory like this:</p>

<pre><code>@Inject
protected void init(ListEditorFactory&lt;NoteDTO, CharacterNoteScreen&gt; listEditorFactory) {
    notesEditor = listEditorFactory.create(notePanel);
</code></pre>

<p>Gin complains with a simple <code>bind(ListEditorFactory.class).to(ListEditorFactoryImpl.class);</code> binding:</p>

<pre><code>[ERROR] Generator 'com.google.gwt.inject.rebind.GinjectorGenerator' threw an exception while rebinding 'net.test.client.MyGinjector'
com.google.inject.ConfigurationException: Guice configuration errors:
1) javax.inject.Provider&lt;E&gt; cannot be used as a key; It is not fully specified.
</code></pre>

<p>I tried with <code>bind(new TypeLiteral&lt;ListEditorFactory&lt;?, ?&gt;&gt;() {}).to(new TypeLiteral&lt;ListEditorFactoryImpl&lt;?, ?&gt;&gt;() {});</code> but got an</p>

<pre><code>java.lang.IllegalArgumentException: Expected a Class, ParameterizedType, or GenericArrayType, but &lt;?&gt; is of type com.google.inject.internal.MoreTypes$WildcardTypeImpl
</code></pre>

<p>The binding <code>bind(new TypeLiteral&lt;ListEditorFactory&lt;NoteDTO, CharacterNoteScreen&gt;&gt;() {}).to(new TypeLiteral&lt;ListEditorFactoryImpl&lt;NoteDTO, CharacterNoteScreen&gt;&gt;() {});</code> is working but the generic factory loses a lot of its interest.</p>

<p>Do you know a generic way to declare this binding?</p>

<p>Thanks</p>
","2592926","","","","","2013-07-25 22:59:39","Use GIN to inject a Generics factory of ListEditor","<gwt><generics><guice><gin><gwt-editors>","1","0","","","","17736270","2253","2253","gin","315","5802757","5802756"
"17852776","1","","","2013-07-25 08:25:55","","0","384","<p>Could you please help me to solve my problem with <a href=""http://www.gwtproject.org/javadoc/latest/com/google/gwt/core/ext/Generator.html"" rel=""nofollow"">GWT Generator</a>? Let me explain.</p>

<p>I wish to generate a widget (ListBox with pre-defined values) during the compilation time and I use <a href=""http://www.gwtproject.org/javadoc/latest/com/google/gwt/core/ext/Generator.html"" rel=""nofollow"">GWT Generator</a> for that. My solution works as expected in DevMode (when I run the project with <code>mvn gwt:run</code>) and I see the generated listbox on the screen. But when I compile the code and run it in the ""Production mode"" (using command <code>mvn clean gwt:compile jetty:run-war</code>) I see the dumb listbox with only one item <em>""no-value""</em> instead.</p>

<p>I have one idea about the issue reason. I use <a href=""http://code.google.com/p/google-gin/"" rel=""nofollow"">GIN</a> in my project. Despite the fact, that I substitute my empty listbox with generated one using Deferred Binding but not GIN Injection, it probably somehow prevents the substitution during the runtime. I tried my listbox on an empty testing project - everything worked as desired in both <em>Dev Mode</em> and <em>Production Mode</em>. But it fails on my working project.</p>

<p>Here is my realisation:   </p>

<pre class=""lang-java prettyprint-override""><code>package com.test.generated;

import com.google.gwt.user.client.ui.IsWidget;
public interface IMySelectBox extends IsWidget {}
</code></pre>

<p>My empty selectbox:</p>

<pre class=""lang-java prettyprint-override""><code>package com.test.generated;
import com.google.gwt.user.client.ui.ListBox;

/**
 * &lt;p&gt;Dumb listbox. It should be replaced with generated file.&lt;/p&gt;
 * 
 */
public class MySelectBox implements IMySelectBox {

    @Override
    public ListBox asWidget() {
        ListBox listBox = new ListBox();
        listBox.addItem(""no-value"",""no-value"");
        return listBox;
    }
}  
</code></pre>

<p>My Generator:</p>

<pre class=""lang-java prettyprint-override""><code>package com.test.generated;

import java.io.PrintWriter;
import com.google.gwt.core.ext.Generator;
import com.google.gwt.core.ext.GeneratorContext;
import com.google.gwt.core.ext.TreeLogger;
import com.google.gwt.core.ext.UnableToCompleteException;
import com.google.gwt.core.ext.typeinfo.JClassType;
import com.google.gwt.core.ext.typeinfo.NotFoundException;
import com.google.gwt.user.client.ui.ListBox;
import com.google.gwt.user.rebind.ClassSourceFileComposerFactory;
import com.google.gwt.user.rebind.SourceWriter;

/**
 * Generates the ListBox and populates it
 *
 */
public class SelectBoxGenerator extends Generator {

    /**
     * {@inheritDoc}
     */
    @Override
    public String generate(TreeLogger logger, GeneratorContext context, String typeName) throws UnableToCompleteException {

        try {

            JClassType classType = context.getTypeOracle().getType(typeName);
            return this.getSourceWriter(classType, context, logger);

        } catch (NotFoundException e) {
            e.printStackTrace();
        }
        return null;
    }

    /**
     * Generates the source code of the List box.
     */
    private String getSourceWriter(JClassType classType, GeneratorContext context, TreeLogger logger) {

        final String packageName = classType.getPackage().getName();
        final String className = classType.getSimpleSourceName() + ""GeneratedImpl"";

        PrintWriter printWriter = context.tryCreate(logger, packageName, className);
        if (printWriter == null) {
            // source code has already been generated, abort
            return null;
        }

        ClassSourceFileComposerFactory composer = new ClassSourceFileComposerFactory(packageName, className);

        // Extends 
        composer.setSuperclass(classType.getName());

        // Implements interface IMySelectBox
        composer.addImplementedInterface(IMySelectBox.class.getSimpleName());

        // Imports
        composer.addImport(ListBox.class.getName());

        // Class body
        SourceWriter src = composer.createSourceWriter(context, printWriter);

        src.println(""@Override"");
        src.println(""public ListBox asWidget() {"");     
        src.println(""ListBox sb = new ListBox();"");

        // ...here I generate values for the selectbox during compilation time.

        src.println(""return sb;"");
        src.println(""}"");

        src.commit(logger);

        System.out.println(""Generating for: "" + className);

        // return the fully qualifed name of the generated class
        return packageName + ""."" + className;
    }
}
</code></pre>

<p>This is how I declare the substitution in my <strong>module.gwt.xml</strong> file:</p>

<pre class=""lang-xml prettyprint-override""><code>  &lt;generate-with class=""com.test.generated.SelectBoxGenerator""&gt;
    &lt;when-type-assignable class=""com.test.generated.IMySelectBox"" /&gt;
  &lt;/generate-with&gt;
</code></pre>

<p>And I use my generated ListBox as usually:</p>

<pre class=""lang-java prettyprint-override""><code>IMySelectBox mySelectBox = GWT.create(MySelectBox.class);
anyPanel.add(mySelectBox);
</code></pre>

<p>As you can see, I don't touch GIN stuff here at all. I use GIN to inject my modules and views. I found <a href=""http://code.google.com/p/google-gin/issues/detail?id=95"" rel=""nofollow"">Issue 95</a> in GIN website, probably it is related to my case.</p>

<p>I will be really glad to get any help. Any explanations, hints, workarounds, suggestions are welcome!</p>

<p>Thank you very much in advance!</p>
","622833","","622833","","2013-07-25 08:35:15","2013-07-25 08:35:15","GWT Generator conflicts with GIN in production mode?","<gwt><code-generation><gin>","0","3","","","","17852776","2253","2253","gin","315","5802757","5802756"
"18153451","1","18154759","","2013-08-09 18:37:55","","0","466","<p>I'm attempting to put together a multi-project application, wherein one of the sub-projects has multiple views for a single presenter.  I am using Gin to inject views into my presenters.</p>

<p>The sub-project contains the presenter and the 2 different views.  I have 2 separate gin modules, each binding one of the views to the view interface.  </p>

<p>As per Thomas Broyer's suggestion on the answer to <a href=""https://stackoverflow.com/questions/8379247/guice-gin-how-to-inject-multiple-implementations"">this post</a>, my Ginjectors are wrapped in a ""holder"" class that calls the GWT.create on the particular ginjector.  The appropriate holder is configured in the gwt.xml file using a replace-with statement.</p>

<p>When I run my project in Dev Mode, I see the alternate view appear as I expect it to.  However, when I compile the project, I still only get the default view.  Also, only 6 permutations (I would expect more on account of the replace-with logic), and I do not get the view I expect in the different scenarios.</p>

<p>Here is some code to illustrate.  </p>

<p>Subproject.gwt.xml contains this:</p>

<pre><code>&lt;replace-with class=""com.example.GinjectorDesktopHolder""&gt;
    &lt;when-type-is class=""com.example.GinjectorHolder"" /&gt;        
&lt;/replace-with&gt;

&lt;replace-with class=""com.example.GinjectorTabletHolder""&gt;
    &lt;when-type-is class=""com.example.GinjectorHolder"" /&gt;
    &lt;when-property-is name=""formfactor"" value=""tablet"" /&gt;
&lt;/replace-with&gt;
</code></pre>

<p>The ""formfactor"" variable is defined in a gwt.xml copied verbatim from GWT's <a href=""https://code.google.com/p/google-web-toolkit/source/browse/trunk/samples/mobilewebapp/src/main/java/com/google/gwt/sample/mobilewebapp/FormFactor.gwt.xml"" rel=""nofollow noreferrer"">mobilewebapp sample project</a>.</p>

<p>The Holder classes look like this:</p>

<pre><code>public abstract class GinjectorHolder {
    public abstract Ginjector getGinjector();
}
</code></pre>

<p><br/></p>

<pre><code>public class GinjectorTabletHolder extends GinjectorHolder {
    @Override
    public Ginjector getGinjector() {
        return GWT.create(GinjectorTablet.class);
    }   
}
</code></pre>

<p><br/></p>

<pre><code>public class GinjectorDesktopHolder extends GinjectorHolder {
    @Override
    public Ginjector getGinjector() {
        return GWT.create(GinjectorDesktop.class);
    }
}
</code></pre>

<p>My Ginjectors look like this:</p>

<pre><code>public interface MyGinjector {
    MyView getView();
    EventBus getEventBus();
}
</code></pre>

<p><br/></p>

<pre><code>@GinModules({ModuleDesktop.class})
public interface GinjectorDesktop extends Ginjector, MyGinjector {}
</code></pre>

<p><br/></p>

<pre><code>@GinModules({ModuleTablet.class})
public interface GinjectorTablet extends Ginjector, MyGinjector {}
</code></pre>

<p>My modules look like this:</p>

<pre><code>public class ModuleDesktop extends AbstractGinModule {
    @Override
    protected void configure() {
        bind(MyPresenter.View.class).to(DesktopView.class);
    }
}
</code></pre>

<p><br/></p>

<pre><code>public class ModuleTablet extends AbstractGinModule {
    @Override
    protected void configure() {
        bind(MyPresenter.View.class).to(TabletView.class);
    }
}
</code></pre>

<p>And finally, in my presenter proxy, basically the entry point into this particular sub-project, I have this line:</p>

<pre><code>GinjectorHolder holder = GWT.create(GinjectorHolder.class);
MyGinjector ginjector = holder.getGinjector();      
</code></pre>

<p>As mentioned earlier, when I run in Dev Mode and put in breakpoints, I can see the appropriate GinjectorHolder is created.  The FormFactor.gwt.xml (linked above) provides a switch for using a URL param to switch to the context you'd like to see.  So I can do formfactor=tablet in the URL and the Tablet Ginjector Holder is created.</p>
","1904776","","-1","","2017-05-23 11:44:46","2015-09-07 17:11:49","Using Gin to Inject Multiple Views","<gwt><gin>","2","9","","","","18153451","2253","2253","gin","315","5802757","5802756"
"18350742","1","","","2013-08-21 06:58:17","","0","471","<p>We have a project where we use GWT, with the MVP paradigm, and Gin. We have one presenter, but now I want to have different views (one for normal users, and one for the administrator, who sees almost the same, except for an extra column and different texts). The problem is that I want to select the view I want to use at runtime, because only then I know the userlevel.</p>

<p>I found the <a href=""https://code.google.com/p/google-gin/source/browse/trunk/src/com/google/gwt/inject/client/multibindings/GinMapBinder.java?r=260"" rel=""nofollow"">GinMapBinder</a>, which seems to do what I want. In the code is an example on how to instantiate it, but not on how to use it.</p>

<p>So my questions:
Is this the way to go and solve my problems?
Can anybody give an example explaining how to use this and how to select the different injections at runtime?</p>
","961977","","","","","2013-08-21 10:30:59","How to use the GinMapBinder","<java><gwt><gin>","1","0","2","","","18350742","2253","2253","gin","315","5802757","5802756"
"18374481","1","18377877","","2013-08-22 07:44:57","","3","1320","<p>In GWT MVP my presenters typically have a lot of private members (event bus, rpc, message bundles created with GWT.create()...). We have been using a ""ClientFactory"" to generate views as singleton, so they won't be recreated each time we need them. That factory can also provides rpc, event bus, and other resources.</p>

<p>I can read in <a href=""http://www.gwtproject.org/doc/latest/DevGuideMvpActivitiesAndPlaces.html#ClientFactory"" rel=""nofollow"">GWT doc</a> that <code>the main purpose of this factory is to gain access to object needed through your application. The second advantage of using a ClientFactory is that you can use it with GWT deferred binding to use different implementation classes based on user.agent or other properties.</code> </p>

<p>My question is: if I don't and never will need different implementation of that factory with deferred binding, <strong>can't I just use a static classes &amp; methods to retrieve my dependencies instead of a client factory or Gin</strong> ? 
I can't really grab the advantage of Gin over this solution, nor whether it could get me into trouble at some point / under some (not obvious) circumstances. I would usually avoid static classes in server-side code as it is multi-threaded but in client-side mono-threaded code I don't see where a problem could happen. Yet it seems most people use Gin or some other solution...</p>
","1722236","","","","","2013-08-22 10:25:49","Using static class instead of client factory or dependency injection with gin?","<gwt><dependency-injection><static-methods><gin>","1","0","","","","18374481","2253","2253","gin","315","5802757","5802756"
"18432846","1","","","2013-08-25 19:29:59","","0","107","<p>im using GIN and want to avoid carrying dependency without using a Singleton.</p>

<p>I have this scenario: 3 clases, A uses B wich uses C.          A -> B -> C</p>

<p>I have an instance into A (with its own member values) and want to use the same instance (not create a new one nor use a singleton) on class C without pass my instance throught B.</p>

<p>Is this possible?? If so how can i achieve this? Thank you in advance!</p>
","1766035","","","","","2013-08-25 19:29:59","Is possible to inject an existing object into another?","<java><gwt><inversion-of-control><guice><gin>","0","3","","","","18432846","2253","2253","gin","315","5802757","5802756"
"18637388","1","18637997","","2013-09-05 13:15:38","","2","459","<p>I have a GWT app which uses Gin/Guice.</p>

<p><strong>My need</strong> : call a method after that all fields are injected.</p>

<p>Here is an extract of Javadoc about <a href=""http://docs.oracle.com/javaee/6/api/javax/inject/Inject.html"" rel=""nofollow"">@Inject</a></p>

<pre><code>Constructors are injected first, followed by fields, and then methods.
</code></pre>

<p>So my idea was to have only one method annotated with <code>@Inject</code> and use it as a post-injection method. Here is an extract of my code :</p>

<pre><code>//An injected attribute (a JSR 303 validator)
@Inject
private Validator validator;

//A constructor with some injectable args.
@Inject
public MyClass(...){
}

//And my post-injection method
@Inject
private void postInjection(){
  Log.warn(""Validator null? ""+(validator==null));
}
</code></pre>

<p><strong>Problem</strong> : The log shows <code>true</code> ( = validator is null, as if it had not been injected yet). Later, the validator is called on a button click and appears to be non-null. I tested with other injectable attributes and have the same problem.</p>

<p><strong>1)</strong> Is there a common pattern to have a post injection method with Gin?</p>

<p><strong>2)</strong> Is the injection order different with Gin in GWT? Is this a bug?</p>
","2192903","","","","","2013-09-05 13:42:13","GWT gin/guice injection order","<java><gwt><gin>","1","0","","","","18637388","2253","2253","gin","315","5802757","5802756"
"18696960","1","","","2013-09-09 11:12:54","","0","554","<p>I am planning to improve an already written code, which is a GWT application and needs to be deployed on GAE. </p>

<p>The dependency Injection is taken care by Guice and Gin. I am wondering if I can use Spring at the back end.(which is kind of a strict requirement).</p>

<p>I have the client code working properly and sending requests to my server code, In the `Service' class which lies in the Server code, I want to do a Spring injection for DAO layer. </p>

<p>But unfortunately the DAO reference is null even if I do a <code>@Autowired</code> injection. This results in a NPE. </p>

<p>I am aware that you can only inject pring managed beans within a spring context. So I tried putting an annotation @Service on the server side class which is receiving the RPC request from the client code. The class looks something like below:</p>

<pre><code>@Path(ResourcesPath.PERSON)
@Produces(MediaType.APPLICATION_JSON)
@Service
public class PersonResource {

private Logger logger;

@Autowired
PersonDAO dao;

@Inject
PersonResource(Logger logger) {
    this.logger = logger;
}
}
</code></pre>

<p>I am hoping for something like this</p>

<pre><code>@Path(ResourcesPath.PERSON)
@Produces(MediaType.APPLICATION_JSON)
public class PersonResource {

private Logger logger;

@Inject
PersonResource(Logger logger) {
    this.logger = logger;
}
}
</code></pre>

<p>Thank you for your help. Please suggest me something which can solve this.</p>
","1014830","","","","","2013-09-11 06:59:22","Google Guice, Google Gin and Spring","<spring><gwt><guice><gin>","2","0","","","","18696960","2253","2253","gin","315","5802757","5802756"
"19099927","1","19110277","","2013-09-30 17:09:32","","1","78","<p>I want to inject a class A somewhere with GIN. The A class constructor requires an id know at runtime plus two other classes B and C. B and C constructors requires the same id of A as parameters.</p>

<p>Here a example of the classes.</p>

<pre><code>public class A {
   @Inject
   public A(String id, B b, C c)
   {
    ...
   }
}

public class B {
   @Inject
   public B(String id)
   {
    ...
   }
}

public class C {
   @Inject
   public C(String id)
   {
    ...
   }
}
</code></pre>

<p>How can I propagate the id to all the classes during A injection?</p>

<p>One solution is to use an AssistedInjectionFactory with a creation method for all the three classes, but this requires to modify the A constructor in order to use the factory to instantiate B and C.</p>

<p>There are other ways to use GIN and avoid the A constructor boilerplate code?</p>
","555220","","","","","2013-10-01 07:21:32","How to propagate a value during injection with GIN","<java><gwt><dependency-injection><gin>","1","0","","","","19099927","2253","2253","gin","315","5802757","5802756"
"19170345","1","","","2013-10-03 22:36:28","","1","263","<p>So I really need some helpful hints with an issue I am having with my GWTP application, perhaps one of you have ran into this problem before. So I am using GWTP 1.1 with:</p>

<ul>
<li>com.gwtplatform.mvp.Mvp (Not w/ entry point)</li>
<li>com.gwtplatform.dispatch.Dispatch with</li>
<li>com.google.gwt.uibinder.UiBinder</li>
</ul>

<p>The issue I am having is that when ever I have a client sided error (can be almost anywhere in my client side, not sure where the boundary is) I receive a very cryptic message to do with GIN rather than a message that will help me resolve the issue. Seems like something to do with GWTP Proxying, here is the typical message that I get: <a href=""http://pastebin.com/YgxPbkru"" rel=""nofollow"">http://pastebin.com/YgxPbkru</a> the real issue isn't what the error message is presenting to me. The OpenIcidentPresenter extends IncidentPresenter which is a Presenter I have made to manage lifecycles of an Incident (in this case) this extends another presenter that I have made called a RequestPresenter, this is a Presenter that allows the user to Request PresenterWidget classes into it (into any given slot for that presenters lifecycle), this extends another presenter called RichPresenter, which just has things that almost all my Presenters require like page load indication and certain page locking etc, etc. Here are these classes:</p>

<p><strong>OpenIncidentPresenter</strong></p>

<pre class=""lang-java prettyprint-override""><code>public class OpenIncidentPresenter extends IncidentPresenter&lt;OpenIncidentPresenter.MyView,
        OpenIncidentPresenter.MyProxy&gt; implements ViewUiHandlers, HasRequestedWidgets, NewIncidentHandler,
        ChangeSectionHandler, ConfigureHandler {

        public interface MyView extends View, HasUiHandlers&lt;ViewUiHandlers&gt; {
                ... Snip ...
        }

        @ProxyCodeSplit
        @NameToken(NameTokens.open)
        //@UseGatekeeper(LoginGatekeeper.class)
        public interface MyProxy extends ProxyPlace&lt;OpenIncidentPresenter&gt; {
        }

        private static Logger logger = Logger.getLogger(OpenIncidentPresenter.class.getName());

        Process process;

        SectionTuple currentSection = new SectionTuple();

        Map&lt;Integer, SectionTuple&gt; sections = new HashMap&lt;Integer, SectionTuple&gt;();
        List&lt;AccordionSection&gt; sectionWigets = new ArrayList&lt;AccordionSection&gt;();

        List&lt;Activity&gt; cachedActivities = new ArrayList&lt;Activity&gt;();
        List&lt;Authority&gt; cachedAuthorities = new ArrayList&lt;Authority&gt;();
        List&lt;Severity&gt; cachedSeverities = new ArrayList&lt;Severity&gt;();
        List&lt;Location&gt; cachedLocations = new ArrayList&lt;Location&gt;();
        List&lt;Site&gt; cachedSites = new ArrayList&lt;Site&gt;();
        List&lt;Area&gt; cachedAreas = new ArrayList&lt;Area&gt;();

        Severity currentSeverity;
        boolean configured = false;
        boolean changedConsequences = false;

        final ImageResources imageResources;

        RegisteredRequestWidget&lt;ActionBarPresenterWidget&gt; actionBarReg;
        RegisteredRequestWidget&lt;ProgressBarPresenterWidget&gt; progressBarReg;

        @Inject
        public OpenIncidentPresenter(final EventBus eventBus, final MyView view,
                        final MyProxy proxy, final DispatchAsync dispatch,
                        final PlaceManager placeManager, ImageResources imageResources) {
                super(eventBus, view, proxy, dispatch, placeManager);

                this.imageResources = imageResources;

                getView().setUiHandlers(this);

                logger.log(Level.INFO, ""Constructed OpenIncidentPresenter"");
        }

        @Override
        protected void revealInParent() {
                RevealContentEvent.fire(this, ApplicationPresenter.SLOT_MIDDLE, this);
        }

        ... Snip ...
}
</code></pre>

<p><strong>IncidentPresenter</strong></p>

<pre class=""lang-java prettyprint-override""><code>public abstract class IncidentPresenter&lt;T extends View,
                H extends Proxy&lt;?&gt;&gt; extends RequestPresenter&lt;T, H&gt; implements HasIncident {

        Logger logger = Logger.getLogger(IncidentPresenter.class.getName());

        public static final String INCIDENT_COOKIE = ""incidentId"";

        public interface LoadCallback {
                void onFinished();
        }

        protected Incident incident;
        protected DispatchAsync dispatch;

        private boolean loaded = false;

        public IncidentPresenter(EventBus eventBus, T view, H proxy,
                        DispatchAsync dispatch, PlaceManager placeManager) {
                super(eventBus, view, proxy, placeManager, true);

                this.dispatch = dispatch;
        }

        public abstract void onFailureToLoadIncident(Integer incidentId);
        public abstract void onLoadedIncident(Incident incident);

        @Override
        public void loadIncident(final Integer id) {
                loadIncident(id, null);
        }

        @Override
        public void loadIncident(final Integer id, final LoadCallback callback) {
                .. Snip ..
        }

        /**
         * Process the incident dependencies
         */
        protected void loadDependencies(final Incident incident, final LoadCallback callback) {
                .. Snip ..
        }

        @Override
        public Incident getIncident() {
                return incident;
        }

        @Override
        public void setIncident(Incident incident) {
                this.incident = incident;
                if(hasIncident()) {
                        String incidentCookie = Cookies.getCookie(""incidentId"");
                        if(incidentCookie == null || !incidentCookie.equals(String.valueOf(
                                        incident.getId()))) {
                                // Set the cookie to the new incident id
                                Cookies.setCookie(""incidentId"", String.valueOf(incident.getId()));

                                logger.log(Level.INFO, ""Set incident "" + String.valueOf(incident.getId())
                                        + "" to the cookie session"");
                        }
                } else {
                        Cookies.removeCookie(""incidentId"");
                        logger.log(Level.INFO, ""Set incident to null incident object, cleared "" +
                                        ""the cookie session"");
                }
        }

        @Override
        public boolean isIncidentLoaded() {
                return hasIncident() &amp;&amp; loaded;
        }

        @Override
        public boolean hasIncident() {
                return IncidentUtils.isValid(incident);
        }

        @Override
        public void resetIncident() {
                setIncident(null);
                loaded = false;
        }

        @Override
        public DispatchAsync getDispatch() {
                return dispatch;
        }

        public String getIncidentCookie() {
                return Cookies.getCookie(INCIDENT_COOKIE);
        }
}
</code></pre>

<p><strong>RequestPresenter</strong></p>

<pre class=""lang-java prettyprint-override""><code>public abstract class RequestPresenter&lt;T extends View, H extends Proxy&lt;?&gt;&gt;
                extends RichPresenter&lt;T, H&gt; implements HasRequestedWidgets {

        RequestWidgetManager requestManager = new RequestWidgetManager(this);

        public RequestPresenter(EventBus eventBus, T view, H proxy,
                        PlaceManager placeManager) {
                this(eventBus, view, proxy, placeManager, false);
        }

        public RequestPresenter(EventBus eventBus, T view, H proxy,
                        PlaceManager placeManager, boolean leaveConfirmation) {
                super(eventBus, view, proxy, placeManager, leaveConfirmation);
        }

        @Override
        public void prepareFromRequest(PlaceRequest request) {
                prepareFromRequest(request, null);
        }

        /**
         * Alternative to {@link RequestPresenter#prepareFromRequest(PlaceRequest)} that
         * will allow you to register the {@link FinalCallback} in case you have dependency
         * on the request widgets.
         * @param request
         * @param callback
         */
        public void prepareFromRequest(PlaceRequest request, FinalCallback callback) {
                super.prepareFromRequest(request);

                executeAfterRequesting(callback);
                requestWidgets();
        }

        @Override
        protected void onBind() {
                super.onBind();

                registerRequestWidgets();
        }

        @Override
        protected void onUnbind() {
                super.onUnbind();

                unregisterRequestWidgets();
        }

        @Override
        protected void onHide() {
                super.onHide();

                dismissWidgets();
        }

        @Override
        protected void onReveal() {
                super.onReveal();

                requestWidgets();
        }

        private void requestWidgets() {
                requestManager.requestAll();

                onRequestWidgets();
        }

        private void dismissWidgets() {
                requestManager.dismissAll();

                onDismissWidgets();
        }

        public void unregisterRequestWidgets() {
                requestManager.unregisterAllWidgets();
        }

        @Override
        public abstract void registerRequestWidgets();

        public void onRequestWidgets() {
                // Do nothing by default
        }

        public void onDismissWidgets() {
                // Do nothing by default
        }

        protected RequestWidgetManager getRequestManager() {
                return requestManager;
        }

        /**
         * This will execute the callback method when the final request is made on loading.&lt;br&gt;
         * This must be set before super.onReveal or super.prepareFromRequest are called.
         * Or use {@link RequestPresenter#prepareFromRequest(PlaceRequest, FinalCallback)} to
         * set the final callback.
         * @param callback
         */
        public void executeAfterRequesting(FinalCallback callback) {
                requestManager.setFinalCallback(callback);
        }

        public &lt;P extends PresenterWidget&lt;?&gt;&gt; RequestedWidget&lt;P&gt; getRequestedWidget(
                        RegisteredRequestWidget&lt;P&gt; registry) {
                return requestManager.get(registry);
        }

        public &lt;P extends PresenterWidget&lt;?&gt;&gt; RegisteredRequestWidget&lt;P&gt; registerRequestWidget(
                        HasHandlers handler, Class&lt;P&gt; clazz, Object slot, boolean clearSlot) {
                return registerRequestWidget(handler, clazz, slot, clearSlot, null);
        }

        public &lt;P extends PresenterWidget&lt;?&gt;&gt; RegisteredRequestWidget&lt;P&gt; registerRequestWidget(
                        HasHandlers handler, Class&lt;P&gt; clazz, Object slot, boolean clearSlot,
                        RequestWidgetEvent.Callback&lt;P&gt; callback) {
                return requestManager.registerWidget(handler, clazz, slot, clearSlot, callback);
        }
}
</code></pre>

<p><strong>RichPresenter</strong></p>

<pre class=""lang-java prettyprint-override""><code>public abstract class RichPresenter&lt;T extends View,
        H extends Proxy&lt;?&gt;&gt; extends Presenter&lt;T, H&gt; {

        protected final PlaceManager placeManager;

        private boolean leaveConfirmation;
        private String defaultLeaveMessage = ""Any unsaved work will be lost when "" +
                ""leaving this page, are you sure you would like to leave?"";

        public RichPresenter(EventBus eventBus, T view, H proxy,
                        PlaceManager placeManager) {
                this(eventBus, view, proxy, placeManager, false);
        }

        public RichPresenter(EventBus eventBus, T view, H proxy,
                        PlaceManager placeManager, boolean leaveConfirmation) {
                super(eventBus, view, proxy);

                this.placeManager = placeManager;
                this.leaveConfirmation = leaveConfirmation;
        }

        /**
         * Setup component control handlers for the UI
         */
        protected void setupHandlers(final T view) {
                // Do nothing by default
        }

        @Override
        public void prepareFromRequest(PlaceRequest request) {
                super.prepareFromRequest(request);

                // Start Load Indicator
                LoadingIndicatorEvent.fire(this, true);

                // Attempt to set leave confirmation
                setLeaveConfirmation(leaveConfirmation);
        }

        @Override
        protected void onBind() {
                super.onBind();

                setupHandlers(getView());
        }

        @Override
        protected void onUnbind() {
                super.onUnbind();

                // Remove all the event handlers
                for(HandlerRegistration reg : handlerRegistrations) {
                        reg.removeHandler();
                }
                handlerRegistrations.clear();
        }

        @Override
        protected void onReveal() {
                super.onReveal();

                // Stop Load Indicator
                LoadingIndicatorEvent.fire(this, true);

                // Attempt to set leave confirmation
                setLeaveConfirmation(leaveConfirmation);
        }

        @Override
        protected void onReset() {
                super.onReset();

                // Stop Load Indicator
                LoadingIndicatorEvent.fire(this, false);
        }

        /**
         * Set the page leave confirmation.
         * @param leaveConfirmation
         */
        public void setLeaveConfirmation(boolean leaveConfirmation) {
                this.leaveConfirmation = leaveConfirmation;

                if(leaveConfirmation &amp;&amp; !BrowserUtils.isIEBrowser()) {
                        placeManager.setOnLeaveConfirmation(defaultLeaveMessage);
                } else {
                        placeManager.setOnLeaveConfirmation(null);
                }
        }

        public boolean isConfirmOnLeave() {
                return leaveConfirmation;
        }

        public String getDefaultLeaveMessage() {
                return defaultLeaveMessage;
        }

        public void setDefaultLeaveMessage(String message) {
                this.defaultLeaveMessage = message;
        }
}
</code></pre>

<p>I feel like this could be a contributing factor here. I have a large chain of presenters that I could be implementing wrong.</p>

<p>This is making it crazy hard for me to identify issues in my client side code. I have to go through my changes, reverting them until I no longer get this message. Which is just ridiculous. If you can see that I am doing something wrong or need more information let me know please! Would be so greatly appreciated.</p>

<p>Cheers! Ben</p>
","1741601","","","","","2013-10-03 22:36:28","GWTP Strange Error Messages (That are inaccurate)","<java><gwt><gin><gwtp><presenter>","0","2","","","","19170345","2253","2253","gin","315","5802757","5802756"
"19595497","1","20070381","","2013-10-25 16:56:07","","2","545","<p>What im trying to do is to create map, where key will be class which extends my abstract class</p>

<pre><code>GinMapBinder&lt;Class&lt;? extends Key&gt;, Value&gt; mapBinder = GinMapBinder
                .newMapBinder(binder(),
                        new TypeLiteral&lt;Class&lt;? extends Key&gt;&gt;() {
                        }, new TypeLiteral&lt;Value&gt;() {
                        });
</code></pre>

<p>but when i'm trying populate my map</p>

<pre><code>mapBinder.addBinding(KeyImpl.class).to(Value.class);
</code></pre>

<p>i'm getting error: </p>

<pre><code> Error injecting @com.google.gwt.inject.client.multibindings.Internal() java.lang.Class&lt;? extends my.test.gwt.gin.objects.Key&gt;: Unable to create or inherit binding: No implementation bound   for '@com.google.gwt.inject.client.multibindings.Internal() java.lang.Class&lt;? extendsmy.test.gwt.gin.objects.Key&gt;' and an implicit binding cannot be created because the type is annotated.
  Path to required node:

 @com.google.gwt.inject.client.multibindings.Internal com.google.gwt.inject.client.multibindings.MapEntry&lt;java.lang.Class&lt;? extends my.test.gwt.gin.objects.Key&gt;, my.test.gwt.gin.objects.Value&gt; [com.google.gwt.inject.client.multibindings.BindingRecorder.bind(BindingRecorder.java:42)]
  -&gt; com.google.gwt.inject.client.multibindings.MapEntry&lt;java.lang.Class&lt;? extends my.test.gwt.gin.objects.Key&gt;, my.test.gwt.gin.objects.Value&gt; [com.google.gwt.inject.client.multibindings.BindingRecorder.bind(BindingRecorder.java:42)]
  -&gt; @com.google.gwt.inject.client.multibindings.Internal() java.lang.Class&lt;? extends my.test.gwt.gin.objects.Key&gt; [@Inject constructor of com.google.gwt.inject.client.multibindings.MapEntry&lt;java.lang.Class&lt;? extends my.test.gwt.gin.objects.Key&gt;, my.test.gwt.gin.objects.Value&gt;]
</code></pre>

<p>if i wont use <code>TypeLiteral</code>this will works, but i dont want class with raw type.
So i'll be glad if anyone can help me to solve this issue.
Thanks in advance</p>
","902383","","902383","","2013-11-19 11:25:56","2013-11-19 11:31:59","How to properly use TypeLiteral in GinMapBinder?","<gwt><gin>","1","2","1","","","19595497","2253","2253","gin","315","5802757","5802756"
"20151190","1","20165337","","2013-11-22 17:43:48","","0","48","<p>I am getting a stack overflow but I think I have nailed down the problem. The issue is a recursive inject when binding my panel widget. The problem I have ran into is that my PanelWidget takes the Map as a parameter. The problem is then that that this creates an infinite loop.</p>

<p><strong>GinMapProvider</strong></p>

<pre><code>    GinMapBinder&lt;String, IDashboardWidget&gt; mapBinder = GinMapBinder
            .newMapBinder(binder(), String.class, IDashboardWidget.class);

    mapBinder.addBinding(IGaugeWidgetModel.class.getName()).to(MockGaugeWidget.class);
    mapBinder.addBinding(IPlotWidgetModel.class.getName()).to(PlotWidget.class);
    mapBinder.addBinding(ITableWidgetModel.class.getName()).to(TableWidget.class);
    mapBinder.addBinding(IPanelWidgetModel.class.getName()).to(PanelWidget.class);
</code></pre>

<p>If I remove <code>Map&lt;String, IDashboardWidget&gt;</code> the problem goes away of course.</p>

<p><strong>PanelWidget class</strong></p>

<pre><code>@Inject
public PanelWidget(final EventBus eventBus, final Resources resources, Map&lt;String, IDashboardWidget&gt; widgetProvider) {
    super(eventBus, resources);
    this.widgetProvider = widgetProvider;
    initWidget(GWT.&lt;Binder&gt; create(Binder.class).createAndBindUi(this));
    widgetsPanel.getElement().getStyle().setPosition(Position.RELATIVE);

    this.addDomHandler(widgetSelectedHandler, ClickEvent.getType());
}
</code></pre>

<p>I tried this also and inject the WidgetFactory class but this did not solve my problem either. I had hoped creating a singleton would stop it from recreating the bindings.</p>

<pre><code>@Inject
@Provides
@Singleton
WidgetFactory widgetFactory(Map&lt;String, IDashboardWidget&gt; widgetProvider) {
    return new WidgetFactory(widgetProvider);
}
</code></pre>

<p>BTW I am running this in a GWTTestCase but I don't think this makes a difference. </p>
","1342154","","","","","2013-11-23 17:11:55","GinMapProvider Stack Overflow","<java><gwt><guice><gin>","1","3","","","","20151190","2253","2253","gin","315","5802757","5802756"
"20385062","1","","","2013-12-04 20:18:45","","0","510","<p>Im using GWTP, working on their tab panel example.  My issue is i need to demonstrate taking a search term and adding a new tab to the tab panel with the search results.  So if i search 5 times, i have 5 tabs.   easy enough, so i thought.</p>

<p>Gin is used extensively in GWTP.  So my method to add a new tab, which should be something as simple as </p>

<pre><code>tabPanel.addTab(new SearchDataGridView(), NameTokens.searchPage + 1);
</code></pre>

<p>gets confusing because of the constructor for the SearchDataGridView class</p>

<pre><code>@Inject
    SearchDataGridView(Binder uiBinder) {
        employeeDataProvider = new ListDataProvider&lt;Employee&gt;();

        initSearchGrid();

        initWidget(uiBinder.createAndBindUi(this));
    }
</code></pre>

<p>yea, i know im not passing the search term yet, im still trying to get the tab to open.  </p>

<p>My gin config is this</p>

<pre><code>bindPresenter(
                SearchDataGridPresenter.class,
                SearchDataGridPresenter.MyView.class,
                SearchDataGridView.class,
                SearchDataGridPresenter.MyProxy.class);
</code></pre>

<p>The gwtp gin config</p>

<pre><code>@Override
    protected void configure() {
        // RestDispatchAsyncModule.Builder dispatchBuilder = new RestDispatchAsyncModule.Builder();
        // install(dispatchBuilder.build());
        // install(new RestDispatchAsyncModule.Builder().build());

        install(new DefaultModule(DefaultPlaceManager.class));
        install(new ApplicationModule());

        bind(CurrentUser.class).in(Singleton.class);
        bind(IsAdminGatekeeper.class).in(Singleton.class);

        // DefaultPlaceManager Constants
        bindConstant().annotatedWith(DefaultPlace.class).to(NameTokens.homeNewsPage);
        bindConstant().annotatedWith(ErrorPlace.class).to(NameTokens.homeNewsPage);
        bindConstant().annotatedWith(UnauthorizedPlace.class).to(NameTokens.homeNewsPage);
        bindConstant().annotatedWith(Names.named(""rest"")).to(""http://localhost/services"");
        // Google Analytics
        // bindConstant().annotatedWith(GaAccount.class).to(""UA-8319339-6"");

        // Load and inject CSS resources
        bind(ResourceLoader.class).asEagerSingleton();
    }
</code></pre>

<p>How do i pull this off?</p>

<p>thanks</p>

<p>Using comments below, sorta got it working.  The problem is i can't get the contents of the tab to display.  I added debugging code to the setInSlot method of my SearchContainer class and realized that whenever i click the search tab, it fires this setInSlot method, but its fired with my default page presenter listed as content.</p>

<pre><code>@Override
    public void setInSlot(Object slot, IsWidget content) {
        Window.alert(""fired setInSlot: "" + slot.toString());
        Window.alert(""fired setInSlot: "" + content.toString());
        if (slot == ApplicationPresenter.TYPE_SetTabContent) {
            tabPanel.setPanelContent(content);
        } else {
            super.setInSlot(slot, content);
        }
    }
</code></pre>

<p>Thats the method im using to get my info.  Its weird that the tab appears properly, the jsonRPC calls that are built into the view are executed properly, it just doesn't display.</p>

<p>My main container presenter has its view and proxy identified by this</p>

<pre><code>public class ApplicationPresenter
        extends
        TabContainerPresenter&lt;ApplicationPresenter.MyView, ApplicationPresenter.MyProxy&gt; implements
        CurrentUserChangedHandler, AsyncCallStartHandler, AsyncCallFailHandler, AsyncCallSucceedHandler,
        ApplicationUiHandler {
    /**
     * {@link ApplicationPresenter}'s proxy.
     */
    @ProxyStandard
    public interface MyProxy extends Proxy&lt;ApplicationPresenter&gt; {
    }

    /**
     * {@link ApplicationPresenter}'s view.
     */
    public interface MyView extends TabView, HasUiHandlers&lt;ApplicationUiHandler&gt; {
        void refreshTabs();

        void setTopMessage(String string);
    }
</code></pre>

<p>Could my issue be with my content type?  Here is what i have defined for all my types</p>

<pre><code>/**
     * This will be the event sent to our ""unknown"" child presenters, in order for them to register their tabs.
     */
    @RequestTabs
    public static final Type&lt;RequestTabsHandler&gt; TYPE_RequestTabs = new Type&lt;RequestTabsHandler&gt;();

    /**
     * Fired by child proxie's when their tab content is changed.
     */
    @ChangeTab
    public static final Type&lt;ChangeTabHandler&gt; TYPE_ChangeTab = new Type&lt;ChangeTabHandler&gt;();

    /**
     * Use this in leaf presenters, inside their {@link #revealInParent} method.
     */
    @ContentSlot
    public static final Type&lt;RevealContentHandler&lt;?&gt;&gt; TYPE_SetTabContent = new Type&lt;RevealContentHandler&lt;?&gt;&gt;();
</code></pre>
","425715","","425715","","2013-12-05 14:10:02","2013-12-05 14:10:02","create new instance of class that is managed by gin","<gwt><gwt-platform><gin><gwtp>","3","0","","","","20385062","2253","2253","gin","315","5802757","5802756"
"20416932","1","20420204","","2013-12-06 05:48:47","","10","2600","<p>I have to decide whether to use GIN or GiST indexing for an hstore column.</p>

<p>The <a href=""http://www.postgresql.org/docs/current/static/textsearch-indexes.html"" rel=""noreferrer"">Postgres docs</a> state:</p>

<ul>
<li>GIN index lookups are about three times faster than GiST</li>
<li>GIN indexes take about three times longer to build than GiST</li>
<li>GIN indexes are about ten times slower to update than GiST</li>
<li>GIN indexes are two-to-three times larger than GiST</li>
</ul>

<p>The way I interpret it, use GIN if you need to query a lot, use GiST if you need to update a lot.</p>

<p>In this <a href=""http://thebuild.com/presentations/pg-as-nosql-pgday-fosdem-2013.pdf"" rel=""noreferrer"">test</a>, all of the three disadvantages of GIN over GiST mentioned above are confirmed. However, other than suggested in the Postgres docs, the advantage of GIN over GiST (faster lookup) is very small. Slide 53 shows that in the test GIN was only 2% to 3% faster as opposed to 200% to 300% suggested in the Postgres docs.</p>

<p>Which source of information is more reliable and why?</p>
","1076279","","168868","","2014-03-29 03:32:21","2014-03-29 03:32:21","Postgres hstore: GIN vs GiST index performance","<postgresql><indexing><gin><gist-index>","1","1","5","","","20416932","2253","2253","gin","315","5802757","5802756"
"20431943","1","20432012","","2013-12-06 19:23:35","","2","844","<p>Here is an example that I have -</p>

<pre><code>public class GinDemoPresenter implements Presenter {

   private View view;

   @Inject
   public GinDemoPresenter (View view) {
      this.view = view;
   }
   ....
}

public class GinDemoView implements View {

   private Presenter presenter;

   @Inject
   public GinDemoView(Presenter presenter) {
      this.presenter = presenter;
   }
   ....
}
</code></pre>

<p>During compilation I see this -</p>

<pre><code>...
Cycle detected in the dependency graph.  Consider using a Provider?
...
</code></pre>

<p>Can someone provide an example of how to resolve circular dependency in GIN?</p>
","1186955","","","","","2013-12-06 19:28:13","GWT GIN circular dependency","<gwt><gin>","1","0","","","","20431943","2253","2253","gin","315","5802757","5802756"
"20754159","1","","","2013-12-24 02:40:53","","0","150","<p>I have a handler classes, I need to inject it in the custom widgets.</p>

<p>I tried the bind() method in ClientModule class, but it is not getting injected.</p>

<p>What am I supposed to do, do get the class injected.</p>

<pre><code>public class ExtendedTextBoxBase extends TextBox {

    public ExtendedTextBoxBase() {

        super.addBlurHandler(textBoxBlurHandler);

    }

    @Inject
    TextBoxBlurHandler textBoxBlurHandler; /* custom handler */

}
</code></pre>

<p>custom handler:</p>

<pre><code>public class TextBoxBlurHandler implements BlurHandler {

    @Inject
    public TextBoxBlurHandler() {
    }

    @Override
    public void onBlur(BlurEvent event) {

    }
}
</code></pre>

<p>Thanks,
Bennet.</p>
","1708099","","1708099","","2014-01-08 02:16:09","2014-06-12 11:57:43","Injecting Handlers in Custom Widget","<gwt><gin><gwtp>","2","3","","","","20754159","2253","2253","gin","315","5802757","5802756"
"21286677","1","21545089","","2014-01-22 15:11:45","","0","5207","<p>I am using Google Gin for generating an Event in my GWT project like this:</p>

<pre><code>package com.lokur.motd.client.events;

import com.gwtplatform.dispatch.annotation.GenEvent;

@GenEvent
public class EditorChange {
}
</code></pre>

<p>Now, when I compile my project with ""mvn clean install -e"", it generates required classes viz. EditorChangeEvent.class, EditorChangeEvent$EditorChangeHandler.class, EditorChangeEvent$HasEditorChangeHandlers.class in the target folder of my project.</p>

<p>But, when I try accessing particular generated class e.g. EditorChangeEvent in my project, it gives me compilation error with message: </p>

<blockquote>
  <p>""package com.lokur.motd.client.events.EditorChangeEvent
  does not exist""</p>
</blockquote>

<p>...</p>

<p>I don't understand this behavior. Do we need to explicitly add ""target"" folder of Maven in class-path or somewhere in the pom.xml or something else is causing this?</p>

<p>Here are the plug-ins from maven pom.xml:</p>

<pre><code>&lt;plugins&gt;
                    &lt;plugin&gt;
                        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
                        &lt;artifactId&gt;gwt-maven-plugin&lt;/artifactId&gt;
                        &lt;version&gt;${gwt.plugin.version}&lt;/version&gt;
                        &lt;configuration&gt;
                            &lt;runTarget&gt;myMessage/myMessage.html&lt;/runTarget&gt;
                            &lt;disableCastChecking&gt;true&lt;/disableCastChecking&gt;
                            &lt;disableClassMetadata&gt;true&lt;/disableClassMetadata&gt;
                            &lt;!-- &lt;logLevel&gt;INFO"" -bindAddress 0.0.0.0 -logLevel ""INFO&lt;/logLevel&gt; --&gt;
                            &lt;logLevel&gt;ERROR&lt;/logLevel&gt;
                            &lt;style&gt;OBF&lt;/style&gt;
                            &lt;!-- OBF, PRETTY, DETAILED --&gt;
                            &lt;noServer&gt;false&lt;/noServer&gt;
                            &lt;additionalPageParameters&gt;log_level=OFF&lt;/additionalPageParameters&gt;
                            &lt;extraJvmArgs&gt;-Xmx512m -Ddev.mode=true -DuseCache=false&lt;/extraJvmArgs&gt;
                            &lt;extraTestArgs&gt;-Xmx512m -Ddev.mode=true&lt;/extraTestArgs&gt;
                            &lt;gwtVersion&gt;${gwtVersion}&lt;/gwtVersion&gt;
                            &lt;testFilter&gt;*&lt;/testFilter&gt;
                            &lt;hostedWebapp&gt;
                                ${project.build.directory}/${project.build.finalName}
                            &lt;/hostedWebapp&gt;
                        &lt;/configuration&gt;
                        &lt;executions&gt;
                            &lt;execution&gt;
                                &lt;goals&gt;
                                    &lt;goal&gt;compile&lt;/goal&gt;
                                    &lt;goal&gt;test&lt;/goal&gt;
                                &lt;/goals&gt;
                            &lt;/execution&gt;
                        &lt;/executions&gt;
                    &lt;/plugin&gt;
                    &lt;plugin&gt;
                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;
                        &lt;executions&gt;
                            &lt;execution&gt;
                                &lt;id&gt;Unzip usp Config &amp;amp; Env Modules&lt;/id&gt;
                                &lt;phase&gt;generate-resources&lt;/phase&gt;
                                &lt;goals&gt;
                                    &lt;goal&gt;unpack&lt;/goal&gt;
                                &lt;/goals&gt;
                                &lt;configuration&gt;
                                    &lt;artifactItems&gt;
                                        &lt;artifactItem&gt;
                                            &lt;groupId&gt;com.dig.configs&lt;/groupId&gt;
                                            &lt;artifactId&gt;common-configs&lt;/artifactId&gt;
                                            &lt;version&gt;${commonConfigs.version}&lt;/version&gt;
                                            &lt;type&gt;zip&lt;/type&gt;
                                            &lt;overWrite&gt;true&lt;/overWrite&gt;
                                            &lt;outputDirectory&gt;${basedir}/target/tmp&lt;/outputDirectory&gt;
                                        &lt;/artifactItem&gt;
                                        &lt;artifactItem&gt;
                                            &lt;groupId&gt;${pom.groupId}&lt;/groupId&gt;
                                            &lt;artifactId&gt;usp-env&lt;/artifactId&gt;
                                            &lt;version&gt;${pom.version}&lt;/version&gt;
                                            &lt;type&gt;zip&lt;/type&gt;
                                            &lt;outputDirectory&gt;${basedir}/target/tmp&lt;/outputDirectory&gt;
                                        &lt;/artifactItem&gt;
                                    &lt;/artifactItems&gt;
                                &lt;/configuration&gt;
                            &lt;/execution&gt;
                        &lt;/executions&gt;
                    &lt;/plugin&gt;
                    &lt;plugin&gt;
                        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;
                        &lt;executions&gt;
                            &lt;execution&gt;
                                &lt;id&gt;Copy Config, Env Modules&lt;/id&gt;
                                &lt;phase&gt;generate-resources&lt;/phase&gt;
                                &lt;configuration&gt;
                                    &lt;tasks&gt;
                                        &lt;copy todir=""${basedir}/target/myMessage/WEB-INF/classes/config"" overwrite=""true"" verbose=""true"" failonerror=""true""&gt;
                                            &lt;fileset dir=""${basedir}/target/tmp/config""&gt;
                                                &lt;include name=""**"" /&gt;
                                            &lt;/fileset&gt;
                                            &lt;fileset dir=""${basedir}/target/tmp/env""&gt;
                                                &lt;include name=""**"" /&gt;
                                            &lt;/fileset&gt;
                                        &lt;/copy&gt;
                                        &lt;copy todir=""${basedir}/target/myMessage/WEB-INF/classes/config"" overwrite=""true"" verbose=""true"" failonerror=""true""&gt;
                                            &lt;fileset dir=""../config/test"" includes=""**"" /&gt;
                                        &lt;/copy&gt;
                                        &lt;copy file=""${basedir}/../config/usp-app-config.xml"" todir=""${basedir}/target/myMessage/WEB-INF/classes/config"" /&gt;
                                        &lt;copy file=""${basedir}/../usp-env/src/test/env/usp-app-config.properties"" todir=""${basedir}/target/myMessage/WEB-INF/classes"" /&gt;
                                        &lt;copy file=""${basedir}/../usp-env/src/test/env/app-config.properties"" todir=""${basedir}/target/myMessage/WEB-INF/classes"" /&gt;
                                    &lt;/tasks&gt;
                                &lt;/configuration&gt;
                                &lt;goals&gt;
                                    &lt;goal&gt;run&lt;/goal&gt;
                                &lt;/goals&gt;
                            &lt;/execution&gt;
                        &lt;/executions&gt;
                    &lt;/plugin&gt;
                &lt;/plugins&gt;
</code></pre>
","1471921","","472495","","2017-09-13 12:36:22","2017-09-13 12:36:22","Not able to get reference to class file generated in ""target"" folder of Maven project in GWT","<java><gwt><intellij-idea><maven-2><gin>","3","7","","","","21286677","2253","2253","gin","315","5802757","5802756"
"21326341","1","21545149","","2014-01-24 06:55:45","","1","530","<p>I am using Maven to build my GWT project. I am using <a href=""https://code.google.com/p/google-gin/"" rel=""nofollow"">Gin</a> to generate some boilerplate code:</p>

<pre><code>package com.lokur.motd.client.events;

import com.gwtplatform.dispatch.annotation.GenEvent;

@GenEvent
public class EditorChange {
}
</code></pre>

<p>But, when I run ""mvn clean install"" command, Maven is generating Gin related Java source in the <code>target/classes/com/lokur/motd/client/events</code> directory. Why are there <code>.java</code> files going into the <code>classes</code> directory?</p>

<p>I'm using the Maven plug-ins below to generate Java source in the <code>target/generated-sources</code> folder:</p>

<pre class=""lang-xml prettyprint-override""><code>&lt;plugin&gt;
    &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;
    &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.0.5&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;id&gt;process&lt;/id&gt;
            &lt;goals&gt;
                &lt;goal&gt;process&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;phase&gt;generate-sources&lt;/phase&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;
&lt;plugin&gt;
    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
    &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;id&gt;add-source&lt;/id&gt;
            &lt;phase&gt;generate-sources&lt;/phase&gt;
            &lt;goals&gt;
                &lt;goal&gt;add-source&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
                &lt;sources&gt;
                    &lt;source&gt;target/generated-sources/apt&lt;/source&gt;
                &lt;/sources&gt;
            &lt;/configuration&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;
</code></pre>

<p>In this case, two <code>EditorChangeEvent.java</code> files are getting generated: one in <code>generated-sources</code> folder; another in <code>target/classes/&lt;..package..&gt;</code> folder.
Thus, causing below compilation failure:</p>

<pre><code>duplicate class:
com.lokur.motd.client.events.EditorChangeEvent
</code></pre>
","1471921","","254477","","2015-03-09 14:44:40","2015-03-09 14:44:40","Why is Gin generating source files in the ""target/classes"" directory?","<java><maven><gwt><maven-2><gin>","2","0","","","","21326341","2253","2253","gin","315","5802757","5802756"
"21673017","1","","","2014-02-10 09:15:15","","0","241","<p>ERROR: Error injecting com.avtodoria.tracer.web.client.view.SearchProfileViewImpl$SearchProfileViewUiBinder: Unable to create or inherit binding: No @Inject or default constructor found for com.avtodoria.tracer.web.client.view.SearchProfileViewImpl$SearchProfileViewUiBinder</p>

<p>Generally, this error appears if I forgot to annotate constructor SearchProfileViewImpl with @Inject.
But:</p>

<pre><code>...
import com.google.inject.Inject;
import com.google.gwt.uibinder.client.UiBinder;
import com.google.gwt.uibinder.client.UiField;
import com.google.web.bindery.event.shared.EventBus;
...


public class SearchResultViewImpl extends AbstractView implements SearchResultView {

    interface SearchResultViewUiBinder extends UiBinder&lt;FlowPanel, SearchResultViewImpl&gt; {}

@Inject
private EventBus eventBus;

@UiField(provided = true)
CellTable&lt;SearchResultProxy&gt; resultTable;
@UiField(provided = true)
MapWidget mapWidget;
@UiField
SearchResultResources res;
@UiField
Breadcrumbs breadcrumbs;
@UiField
FlowPanel resultPanel;
@UiField
Button collapseButton;
@UiField
NavLink backLink;
@UiField
NavLink currentSearchPatternNavLink;
@UiField
Pager pager;
@UiField
Grid pagerPanel;
@UiField
FlowPanel container;

**@Inject**
public SearchResultViewImpl(SearchResultViewUiBinder uiBinder) {
    prepareResultTable();
    prepareMap();
    initWidget(uiBinder.createAndBindUi(this));
    res.css().ensureInjected();

    pager.setDisplay(resultTable);

    detailsPopup = new SearchResultDetailsPopup(map, DEFAULT_PROJECTION, ""resultDetailsPopup"", 300, 300);

    bindEvents();
}
...
</code></pre>

<p>In the same classes, which use Uibinder too, this error doesn`t appear. </p>

<p>Gin Module:</p>

<pre><code>public class AppModule extends AbstractGinModule {

@Override
protected void configure() {
    bind(EventBus.class).to(SimpleEventBus.class).in(Singleton.class);

    bind(AppView.class).to(AppViewImpl.class);
    bind(SearchProfileView.class).to(SearchProfileViewImpl.class);
    bind(AreaSelectView.class).to(AreaSelectViewImpl.class);
    bind(SearchResultView.class).to(SearchResultViewImpl.class);
}
...
</code></pre>

<p>Also, my colleague work with the same code, but without this error. In addition, this problem only appears, when I ran GWT debug. I tryed to reinstall the whole project and IDE but nothing changed.
Help me pls!</p>

<p>PS I apologize for my English, but I hope that the problem is clear. </p>
","3029427","","","","","2014-02-10 09:15:15","Deffered binding failed for inner interface exntended UiBinder<T,T>","<java><gwt><uibinder><gin>","0","9","1","","","21673017","2253","2253","gin","315","5802757","5802756"
"22173209","1","22205455","","2014-03-04 13:24:50","","2","853","<p>I have an application that uses GWTP, which heavily relies on Gin &amp; Guice. My app authentication works using a <code>CurrentUserDto</code> to represent the currently logged in user, which is bound to a <code>Provider</code> and is injected where needed.</p>

<p>My app allows users to login by checking the user's email and password against the datastore and sets a token in the user's cookies if there is a match, to signify being logged in. Pretty basic stuff so far...</p>

<p>The <code>CurrentUserDtoProvider</code> checks for the cookie on the client, and if it exists and is still valid, returns the <code>CurrentUserDto</code> with the correct details.</p>

<p>My <code>LoginPresenter</code>:</p>

<pre><code>public class LoginPresenter extends Presenter&lt;LoginPresenter.MyView, LoginPresenter.MyProxy&gt; implements LoginUiHandlers
{
private CurrentUserDto currentUserDto;

public interface MyView extends View, HasUiHandlers&lt;LoginUiHandlers&gt;
{
}

@Title(""Login"")
@NoGatekeeper
@ProxyStandard
@NameToken(NameTokens.login)
public interface MyProxy extends ProxyPlace&lt;LoginPresenter&gt;
{
}

private DispatchAsync dispatchAsync;
private PlaceManager placeManager;

@Inject
public LoginPresenter(EventBus eventBus, MyView view, MyProxy proxy,
    DispatchAsync dispatchAsync, PlaceManager placeManager,
        CurrentUserDto currentUserDto)
{
    super(eventBus, view, proxy, RevealType.Root);

    this.dispatchAsync = dispatchAsync;
    this.placeManager = placeManager;
    this.currentUserDto = currentUserDto;

    getView().setUiHandlers(this);
}

@Override
protected void onReveal()
{
    if(currentUserDto.isLoggedIn())
    {
        System.out.println(""User IS logged in - redirecting to main page"");
        PlaceRequest request = new PlaceRequest.Builder().nameToken(NameTokens.home).build();
        placeManager.revealPlace(request, true);
    }
    else
    {
        System.out.println(""User IS NOT logged in - showing login page"");
        // do nothing, we are already on the login page
    }

}

@Override
public void onLoginClick(final String email, String password)
{
    Window.alert(""Client logging in as "" + email + "" with password "" + password);

    ClientLogin action = new ClientLogin(email, password);

    dispatchAsync.execute(action, new AsyncCallbackImpl&lt;ClientLoginResult&gt;()
    {
        @Override
        public void onReturn(ClientLoginResult result)
        {
            // set the cookie
            Cookies.setCookie(""usavtoken"", result.getToken());

            // here I would like to do this:
            //placeManager.revealDefaultPlace()

            // but instead I have to do this:
            // browser refresh workaround, reloads whole app
            String newURL = Window.Location.getHref();
            Window.Location.assign(newURL);

        }
    });

}
</code></pre>

<p>}</p>

<p>My problem occurs when my <code>ClientLogin</code> action returns with the validation token. See above <code>onReturn()</code> method. Here I would like to simply run the code in <code>onReveal()</code> again, but as the <code>CurrentUserDto</code> still says a user is not logged in, the login page is left on the screen.</p>

<p>Refreshing the whole GWT app is the only way I can manage to refresh the details in the <code>CurrentUserDto</code> entity that was injected into the login page BEFORE the user logged in. What is the best way to do this?</p>

<p><em>Is there another way to get a fresh copy of the CurrentUserDto?</em></p>

<p><em>Is there another way to reload the same page that will cause Gin to <code>@Inject</code> my constructor again?</em></p>

<p>Apologies if this is unclear. I am not very experienced with GIN/Guice.</p>
","250917","","250917","","2014-03-05 10:39:35","2016-01-25 08:17:13","How to refresh GWTP app after login and cookie is set? Gin Provider Injection","<java><gwt><guice><gwtp><gin>","3","0","1","","","22173209","2253","2253","gin","315","5802757","5802756"
"22354423","1","","","2014-03-12 14:19:54","","2","133","<p>I have a Presenter class which has references to objects of other classes.These objects are large in number roughly 18-25.I have not injected any of the objects. During the GWT compile, this Presenter is converted to a n number of *.cache.js files, out which one cache.js seems to be very large and this file is downloaded when Application starts, making the start up time longer than usual, Is their a way to efficiently use GWT.runAsync() to divide this file into multiple split points?</p>

<p>Thanks in advance</p>

<p>Thanks,</p>

<p>Rohit</p>
","1254554","","","","","2014-03-12 14:19:54","multiple code split points in GWTP presenter","<gwt><gin>","0","0","","","","22354423","2253","2253","gin","315","5802757","5802756"
"22491326","1","","","2014-03-18 21:21:57","","0","212","<p>I am trying to write a Jukito test that uses a GIN factory I created. </p>

<p>My factory looks like so:</p>

<pre><code>public interface ClientFactory {

    public DOMModel create(Entity ref);

}
</code></pre>

<p>I am binding it in my gin module like so:</p>

<pre><code>public class ClientModule extends AbstractGinModule {

    @Override
    protected void configure() {

        install(new GinFactoryModuleBuilder().build(ClientFactory.class));

    }

}
</code></pre>

<p>DOMModel looks like so:</p>

<pre><code>public class DOMModel {

    ...

@Inject
public DOMModel(CollabClientFactory collabFactory, @Assisted Entity ref, @Assisted Document domDoc){
    this.colabClient = collabFactory.create(""DOMMODEL:""+ref.getID(), ""com.server.impl.DOMCollabSite.java"", collaborator);
    }

    ...
}
</code></pre>

<p>Then my test looks like this:</p>

<pre><code>@RunWith(JukitoRunner.class)
public class Test {

  public static class Module extends JukitoModule {
    protected void configureTest() {

        install(new GinModuleAdapter(new ClientModule()));

    }
  }

  @Inject
  ClientFactory modelFactory;

  @Test
  public void testSimple() throws Exception{
       Entity entity = new Entity(){
            @Override
            public String getID() {

             return ""someID"";
            }
       };

       DOMModel model1 = modelFactory.create(entity);

         assertNotNull(model1);
    }

}
</code></pre>

<p>This test fails because <code>model1</code> is null, however I get no other errors or warnings whatsoever. What is wrong?</p>
","412354","","1768232","","2015-08-04 23:25:20","2015-08-04 23:25:20","Why does my my GIN factory always return null?","<java><gwt><mockito><gin><jukito>","0","5","","","","22491326","2253","2253","gin","315","5802757","5802756"
"22530676","1","","","2014-03-20 10:52:56","","0","108","<p>Im developing webapp using GWT and GIN, I'm really curious if its possible to use Ginjector to return generic type, but unknown for implementation untill usage?</p>

<p>maybe code will clear my question:</p>

<p>My Gin module:</p>

<pre><code>@GinModules(GinModule.class)
public interface ShowcaseInjector extends Ginjector {
    &lt;T&gt; ValuePickerQuestionComposite&lt;T&gt; getValuePickerQuestion();
}
</code></pre>

<p>Class to be injected</p>

<pre><code>public class ValuePickerQuestionComposite&lt;T&gt;{
    //some implementation with T required

}
</code></pre>

<p>Usage of gin:</p>

<pre><code>ShowcaseInjector injector = GWT.create(ShowcaseInjector.class);
ValuePickerQuestionComposite&lt;Integer&gt; instance = injector.getValuePickerQuestion();
</code></pre>

<p>I may need implemenation for Integer, String, Double, because of generic widget inside.
From my research I found some bindings, but for them Ginjector knows exactly what type generic is, so its something like </p>

<pre><code>ValuePickerQuestionComposite&lt;Integer&gt; getValuePickerQuestion();
</code></pre>

<p>But I want it to be unknown untill usage.
Is my idea even possible? If is, could somebody point what type of configuration should I use?
Thanks in Advance!</p>
","2874814","","","","","2014-03-20 10:56:08","GWT GIN: Can Gijector return generic of unknown type?","<java><generics><gwt><inject><gin>","1","0","","","","22530676","2253","2253","gin","315","5802757","5802756"
"23540577","1","","","2014-05-08 11:32:58","","1","54","<p>I have the folowing constructor...</p>

<pre><code>@Inject
public EditorPresenter(final EventBus eventBus, final MyView view, final Provider&lt;DataProvider&gt; provider) {

    DataProvider provider = provider.get();
    provider.getInitData().fire(new Receiver&lt;List&lt;DataElement&gt;&gt;() {

        @Override
        public void onSuccess(List&lt;DataElement&gt; response) {
            LOG.info(""seting feed types to {}"", response);
            EditorPresenter.this.data = response;
        }
    });
}
</code></pre>

<p>This constructor sets the class field <em>data</em> to the values returned in the request factory call.</p>

<p>The problem is this data requires a call to the server and is thus asynchronous. </p>

<p>And this field needs to be set when the constructor returns as other objects/beans depend on it (I'm having subsequent errors that depend on data being initalised).</p>

<p>What is the most efficient and light weight way of handling this scenario with Gin? </p>

<p>I'm hoping that there is something built into GIN that handles this scenario gracefully.</p>
","117839","","","","","2014-05-09 13:20:43","How to handle the situation where a bean requires a server call as part of its initialiation","<java><gwt><requestfactory><gwtp><gin>","3","0","","","","23540577","2253","2253","gin","315","5802757","5802756"
"23559376","1","","","2014-05-09 07:56:09","","4","436","<p>I have a web app based on GWT. I use the same code base to target desktop as well as mobile platforms. I am using Model-View-Presenter and Dependency Injection based on GIN to achieve the goal of being cross platform compatible. However for better performance and native look-and-feel on Android, I would like to write to a fully native app. I want start by migrating the same GWT Java code to a new Android project and replace just the View implementations with native views that make use of native widgets. Has anybody tried this ? Besides the obvious issues like bloated code and extra memory consumption due to DI are there any other major issues?</p>
","2946040","","2946040","","2014-05-09 18:29:19","2015-03-03 00:55:38","Using GWT source code in Android","<android><gwt><guice><gin>","1","2","2","","","23559376","2253","2253","gin","315","5802757","5802756"
"23883527","1","23902783","","2014-05-27 07:32:48","","5","4445","<p>Can anyone help me solve a problem please?  </p>

<p>I'm upgrading from GWT 2.5.1 to 2.6.1 and am getting the following error when trying to run the codeserver of my project...</p>

<pre><code>[INFO] Compiling module &lt;SOME_MODULE&gt;
[INFO]    Validating units:
[INFO]       Ignored 1 unit with compilation errors in first pass.
[INFO] Compile with -strict or with -logLevel set to TRACE or DEBUG to see all errors.
[INFO]    Computing all possible rebind results for 'com.gwtplatform.mvp.client.DesktopGinjector'
[INFO]       Rebinding com.gwtplatform.mvp.client.DesktopGinjector
[INFO]          Invoking generator com.google.gwt.inject.rebind.GinjectorGenerator
[INFO]             [ERROR] Error injecting com.gwtplatform.mvp.client.proxy.PlaceManager: Unable to create or inherit binding: No @Inject or default constructor found for com.gwtplatform.mvp.client.proxy.PlaceManager
[INFO]   Path to required node:
[INFO] 
[INFO] com.gwtplatform.mvp.client.proxy.PlaceManager [com.gwtplatform.mvp.client.ClientGinjector#getPlaceManager()]
[INFO] 
[...etc.]
</code></pre>

<p>It seems the GIN deferred binding engine is trying to look for constructors on interfaces, which of course do not exist.</p>

<p>Any suggestions would be appreciated.  I'm using Maven. <a href=""http://mojo.codehaus.org/gwt-maven-plugin/"">http://mojo.codehaus.org/gwt-maven-plugin/</a></p>

<p>Pete</p>

<p><strong>[EDIT:]</strong>
This particular error is the result of removing this line from the Gin Module config:</p>

<p><code>install(new DefaultModule(DefaultPlaceManager.class));</code></p>

<p>The line was removed to try and trace a similar looking error.  Will post a better formal answer when I know more.</p>
","358006","","358006","","2014-05-28 01:51:01","2017-08-18 14:47:01","GWTP No Default Constructor For Interface","<gwt><gwtp><gin>","3","3","1","","","23883527","2253","2253","gin","315","5802757","5802756"
"23953653","1","23963853","","2014-05-30 11:34:58","","2","715","<p>I have a pretty simple GIN usage in my GWT project. I followed the Guice tutorial to set it up. </p>

<p>I want to bind an unchanging Long variable to an annotation in my AbstractGinModule subclass. The problem is that I do now know the value of the variable until runtime (onModuleLoad). I have the value before I create the Ginjector... I just don't know how to get it into my Client module. </p>

<p>I've seen answers that say I can pass a constructor parameter to my ClientModule... but I don't see where it gets constructed. It's just annotation wiring. </p>

<pre><code>@GinModules(MyClientModule.class)
public interface MyGinjector extends Ginjector {
}

public class MyClientModule extends AbstractGinModule {

    @Override
    protected void configure() {
        bindConstant().annotatedWith(named(""MyConstant"")).to(???);
    }

public class MyEntryPoint implements EntryPoint {

    @Override
    public void onModuleLoad() {

        long myValue = 123456L; 
        MyGinjector injector = GWT.create(MyGinjector.class);
}
</code></pre>

<p>So how can I get my value 123456L into the configure() method of MyClientModule? </p>
","28946","","28946","","2014-05-30 14:52:41","2014-05-30 21:47:06","GIN - Pass a constructor parameter to my ClientModule","<gwt><guice><gin>","3","0","","","","23953653","2253","2253","gin","315","5802757","5802756"
"24682087","1","24682920","","2014-07-10 16:44:47","","2","1635","<p>As stated in the documentation of <a href=""https://github.com/ArcBees/GWTP/wiki/Rest-Dispatch"" rel=""nofollow"">rest-dispatch</a>, the rest application path must be configured in the GIN module  via a constant, here ""/api/v1"": </p>

<pre><code>public class DispatchModule extends AbstractGinModule {
   @Override
   protected void configure() {
       RestDispatchAsyncModule.Builder dispatchBuilder = 
               new RestDispatchAsyncModule.Builder();
       install(dispatchBuilder.build());
       bindConstant().annotatedWith(RestApplicationPath.class).to(""/api/v1"");   
   }
}
</code></pre>

<p>I would like to make the ""/api/v1"" constant be resolved at compile time, based on an environment variable set by the build system depending on the target environment (prod, dev, etc...), and on other criteria (the build artifact major version...).</p>

<p>The problem is I do not manage to rely on a compile time variable.
Neither TextResource/CssResource nor GWT's <a href=""http://www.gwtproject.org/doc/latest/DevGuideCodingBasicsDeferred.html"" rel=""nofollow"">deferred binding</a> won't help here, since <code>GWT.create()</code> cannot be used in GIN module. Another option I considered is using a custom Generator, but this seems to be too complex for this very simple need. </p>

<p>How do you solve this problem ?</p>
","2409182","","","","","2014-08-10 02:32:57","Using a compile-time environment variable to configure RestApplicationPath","<java><gwt><gwtp><gwt-platform><gin>","3","1","3","","","24682087","2253","2253","gin","315","5802757","5802756"
"27807312","1","27807405","","2015-01-06 21:16:37","","0","572","<p>I have the following code: </p>

<pre><code>public abstract class AbstractClass&lt;T&gt; {

 final A a;

 @Inject
 AbstractClass(A a) {
   this.a = a;
 }
}

public class B extends AbstractClass&lt;C&gt; {

  final D d;

   @Inject
   B(D d) {
     super(); // this fails
     this.d = d;
   }

}
</code></pre>

<p>My <code>class B</code> extends <code>AbstractClass</code> and <code>AbstractClass</code> uses <code>@Inject</code> to inject <code>A</code> into it. In class <code>B</code> I cannot call <code>super()</code> because <code>AbstractClass</code> has an argument in the constructor. How can I handle the dependency injection of the superclass in the subclass to get <code>super()</code> working?</p>

<p><em>How can I construct a class when the superclass uses <code>@Inject</code>?</em></p>
","1055664","","4125191","","2015-01-06 21:34:06","2015-01-11 20:45:45","How can I construct a class when the super class uses @Inject?","<java><gwt><dependency-injection><guice><gin>","1","1","","","","27807312","2253","2253","gin","315","5802757","5802756"
"27846356","1","27942046","","2015-01-08 17:45:40","","0","175","<p>The GinFactoryModuleBuilder class comment says the following:</p>

<blockquote>
  <p>In difference to regular Guice Assisted Inject, in Gin, return types
  in your factory are not further resolved using your regular injector
  configuration. This means that in the following example you'll still
  get a Chicken and not a Rooster:</p>

<pre><code>interface Animal {}
 public class Chicken implements Animal {}
 public class Rooster extends Chicken {}
 interface AnimalFactory {
   Animal getAnimal();
 }
 ...
 protected void configure() {
   bind(Chicken.class).to(Rooster.class);
   install(new GinFactoryModuleBuilder()
       .implement(Animal.class, Chicken.class)
       .build(AnimalFactory.class));
 }
</code></pre>
</blockquote>

<p>Is there a way to get the Rooster class in gin? What about:</p>

<pre><code>install(new GinFactoryModuleBuilder()
        .implement(Animal.class, Rooster.class)
        .build(AnimalFactory.class));
</code></pre>

<p>And in my code: </p>

<pre><code>@Inject
AnimalFactory f;
Animal rooster = f.getAnimal();
</code></pre>

<p>How do I create the Rooster?</p>

<p><strong>How to get a extended SubClass from Google Gin using GinFactoryModuleBuilder?</strong></p>
","1055664","","","","","2015-01-14 11:38:20","How to get a extended SubClass from Google Gin using GinFactoryModuleBuilder?","<java><gwt><dependency-injection><guice><gin>","1","1","","","","27846356","2253","2253","gin","315","5802757","5802756"
"28316243","1","28316565","","2015-02-04 07:57:44","","0","569","<p>In the Context of JUnit, what is the difference between @inject and @mock, and in which conditions both can be used?</p>

<p>thanks,
Rohit</p>
","1254554","","","","","2015-02-04 08:16:52","Difference between @inject and @mock annotations","<gwt><junit><mockito><guice><gin>","1","1","","","","28316243","2253","2253","gin","315","5802757","5802756"
"28354856","1","","","2015-02-05 21:57:42","","1","417","<p>With GWTP/Gin, is it possible to optionally install a module during compile?  We have a case where we would like to have a presenter and view only available in the application when running in ""development"" mode, where that mode is determined by a flag in the .gwt.xml file (set by the build).</p>

<p>Previously, we were running GXT with an MVC architecture and would do the following in our module:</p>

<pre><code>  &lt;replace-with class=""com.mypackage.DevEditController"" &gt;
    &lt;all&gt;
        &lt;when-property-is name=""isDevelopment"" value=""true"" /&gt;
        &lt;when-type-is class=""com.mypackage.EditController"" /&gt;
    &lt;/all&gt;
  &lt;/replace-with&gt;
  &lt;replace-with class=""com.mypackage.StubEditController"" &gt;
    &lt;all&gt;
        &lt;when-property-is name=""isDevelopment"" value=""false"" /&gt;
        &lt;when-type-is class=""com.mypackage.EditController"" /&gt;
    &lt;/all&gt;
  &lt;/replace-with&gt;
</code></pre>

<p>And would create the controller with the following:</p>

<pre><code>(EditController)GWT.create(EditController.class);
</code></pre>

<p>I would like to do something similar with GWTP, where the non-development compile of the application wouldn't know anything about this presenter.  Essentially, doing something along the lines of this in our module file:</p>

<pre><code>&lt;set-configuration-property name=""gin.ginjector.modules"" 
                              value=""com.mypackage.gin.SharedModule""/&gt;

if this is development mode:
&lt;set-configuration-property name=""gin.ginjector.module.desktop""
                              value=""com.mypackage.gin.DevDesktopModule""/&gt;
else:
&lt;set-configuration-property name=""gin.ginjector.module.desktop""
                              value=""com.mypackage.gin.DesktopModule""/&gt;
</code></pre>

<p>Where DesktopModule and DevModule would do the same things, but DevDesktopModule would load an additional module (TestModule) containing the presenter/view binding.</p>

<p>Is this doable from a configuration perspective?  I thought I could do this with two .gwt.xml files switched out by the build process, but the build process always sees the TestModule file, regardless of whether or not it's being installed (apparently because of the Inject).  This is the error message we get when the module is present in the source tree but never installed (this is from a build where we don't want it installed)</p>

<pre><code>[ERROR] Error injecting com.blah.test.TestPresenter$MyView: Unable to create or inherit binding: No @Inject or default constructor found for com.blah.test.TestPresenter$MyView
Path to required node:

com.google.gwt.inject.client.AsyncProvider&lt;com.blah.test.TestPresenter&gt; [com.gwtplatform.mvp.client.ClientGinjector#getcomblahtestTestPresenter()]
-&gt; com.blah.test.TestPresenter [Implicit injection of com.google.gwt.inject.client.AsyncProvider&lt;com.blah.test.TestPresenter&gt;]
-&gt; com.blah.test.TestPresenter$MyView [@Inject constructor of com.blah.test.TestPresenter]

[ERROR] Errors in 'gen/com/gwtplatform/mvp/client/DesktopGinjectorProvider.java'
[ERROR] Line 8: Failed to resolve 'com.gwtplatform.mvp.client.DesktopGinjector' via deferred binding
[WARN] For the following type(s), generated source was never committed (did you forget to call commit()?)

[WARN] com.gwtplatform.mvp.client.com_gwtplatform_mvp_client_DesktopGinjectorImpl
</code></pre>

<p>I appreciate any insight into the issue, or alternative solutions for having a ""conditionally included"" module in our application.</p>
","4534894","","","","","2015-02-09 15:29:45","Optional module installation","<gwtp><gwt-platform><gin>","2","0","","","","28354856","2253","2253","gin","315","5802757","5802756"
"29035451","1","","","2015-03-13 14:56:58","","0","198","<p>As far as I know GIN automatically uses GWT.create() fallback when there is no binding specified. It works perfect when a dependency is injected in a constructor.</p>

<pre><code>@Inject
public PresenterImpl(ResourceManager manager) {...}
</code></pre>

<p>Is it possible to initialize the same object using assisted factory?
I have tried, but GIN fails to find proper ""implementation"".
In other words I want to define a factory module builder with interface that returns <code>ResourceManager</code> and initialize this object using factory.</p>
","1032765","","","","","2015-03-16 04:12:11","Gin. Assisted factory + GWT.create()","<guice><gin>","1","0","","","","29035451","2253","2253","gin","315","5802757","5802756"
"29175014","1","29196676","","2015-03-20 20:08:49","","2","1354","<p>With Google Guice or Gin I can specify parameter with are not controlled by the dependency injection framework: </p>

<pre><code>class SomeEditor {


  @Inject
  public SomeEditor(SomeClassA a, @Assisted(""stage"") SomeClassB b) {
  }

}
</code></pre>

<p>The assisted parameter <code>stage</code> is specified at the time an instance of <code>SomeEditor</code> is created.</p>

<p>The instance of SomeClassA is taken from the object graph and the instance of SomeClassB is taken from the caller at runtime.</p>

<p><strong>Is there a similar way of doing this in Dagger?</strong> </p>
","1055664","","1055664","","2015-03-20 21:52:04","2019-04-09 16:38:45","Can I use some kind of assisted Inject with Dagger?","<java><guice><dagger><gin><dagger-2>","3","2","","","","29175014","2253","2253","gin","315","5802757","5802756"
"29196698","1","29197097","","2015-03-22 16:12:56","","9","4913","<p>I'm trying to use the ""newish"" JSONB type.</p>

<p>I have a <code>documents</code> table with a <code>properties</code> jsonb field, and in that is a field <code>publication_year</code>.  I want to find all document records within a year range e.g. 2013-2015.  <em>[EDIT: Querying for a range of values is the main challenge here, even though I have used an exact match example below. The requested approach would also apply for, say dollar ranges (price > $20 and price &lt; $40) or timestamp ranges).]</em></p>

<p>I have tried:</p>

<pre><code>create index test1 on documents using gin ((cast(properties-&gt;'announced_on_year' as integer)));

ERROR:  cannot cast type jsonb to integer
</code></pre>

<p>as well as:</p>

<pre><code>create index test1 on documents using gin (cast(properties-&gt;&gt;'publication_year' as integer));

ERROR:  data type integer has no default operator class for access method ""gin""
HINT:  You must specify an operator class for the index or define a default operator class for the data type.`
</code></pre>

<p>I saw from this post <a href=""http://www.postgresql.org/message-id/10736.1409063604@sss.pgh.pa.us"" rel=""noreferrer"">http://www.postgresql.org/message-id/10736.1409063604@sss.pgh.pa.us</a> that this should be possible, but I can't figure out the right syntax.</p>

<p>When I just do a straightforward index:</p>

<pre><code>create index test1 on documents using gin ((properties-&gt;'publication_year'));
</code></pre>

<p>an index is created, but I cannot query it using integer values to get a range going, it says</p>

<pre><code>select count(*) from documents where properties-&gt;&gt;'publication_year' = 2015;
ERROR:  operator does not exist: text = integer
LINE 1: ...*) from documents where properties-&gt;&gt;'publication_year' = 2015;
                              ^
HINT:  No operator matches the given name and argument type(s). You might need to add explicit type casts.
</code></pre>

<p>Any tips and hints highly appreciated. I'm sure others will benefit too. TIA</p>
","2767287","","627727","","2015-12-11 01:44:48","2017-03-21 15:28:39","How to index jsonb integer values","<postgresql><indexing><gin><jsonb>","4","0","2","","","29196698","2253","2253","gin","315","5802757","5802756"
"29543782","1","29544757","","2015-04-09 16:17:18","","2","92","<p>I am using google-gin in my application and it works fine except from one case and I don't understand why. Basically, I inject a toolbar widget I created into my view and it works fine. I see my toolbar with all the different buttons but when I click on the Home button, I have a NullPointerException which means the eventBus is null and therefore the injection in HomeButton did not work.</p>

<p>My view:</p>



<pre><code>public MyView extends AbstractView{
    @Inject
    EditorToolbar toolbar; 
    // ...
}
</code></pre>

<p>My Toolbar widget:</p>



<pre><code>public class EditorToolbar extends HorizontalLayoutContainer {
    private HomeButton homeBtn;
    private ToolbarIconButton saveButton;

    private final static int BUTTON_RIGHT_MARGIN=5;

    public EditorToolbar() {
        homeBtn = new HomeButton();
        saveButton = new ToolbarIconButton(""Save"",AppImages.INSTANCE.saveBW());

        this.add(homeBtn, new HorizontalLayoutData(-1, -1, new Margins(0, BUTTON_RIGHT_MARGIN, 0, 0)));
        this.add(saveButton, new HorizontalLayoutData(-1, -1, new Margins(0, BUTTON_RIGHT_MARGIN, 0, 0)));
    }

    public HandlerRegistration addSaveHandler(SelectEvent.SelectHandler handler){
        return saveButton.addSelectHandler(handler);
    }
}
</code></pre>

<p>The button where the injection of eventBus does not work:</p>



<pre><code>public class HomeButton extends ToolbarIconButton {

    @Inject
    private MetadataEditorEventBus eventBus;

    public HomeButton() {
        super(""Back to home page"", AppImages.INSTANCE.home());
        setToolTip(""Navigate back to the home page"");
        setWidth(130);
        bindUI();
    }

    private void bindUI() {
        addSelectHandler(new SelectEvent.SelectHandler() {
            @Override
            public void onSelect(SelectEvent selectEvent) {
                eventBus.fireBackToHomePageEvent();
            }
        });
    }
}
</code></pre>

<p>My GIN module:</p>



<pre><code>public class MetadataEditorGinModule extends AbstractGinModule {

    @Override
    protected void configure() {
        bind(com.google.web.bindery.event.shared.EventBus.class).to(MetadataEditorEventBus.class);
        // bind(com.google.gwt.event.shared.EventBus.class).to(MetadataEditorEventBus.class);
        bind(MetadataEditorEventBus.class).in(Singleton.class);

        bind(com.google.web.bindery.requestfactory.shared.RequestFactory.class).to(MetadataEditorRequestFactory.class);

        bind(com.google.gwt.place.shared.PlaceController.class).toProvider(PlaceControllerProvider.class).in(Singleton.class);

        bind(ActivityDisplayer.class).to(MetadataEditorAppDisplayer.class).in(Singleton.class);
        bind(MetadataEditorAppView.class).in(Singleton.class);
    }
}
</code></pre>

<p>Does anybody know why I can't get this to work?</p>
","835636","","835636","","2015-04-09 16:58:13","2015-04-09 17:14:45","GIN injection failure","<java><gwt><guice><gin>","1","4","","","","29543782","2253","2253","gin","315","5802757","5802756"
"30237072","1","","","2015-05-14 12:10:16","","0","192","<p>I have a very large knowledge base(Yago2) with columns that are of the form of XMl tags e.g. <code>'&lt;Albert_Einstein&gt;'</code>. Performance is very important in my use case so I created a gin index like that:</p>

<pre><code> create index col_idx on yagofacts using gin(to_tsvector('english', column_name));
</code></pre>

<p>Now I am trying to query it with</p>

<pre><code>select * from yagofacts where to_tsvector('english', column_name) @@ to_tsquery('Albert_Einstein'); 
</code></pre>

<p>However, it doesn't return any result because it can't search in the XML tags. 
I saw one solution to a previous question where I could do:</p>

<pre><code>select to_tsvector( 'simple', regexp_replace(column_name, E'[^A-Za-z0-9]', ' ', 'g')) @@ to_tsquery('simple','Albert_Einstein');
</code></pre>

<p>The problem is it doesn't have good performance because it doesn't make use of the gin index I created. How can I query it fast?</p>
","4899499","","","","","2015-05-14 12:28:08","Fast querying with gin index on table with column containing XML tags","<postgresql><indexing><gin><tsvector>","1","0","","","","30237072","2253","2253","gin","315","5802757","5802756"
"30518351","1","30524931","","2015-05-28 22:50:59","","1","637","<p>I have a GWT project with the following dependencies</p>

<pre><code>    &lt;dependency&gt;
        &lt;groupId&gt;com.google.gwt.inject&lt;/groupId&gt;
        &lt;artifactId&gt;gin&lt;/artifactId&gt;
        &lt;version&gt;2.1.2&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
        &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;
        &lt;artifactId&gt;owlapi-distribution&lt;/artifactId&gt;
        &lt;version&gt;4.0.2&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre>

<ul>
<li><p>gin 2.1.2 depends on <strong>guice 3.0</strong> while owlapi 4.0.2 depends on <strong>guice 4.0-beta</strong>.</p></li>
<li><p>gin is used on the client side while owlapi is used on the server side.</p></li>
<li><p>Compilation fails when I force <strong>guice 4.0-beta</strong> to be used. Caused by <code>java.lang.ClassNotFoundException: com.google.inject.internal.util.$Maps</code></p></li>
<li><p>Compilation succeeds when I force <strong>guice 3.0</strong> to be used, but fails at run-time caused by <code>java.lang.ClassNotFoundException: com.google.inject.internal.guava.collect.$ImmutableList</code></p></li>
<li><p>Downgrading the version of owlapi is not an option.</p></li>
</ul>

<p>What options do I have to make this work? Can I use dependency scopes somehow while still retaining a functioning GWT DevMode?</p>
","1419386","","1419386","","2015-05-28 23:59:15","2016-02-10 02:26:14","GWT (Maven) project: Dependency conflict","<maven><gwt><guice><gin><owl-api>","3","0","1","","","30518351","2253","2253","gin","315","5802757","5802756"
"30790949","1","","","2015-06-11 20:36:10","","2","730","<p>I am following the thoughtbot tutorial on multi-index full-text search using postgresql and rails 4. And I can't seem to get the indices migrations to work. I have tried</p>

<pre><code>  disable_ddl_transaction!  
  def change
    add_index(:cards, :object, using: 'gin', algorithm: :concurrently)
    add_index(:cards, :content, using: 'gin', algorithm: :concurrently)
    add_index(:tags, :name, using: 'gin', algorithm: :concurrently)     
  end
</code></pre>

<p>and</p>

<pre><code>  def up
    ActiveRecord::Base.connection.execute &lt;&lt;-SQL
    CREATE INDEX CONCURRENTLY index_cards_on_object ON cards USING gin(to_tsvector('english', object));
    CREATE INDEX CONCURRENTLY index_cards_on_content ON cards USING gin(to_tsvector('english', content));
    CREATE INDEX CONCURRENTLY index_tags_on_name ON tags USING gin(to_tsvector('english', name));
   SQL
 end
 def down
    ActiveRecord::Base.connection.execute &lt;&lt;-SQL
    DROP INDEX index_cards_on_object;
    DROP INDEX index_cards_on_content;
    DROP INDEX index_tags_on_name;
  SQL
end
</code></pre>

<p>I get the following errors (rescpectively)</p>

<blockquote>
  <p>PG::UndefinedObject: ERROR:  data type character varying has no default operator class for access method ""gin""</p>
</blockquote>

<p>and</p>

<blockquote>
  <p>ActiveRecord::StatementInvalid: PG::UndefinedObject: ERROR:  data type character varying has no default operator class for access method ""gin""
  PG::SyntaxError: ERROR:  syntax error at or near ""CREATE""</p>
</blockquote>

<p>All help and insight welcomed, thank you</p>
","3965672","","","","","2019-09-17 14:34:53","How to Create Gin Indices Concurrently? POSTGRES & Rails 4.2","<postgresql><ruby-on-rails-4><activerecord><concurrency><gin>","1","1","","","","30790949","2253","2253","gin","315","5802757","5802756"
"32939560","1","32959762","","2015-10-04 23:46:45","","4","2161","<p>I am using PostgreSQL 9.4. My table has a <code>jsonb</code> column:</p>

<pre><code>CREATE TABLE ""PreStage"".transaction (
  transaction_id serial NOT NULL,
  transaction jsonb
  CONSTRAINT pk_transaction PRIMARY KEY (transaction_id)
);

CREATE INDEX idxgin ON ""PreStage"".transaction USING gin (transaction);
</code></pre>

<p>I store transactions in terms of key / value in the JSONB column. One of the requirements is to search customer name from the key value, hence I am running a query like:</p>

<pre><code>SELECT transaction as data FROM ""PreStage"".transaction
WHERE  transaction-&gt;&gt;('HCP_FST_NM') ilike ('%neer%');
</code></pre>

<p>What ever I do seems the query doesn't like the GIN index. How can I make the query use a GIN index with case insensitive pattern search?</p>

<p>I tried changing <code>jsonb</code> column to text, indexing it using <code>gin_trgm_ops</code> then search for required text, then converting the result to <code>json</code> and then searching in the required key/value. This approach doesn't seem to work.</p>
","3832677","","939860","","2015-10-05 23:28:10","2015-10-06 21:04:22","Pattern matching on jsonb key/value","<json><postgresql><indexing><gin><jsonb>","1","4","1","","","32939560","2253","2253","gin","315","5802757","5802756"
"32948654","1","","","2015-10-05 12:29:25","","0","31","<p>I have a proxy, let's call it ConfigParametersProxy.</p>

<p>It has a method (for example) String getParameter1();</p>

<p>It is a request factory managed value proxy.</p>

<p>I want to be able to do this with it in my java/gwt code...</p>

<p>@Inject
ConfigParameterProxy parameters;</p>

<p>How do I set this up so this works?</p>

<p>I am using GIN, so have a client module etc.</p>
","117839","","117839","","2015-10-08 11:10:51","2015-10-08 11:10:51","How to make the result from a request factory call available for for injection using GIN?","<gwt><requestfactory><gin>","0","2","","","","32948654","2253","2253","gin","315","5802757","5802756"
"33008566","1","33031140","","2015-10-08 06:50:53","","0","246","<p>I am learning Gin with <a href=""https://code.google.com/p/google-gin/wiki/GinTutorial"" rel=""nofollow"">GinTutorial</a> and I've stacked on silly problem.</p>

<p>In <code>bind(MyWidgetMainPanel.class).in(Singleton.class);</code> Singleton does not exist.</p>

<p>I've already tried the following:</p>

<p><code>import com.google.gwt.inject.client.AbstractGinModule;
 import com.google.gwt.inject.client.Singleton;
 import com.google.gwt.inject.Singleton;</code></p>

<p>IDE shows that Singleton does not exist before compilation time.</p>

<p>If I try to use <code>import com.google.inject.Singleton;</code> it shows that Singleton does not exist on compilation.</p>

<ul>
<li>gin-2.1.2</li>
<li>gwt2.6</li>
</ul>

<p>I'd be happy to have any of your ideas or explanations.</p>
","659460","","","","","2015-10-09 06:16:08","How to import com.google.inject.Singleton?","<gwt><gin>","2","0","","","","33008566","2253","2253","gin","315","5802757","5802756"
"34758588","1","34761737","","2016-01-13 04:48:00","","1","290","<p>For instance, I have the GIN module which includes the binding for class A. While in class B (B is not bind using GIN), can I just simply use:</p>

<pre><code>@Inject private A a;
</code></pre>

<p>to inject class A? I tried in my project, and looks like I got null pointer for object a. No idea why.</p>
","1993552","","","","","2016-01-13 08:42:50","Can I inject objects in regular classes in GWT using GIN?","<gwt><dependency-injection><guice><gin>","1","0","","","","34758588","2253","2253","gin","315","5802757","5802756"
"34960335","1","34960556","","2016-01-23 06:20:55","","1","2043","<p>I'm trying to create a Postgres GIN index to speed up the following query:</p>

<pre><code>CREATE TABLE foo (
    id serial primary key,
    a jsonb not null
);

insert into foo(a) values
    ('[{""b"": ""aaa""}, {""b"": ""ddd""}]'::jsonb),
    ('[{""b"": ""aaa""}, {""b"": ""aaa""}]'::jsonb),
    ('[{""b"": ""aaa""}]'::jsonb),
    ('[{""b"": ""aaa""}]'::jsonb),
    ('[{""b"": ""aaa""}]'::jsonb),
    ('[{""b"": ""bbb""}]'::jsonb),
    ('[{""b"": ""bbb""}]'::jsonb),
    ('[{""b"": ""bbb""}]'::jsonb),
    ('[{""b"": ""ccc""}]'::jsonb),
    ('[]'::jsonb);

select distinct id from (
    select id, jsonb_array_elements(a)-&gt;&gt;'b' as b from foo
) t where t.b = 'aaa'
</code></pre>

<p>Is such a thing possible in Postgres? I am open to other alternatives as well. Unfortunately, I can't normalize the table, so I'll need to work with the table structure that I already have. </p>
","2723062","","","","","2016-01-23 07:39:44","Using Postgres 9.5 GIN indexes and JSONB","<sql><postgresql><gin><jsonb>","1","0","1","","","34960335","2253","2253","gin","315","5802757","5802756"
"35144650","1","","","2016-02-02 03:42:13","","2","1069","<p>I am having issues making postgres use my multi-column indexes for full search using the btree_gin extension. This is for a search page for articles. The idea behind the use of btree_gin is to be able to get the 'id' field for sorting and magazine_id as a filter:</p>

<pre><code>CREATE INDEX idx_gin_search ON article USING gin(id, magazine_id, search_vector_full) WITH (fastupdate = off);
</code></pre>

<p>Postgres decides to use a btree index on magazine instead and then filter (=slow):</p>

<pre><code>Executed SQL
SELECT  FROM article WHERE (( (article.search_vector) @@    
(plainto_tsquery('pg_catalog.english', 'interesting'))) AND    
article.magazine_id = 7) ORDER BY article.id ASC LIMIT 36
Time 13.4780406952 ms

QUERY PLAN
Limit  (cost=2021.87..2021.96 rows=36 width=384) (actual time=9.782..9.787 rows=36 loops=1)
  -&gt;  Sort  (cost=2021.87..2027.49 rows=2248 width=384) (actual time=9.781..9.784 rows=36 loops=1)
    Sort Key: id
    Sort Method: top-N heapsort  Memory: 53kB
    -&gt;  Index Scan using idx_magazine_id on article (cost=0.29..1952.53 rows=2248 width=384) (actual time=0.035..8.924 rows=2249 loops=1)
          Index Cond: (magazine_id = 7)
          Filter: (search_vector @@ '''interesting'''::tsquery)
          Rows Removed by Filter: 11413
Planning time: 4.600 ms
Execution time: 9.860 ms
</code></pre>

<hr>

<p>Then, what I find even understand less, is that it also refuses to use this simple btree index on the LIST page for articles, where they are just listed x per page in descending order:</p>

<pre><code>CREATE INDEX idx_btree_listing ON article USING btree(id DESC, magazine_id);
</code></pre>

<p>Again it doesn't use the multi-column index:</p>

<pre><code>Executed SQL
SELECT  FROM article WHERE article.magazine_id = 7
ORDER BY article.id DESC LIMIT 36
Time 1.4750957489 ms

QUERY PLAN
Limit  (cost=0.29..7.48 rows=36 width=384) (actual time=0.034..0.115 rows=36 loops=1)
-&gt;  Index Scan Backward using idx_magazine_id on article  (cost=0.29..2729.56 rows=13662 width=384) (actual time=0.031..0.107 rows=36 loops=1)
    Filter: (magazine_id = 7)
    Planning time: 1.354 ms
    Execution time: 0.207 ms
</code></pre>

<p>EDIT:
The above is a development setup with less records and only 1 magazine, hence the fast speed. Here is a log produced by auto_explain on the production server:</p>

<pre><code>duration: 230.629 ms  plan:
SELECT article.id, article.title, article.date, article.content FROM article WHERE article.magazine_id = 7 ORDER BY article.id DESC LIMIT 36

Limit  (cost=0.42..43.67 rows=36 width=306) (actual time=229.876..229.995 rows=36 loops=1)
    -&gt;  Index Scan Backward using idx_magazine_id on article (cost=0.42..239539.22 rows=199379 width=306) (actual time=229.866..229.968 rows=36 loops=1)
    Filter: (article.magazine_id = 7)
    Rows Removed by Filter: 116414
</code></pre>

<p>I would be grateful anyone could give me tips for my further debugging on this one.</p>
","4171018","","562459","","2016-02-02 11:35:13","2016-02-02 11:36:53","Postgresql not using multi-column indexes (btree_gin)","<postgresql><postgresql-9.4><postgresql-performance><gin><b-tree-index>","1","5","","","","35144650","2253","2253","gin","315","5802757","5802756"
"35880985","1","","","2016-03-09 00:54:34","","6","4206","<p>Using Postgres 9.5, I have a table <code>addresses</code>.</p>

<pre><code>CREATE TABLE addresses (
    id        integer PRIMARY KEY,
    address   text
);
</code></pre>

<p>In that table I have 7.5 million rows. Example:</p>

<p><code>1, ""1600 Pennsylvania Avenue NW, Washington, DC, 20500""</code></p>

<p>I'm using this table for an autosuggest search in my application so I need to use this type of query:</p>

<pre><code>SELECT * FROM addresses WHERE address LIKE '123 Main St%';
</code></pre>

<p>I created this index:</p>

<pre><code>CREATE INDEX address_idx ON addresses (address);
</code></pre>

<p>But the problem is it's taking around 1 sec which is too slow.</p>

<p>Here's the query plan:</p>

<pre><code>EXPLAIN SELECT * FROM addresses WHERE address LIKE '123 Main St%';
----
Seq Scan on addresses  (cost=0.00..161309.76 rows=740 width=41)
  Filter: (address ~~ '123 Main St%'::text)
</code></pre>

<p>I tried creating a few types of <code>gin</code> indexes but they either had no effect or made the query slower. I'm not sure if I was using them correctly though.</p>

<p>Any ideas on how to create an index that's optimized for this kind of query?</p>

<hr>

<p>EDIT</p>

<p>The best solution found so far is to use a text range scan:</p>

<pre><code>SELECT *
FROM addresses
WHERE address &gt;= '123 Main St' AND
      address &lt;= concat('123 Main St', 'z');
</code></pre>
","4409950","","696441","","2018-03-06 17:11:31","2018-03-06 17:11:31","Optimal Postgres text index for LIKE query?","<sql><postgresql><indexing><sql-like><gin>","2","4","","","","35880985","2253","2253","gin","315","5802757","5802756"
"36595157","1","","","2016-04-13 10:08:13","","0","903","<p>I am using Postgres 9.4, JSONB fields, those are working good.
But when I add GIN index doctrine migration fails to created index.</p>

<pre><code>class Version20160314132147_Gin_Indexes_content   extends AbstractMigration {

public function up(Schema $schema) {
    $this-&gt;addSql('CREATE INDEX contents_properties_ix ON contents USING gin (properties);');
}

/**
 * @param Schema $schema
 */
public function down(Schema $schema) {
    $this-&gt;addSql('DROP INDEX contents_properties_ix;');
}
}
</code></pre>

<p>Error:
[Doctrine\DBAL\Driver\PDOException]
  SQLSTATE[42704]: Undefined object: 7 ERROR:  data type json has no default operator class for access method ""gin""
  HINT:  You must specify an operator class for the index or define a default operator class for the data type.</p>

<p>Composer.json
    {
        ""slim/slim"": ""~2.6"",
        ""doctrine/orm"": ""~2.5"",
        ""doctrine/dbal"": ""2.5"",
        ""symfony/yaml"": ""2.8.<em>@dev"",
        ""doctrine/cache"": ""~1.5@dev"",
        ""symfony/console"": ""2.8.</em>@dev"",
        ""symfony/class-loader"": ""^2.7.4"",
        ""doctrine/migrations"": ""~1.0"",
        ""predis/predis"": ""~1.0.1"",
        ""guzzlehttp/guzzle"": ""~5.0"",
        ""twig/twig"": ""~1.0"",
        ""php-di/php-di"": ""^5.1.0"",
        ""monolog/monolog"": ""~1.15@dev"",
        ""boldtrn/jsonb-bundle"": ""~1.0"",
        ""opsway/doctrine-dbal-postgresql"": ""~0.1"",
        ""fzaninotto/faker"": ""~1.3.0"",
        ""aws/aws-sdk-php"": ""^3.9""
    }</p>
","1986480","","330315","","2016-04-13 10:12:51","2016-05-19 22:06:07","Postgres 9.4 Add INDEX USING GIN","<indexing><doctrine><postgresql-9.4><gin>","1","0","","","","36595157","2253","2253","gin","315","5802757","5802756"
"36747713","1","36757446","","2016-04-20 14:56:58","","0","546","<p>I already used Gin assisted injection a few times but I'm new to gwtp and I'm facing an error message I don't understand while trying to instantiate a PresenterWidget using my factory, even after reading several posts on the subject...</p>

<pre><code>[ERROR] Error injecting @com.google.inject.assistedinject.Assisted(value=) java.lang.Integer: 
Unable to create or inherit binding: 
Binding requested for constant key '@com.google.inject.assistedinject.Assisted(value=) java.lang.Integer' but no explicit binding was found; 
Path to required node:
org.moshika.dtp.client.application.book.page.PagePresenter [com.gwtplatform.mvp.client.gin.AbstractPresenterModule.bindPresenterWidget(AbstractPresenterModule.java:260)]
</code></pre>

<p><strong>Context</strong> : I have to display the content of a book on the screen. For the moment I use a BookPresenter with proxy and place and I will try to bind / unbind pages on the fly as PresenterWidget. I don't think my pages could be implemented as CellWidget because I will implement lots of DTP / WYSIWYG functionalities.</p>

<p><strong>My Module :</strong></p>

<pre><code>public class CommonModule extends AbstractGinModule {

@Override
protected void configure() {
    // DefaultPlaceManager Places
    install(new DefaultModule.Builder().defaultPlace(NameTokens.SEARCH).errorPlace(NameTokens.ERROR).unauthorizedPlace(NameTokens.ERROR).build());

    install(new GinFactoryModuleBuilder().build(PagePresenter.Factory.class));

    RestDispatchAsyncModule.Builder dispatchBuilder = new RestDispatchAsyncModule.Builder();
    install(dispatchBuilder.build());

    bindConstant().annotatedWith(RestApplicationPath.class).to(""rest"");

    bind(ResourceLoader.class).asEagerSingleton();

    bindPresenter(BookPresenter.class, BookPresenter.MyView.class, BookViewTablet.class, BookPresenter.MyProxy.class);

    bindPresenterWidget(PagePresenter.class, PagePresenter.MyView.class, PageViewTablet.class);

}
</code></pre>

<p><strong>BookPresenter :</strong></p>

<pre><code>public class BookPresenter extends Presenter&lt;BookPresenter.MyView, BookPresenter.MyProxy&gt;
    implements BookUiHandlers {

    public interface MyView extends View, HasUiHandlers&lt;BookUiHandlers&gt; {
    }

    @ProxyStandard
    @NameToken(NameTokens.BOOK)
    public interface MyProxy extends ProxyPlace&lt;BookPresenter&gt; {
    }

    static final Slot&lt;PagePresenter&gt; SLOT_BOOK = new Slot&lt;PagePresenter&gt;();

    private ResourceDelegate&lt;PageResources&gt; pageDelegate;

    private PagePresenter.Factory factory;

    @Inject
    BookPresenter(EventBus eventBus,
        MyView view, MyProxy proxy,
        ResourceDelegate&lt;PageResources&gt; pageDelegate,
        PagePresenter.Factory factory) {
        super(eventBus, view, proxy, ApplicationPresenter.SLOT_MAIN);

        view.setUiHandlers(this);
        this.pageDelegate= pageDelegate;
        this.factory= factory;
    }

    @Override
    protected void onReveal() {
        super.onReveal();
        NavigationVisibilityEvent.fire(this, true);
        fetchPages(0, 5);
    }

    @Override
    public void fetchPages(final int offset, int limit) {
        pageDelegate.withCallback(new AsyncCallback&lt;List&lt;PageDto&gt;&gt;() {

            @Override
            public void onFailure(Throwable caught) {
                // TODO Auto-generated method stub
            }

            @Override
            public void onSuccess(List&lt;PageDto&gt; dtos) {
                clearSlot(SLOT_BOOK);
                for (PageDto dto : dtos) {
                    PagePresenter pagePresenter = factory.create(dto.getFolioPage());
                    addToSlot(SLOT_DEROULE, pagePresenter);
                    pagePresenter.refreshModel();
                }
            }
        }).list(offset, limit);
    }
}
</code></pre>

<p><strong>PagePresenter and Factory :</strong></p>

<pre><code>public class PagePresenter extends PresenterWidget&lt;PagePresenter .MyView&gt;
    implements PageUiHandlers {

    public interface MyView extends View {
        void setFolio(Integer folio);
    }

    public interface Factory {
        CahierPageJourPresenter create(Integer folio);
    }

    private ResourceDelegate&lt;PageResources&gt; pageDelegate;

    private Integer folioPage;

    @Inject
    PagePresenter(EventBus eventBus, MyView view,
        ResourceDelegate&lt;PageResources&gt; pageDelegate,
        @Assisted Integer folio) {
        super(eventBus, view);
        this.pageDelegate= pageDelegate;
        this.folio= folio;
}

    public void refreshModel() {
        pageDelegate.withCallback(new AsyncCallback&lt;PageDto&gt;() {

            @Override
            public void onFailure(Throwable caught) {
                // TODO Auto-generated method stub
            }

            @Override
            public void onSuccess(PageDtodto) {
                getView().setFolio(dto.getFolio());
            }
        }).get(folio);
    }
}
</code></pre>

<p>It might be a very stupid mistake since I don't see what I'm doing different from all the other posts on the same subject...</p>
","4801950","","4801950","","2016-04-20 15:51:32","2016-04-21 00:18:29","Assisted injection error while trying to create presenter","<java><gwt><gwtp><gwt-platform><gin>","1","0","","","","36747713","2253","2253","gin","315","5802757","5802756"
"38176290","1","44639090","","2016-07-04 02:48:12","","0","2122","<p>I use goget to install goose for database migration following <a href=""https://github.com/pressly/goose"" rel=""nofollow"">https://github.com/pressly/goose</a>. But when i use <code>goose create SomeThing</code> it not working,and i dont now why. 
Please help me!</p>

<p>I have created successfully. I go get following url <a href=""https://bitbucket.org/liamstask/goose/"" rel=""nofollow"">https://bitbucket.org/liamstask/goose/</a> . and it worked.</p>
","4401682","","4401682","","2016-07-04 03:33:44","2017-06-19 20:09:47","How to create new goose database migration (golang)","<go><gin><goose>","1","0","","","","38176290","2253","2253","gin","315","5802757","5802756"
"39467165","1","39468636","","2016-09-13 09:57:02","","0","40","<p>i have a problem with gin library. I don't understand how to include it in project. The project is very simple.(I made it for understanding gin, but still don't get it. This project should use gin library)</p>

<p>We have first page with button and checkbox. If value of checkbox - true we can push our button, that allows add new buttons on second page. Can you guys help me complete this example? I add a root package which contains RootView, IRootView and RootPresenter. RootView have to contains Page1 and Page2.   What should i add in RootPresenter? Which widget should contains both pages in RootView? How i will inject Page1 and Page2 into RootView ? </p>

<p>Can anyone help me with any suggestion? Better if you'll help with some code, that will help me alot with understanding gin. </p>

<p><a href=""http://i.stack.imgur.com/GMFnB.png"" rel=""nofollow"">Project structure</a></p>

<p>interface of Page1</p>

<pre><code>public interface IPage1View extends IsWidget {
    public Button getAddButton();
    public CheckBox getCheckBox();

    public interface IPage1Presenter{}
}
</code></pre>

<p>presenter for Page1</p>

<pre><code>    @Presenter(view = Page1View.class)
public class Page1Presenter extends BasePresenter&lt;IPage1View, AppEventBus&gt; implements IPage1View.IPage1Presenter{
    @Override
    public void bind() {
        view.getCheckBox().setValue(true);
        view.getAddButton().addClickHandler(new ClickHandler() {
            @Override
            public void onClick(ClickEvent clickEvent) {
                eventBus.addNewButton();
            }
        });
        view.getCheckBox().addValueChangeHandler(new ValueChangeHandler&lt;Boolean&gt;() {
            @Override
            public void onValueChange(ValueChangeEvent&lt;Boolean&gt; event) {
                if(event.getValue()){
                    eventBus.enableMOM();
                }
                else {
                    eventBus.disableMOM();
                }
            }
        });
    }

    public void onStart(){
        RootPanel.get(""page1"").add(view);
    }

    public void onEnableMOM(){
        view.getAddButton().setEnabled(true);
    }
    public void onDisabledMOM(){
        view.getAddButton().setEnabled(false);
    }}
</code></pre>

<p>Page1View</p>

<pre><code>public class Page1View extends ReverseCompositeView&lt;IPage1View.IPage1Presenter&gt; implements IPage1View{

    private Button addButton;
    private CheckBox checkBox;

    Page1View(){
        SimplePanel mainPanel = new SimplePanel();
        DecoratorPanel backgroundPanel = new DecoratorPanel();
        addButton = new Button(""Add new button"");
        checkBox = new CheckBox(""Enable adding new buttons"");
        VerticalPanel content = new VerticalPanel();
        content.setSize(""400px"",""400px"");
        content.setHorizontalAlignment(HasHorizontalAlignment.ALIGN_CENTER);
        content.add(addButton);
        content.add(checkBox);
        backgroundPanel.add(content);
        mainPanel.add(backgroundPanel);
    }

    @Override
    public Button getAddButton() {
        return addButton;
    }

    @Override
    public CheckBox getCheckBox() {
        return checkBox;
    }
}
</code></pre>

<p>Almost same thing with Page2. For saveing place i dont post it.</p>

<p>EventBus</p>

<pre><code>@Events(startView = Page1.class)
public interface AppEventBus extends EventBus {

    @Start
    @Event(handlers = {Page1Presenter.class, Page2Presenter.class, Page3Presenter.class, Page4Presenter.class})
    public void start();

    @Event(handlers = {Page1Presenter.class}, activate = Page2Presenter.class)
    public void enableMOM();

    @Event(handlers = {Page1Presenter.class}, deactivate = Page2Presenter.class)
    public void disableMOM();

    @Event(handlers = Page2Presenter.class)
    public void addNewButton();

    @Event(handlers = Page2Presenter.class)
    public void deleteSomeButton(Button killerButton);

    @Event(handlers = Page3Presenter.class)
    public void getData();

    @Event(handlers = Page4Presenter.class)
    public void addNewPoint();
}
</code></pre>

<p>And root package elements have same structure with Page1, but they empty. I dont know what code should contain they.</p>

<p>Can anyone with experience of using gin + mvp4g help me ? </p>

<p>Updt:
I am trying to do this by myself, but still there a errors.(
What i did:</p>

<pre><code>public interface IRootView extends IsWidget{
    interface IRootPresenter{}
}
</code></pre>

<p>I made RooView with UIBinder.</p>

<pre><code>&lt;ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
             xmlns:g='urn:import:com.google.gwt.user.client.ui'&gt;
    &lt;g:HTMLPanel&gt;
        &lt;g:SimplePanel ui:field=""page1""&gt;

        &lt;/g:SimplePanel&gt;
        &lt;g:SimplePanel ui:field=""page2""&gt;

        &lt;/g:SimplePanel&gt;
    &lt;/g:HTMLPanel&gt;
&lt;/ui:UiBinder&gt;
</code></pre>

<p>These panels should contain ours page1 and page2(how i imagine).
But when i am trying to inject them - i have a errors with types.</p>

<pre><code>public class RootView extends ReverseCompositeView&lt;IRootView.IRootPresenter&gt; 

    implements IRootView {

        @UiField
        SimplePanel page1, page2;

        @Inject
        public RootView(Page1View page1, Page2View page2){
            //how to add them ?
        }

        interface RootViewUiBinder extends UiBinder&lt;Widget, RootView&gt; {
        }

        private static RootViewUiBinder ourUiBinder = GWT.create(RootViewUiBinder.class);

        public RootView() {
            initWidget(ourUiBinder.createAndBindUi(this));
        }
    }
</code></pre>

<p>RootPresenter</p>

<pre><code> @Presenter(view = RootView.class)
    public class RootPresenter extends BasePresenter&lt;IRootView, AppEventBus&gt; implements IRootView.IRootPresenter{
        public void onStart(){

        }
    }
</code></pre>
","6812826","","6812826","","2016-09-13 11:06:04","2016-09-13 11:13:58","Adding inject section in project","<java><gwt><gin><mvp4g>","1","0","","","","39467165","2253","2253","gin","315","5802757","5802756"
"40006458","1","","","2016-10-12 19:04:49","","0","118","<p>Im using Rails 4.2.7 and PostGres 9.5.  Im trying to create a trqm index on my table (to facilitate LIKE searches) so I created this migration</p>

<pre><code>class AddTrqmIndexOnRaceTimes &lt; ActiveRecord::Migration
  def change
    CREATE INDEX my_object_times_name_gin_trgm_idx ON my_object_times USING gin (name gin_trgm_ops);
  end
end
</code></pre>

<p>This results in the below error when I run rake db:migrate </p>

<pre><code>StandardError: An error has occurred, this and all later migrations canceled:

undefined local variable or method `gin_trgm_ops' for #&lt;AddTrqmIndexOnRaceTimes:0x007fdc34b40600&gt;
/Users/mikeb/.rvm/gems/ruby-2.3.0/gems/activerecord-4.2.7.1/lib/active_record/migration.rb:664:in `block in method_missing'
/Users/mikeb/.rvm/gems/ruby-2.3.0/gems/activerecord-4.2.7.1/lib/active_record/migration.rb:634:in `block in say_with_time'
/Users/mikeb/.rvm/gems/ruby-2.3.0/gems/activerecord-4.2.7.1/lib/active_record/migration.rb:634:in `say_with_time'
/Users/mikeb/.rvm/gems/ruby-2.3.0/gems/activerecord-4.2.7.1/lib/active_record/migration.rb:654:in `method_missing'
/Users/mikeb/Documents/workspace/runtrax/db/migrate/20161012185951_add_trqm_index_on_my_object_times.rb:3:in `change'
/Users/mikeb/.rvm/gems/ruby-2.3.0/gems/activerecord-4.2.7.1/lib/active_record/migration.rb:608:in `exec_migration'
/Users/mikeb/.rvm/gems/ruby-2.3.0/gems/activerecord-4.2.7.1/lib/active_record/migration.rb:592:in `block (2 levels) in migrate'
/Users/mikeb/.rvm/gems/ruby-2.3.0/gems/activerecord-4.2.7.1/lib/active_record/migration.rb:591:in `block in migrate'
/Users/mikeb/.rvm/gems/ruby-2.3.0/gems/activerecord-4.2.7.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:292:in `with_connection'
/Users/mikeb/.rvm/gems/ruby-2.3.0/gems/activerecord-4.2.7.1/lib/active_record/migration.rb:590:in `migrate'
</code></pre>

<p>Whats the right way to create this index in a Rails migration?</p>
","","user6447029","","","","2016-10-13 09:46:55","How do I create this specific PostGres index in a Rails migration?","<ruby-on-rails><postgresql><indexing><migration><gin>","1","0","","","","40006458","2253","2253","gin","315","5802757","5802756"
"40409997","1","40438799","","2016-11-03 19:45:44","","3","937","<p>On <a href=""https://www.postgresql.org/docs/current/static/pgtrgm.html"" rel=""nofollow noreferrer"">https://www.postgresql.org/docs/current/static/pgtrgm.html</a> it is explained how special GIN idexes with gin_trgm_ops option can be used to facilitate trigram similarity operator performance. </p>

<pre><code>CREATE INDEX trgm_idx ON test_trgm USING GIN (t gin_trgm_ops);
</code></pre>

<p>It is also said: </p>

<blockquote>
  <p>These indexes do not support equality nor simple comparison operators,
  so you may need a regular B-tree index too.</p>
</blockquote>

<p>However, there is also BTREE_GIN extension which should allow GIN indexes to be used as substitute for BTREE indexes. <a href=""https://www.postgresql.org/docs/current/static/btree-gin.html"" rel=""nofollow noreferrer"">https://www.postgresql.org/docs/current/static/btree-gin.html</a></p>

<p>My question is: If I install BTREE_GIN extension, could pg_trgm GIN index (with gin_trgm_ops option) be used as substitute for BTREE index? Does it combine properties of both BTREE_GIN and trigram GIN index, or additional BTREE index is still needed for joining and equality expressions etc.?</p>
","5752330","","","","","2016-11-05 13:30:31","Postgresql BTREE_GIN index with gin_trgm_ops option?","<postgresql><b-tree><postgresql-performance><gin><trigram>","1","0","1","","","40409997","2253","2253","gin","315","5802757","5802756"
"40570087","1","40573542","","2016-11-13 02:54:19","","3","369","<p>I've created a table like this,</p>

<pre><code>create table mytable(hash char(40), title varchar(500));
create index name_fts on mytable using gin(to_tsvector('english', 'title'));
CREATE UNIQUE INDEX md5_uniq_idx ON mytable(hash);
</code></pre>

<p>When I query the title,</p>

<pre><code>test=# explain analyze select * from mytable where to_tsvector('english', title) @@ 'abc | def'::tsquery limit 10;
                                                     QUERY PLAN
--------------------------------------------------------------------------------------------------------------------
 Limit  (cost=0.00..277.35 rows=10 width=83) (actual time=0.111..75.549 rows=10 loops=1)
   -&gt;  Seq Scan on mytable  (cost=0.00..381187.45 rows=13744 width=83) (actual time=0.110..75.546 rows=10 loops=1)
         Filter: (to_tsvector('english'::regconfig, (title)::text) @@ '''abc'' | ''def'''::tsquery)
         Rows Removed by Filter: 10221
 Planning time: 0.176 ms
 Execution time: 75.564 ms
(6 rows)
</code></pre>

<p>The index is not used. Any ideas? I have 10m rows.</p>
","614944","","","","","2016-11-13 11:56:46","What's wrong with GIN index, can't avoid SEQ scan?","<postgresql><full-text-search><gin>","1","5","","","","40570087","2253","2253","gin","315","5802757","5802756"
"40787827","1","","","2016-11-24 13:35:47","","0","42","<p>I'm trying to get the response from a REST service from my GWTP presenter. My securityDelegate trigger onSuccess method but the UserDTO seems to be empty. The network tool show me the request with HTTP code 200 and the response with current user. For some reason the UserDTO seems to be empty.</p>

<p>The LOGGER show me</p>

<p>CLASS:xx.xxxx.xxx.web.shared.dto.UserDTO@1f</p>

<p>Name:undefined</p>

<pre><code>    //LoginPresenter.java
    securityDelegate.withCallback(new AsyncCallback&lt;UserDTO&gt;() {
        @Override
        public void onFailure(Throwable throwable) {
            Window.alert(""fail"");
        }

        @Override
        public void onSuccess(UserDTO user) {
            LOGGER.info(""CLASS:""+user.toString());
            LOGGER.info(""Name:""+user.getName());
        }
    }).authenticate(username,password);

    //SecurityResource.java
    @Path(""/security"")
    @Produces (MediaType.APPLICATION_JSON)
    @Consumes (MediaType.APPLICATION_JSON)
    public interface SecurityResource {

        @POST
        @Path (""/authenticate"")
        RestAction&lt;UserDTO&gt; authenticate(@HeaderParam (""username"") String username,@HeaderParam(""password"") String password);
    }

    //SecurityResourceImpl.java
    @Path (""/security"")
    @Produces(MediaType.APPLICATION_JSON)
    @Consumes (MediaType.APPLICATION_JSON)
    public class SecurityResourceImpl {

        @EJB
        private SecurityBean securityBean;

        @POST
        @Path(""/authenticate"")
        @Override
        public Response authenticate(@HeaderParam (""username"")
    String username, @HeaderParam(""password"") String password){

        User currentUser = securityBean.find(username,password);
        return Response.ok().entity(new UserDTO(currentUser)).build();
      }
}

    //UserDTO.java
    public class UserDTO implements Serializable {

        private String name;

        public UserDTO(){
        }

        public UserDTO(User user){...}
        //getters/setters
    }
</code></pre>
","1350112","","","","","2016-11-24 15:29:25","GWTP ResourceDelegate response undefined","<gwt><gwtp><gin>","1","0","","","","40787827","2253","2253","gin","315","5802757","5802756"
"41209598","1","41214187","","2016-12-18 14:56:54","","0","60","<p>I have a shared GWT widget ""HeaderView"" which is a header for all views. I instantiate it through GIN via -</p>

<p><code>bind(HeaderView.class).asEagerSingleton();</code></p>

<p>I can then inject into my views like so -</p>

<pre><code>@Inject
public DashboardViewImpl(HeaderView headerView) {
    this.headerView = headerView;
    initWidget(dashboardViewUiBinder.createAndBindUi(this));
}
</code></pre>

<p>This works fine for the first time a view is displayed. However, if I change places and then go back to a view that has already been displayed once the ""HeaderView"" is no longer visible. Inspecting the HTML shows that it is no longer attached to the DOM.</p>

<p>My views are bound as singletons -</p>

<p><code>bind(DashboardView.class).to(DashboardViewImpl.class).in(Singleton.class);</code></p>

<p>I am assuming that the HeaderView is being removed from the DOM after loading the next page due to widgets only being allowed to have a single parent.</p>

<p>Is there a correct way to share a widget between all views in a GWT application?</p>
","2414811","","","","","2016-12-18 23:59:39","GWT singleton widget being removed from DOM after injection","<java><dom><gwt><uibinder><gin>","1","0","","","","41209598","2253","2253","gin","315","5802757","5802756"
"41650563","1","","","2017-01-14 13:31:43","","2","174","<p>I'm try to create GIN for fast similarity search on bitsrings on postgres 9.6.</p>

<p>I use tanimoto/jaccard similarity metric:</p>

<p><code>tanimoto = popcount(bs1 &amp; bs2)/popcount(bs1 | bs2)</code></p>

<p>where 0 - is totally not similar and 1 - is identical.</p>

<p><strong>update:</strong></p>

<p>popcount - is count of true bits. bs1, bs2 - bitstrings.</p>

<p>I use query like this:</p>

<p><code>SELECT bs, tanimoto(B'11100000', bs) as t FROM test WHERE bs % B'11100000'</code></p>

<p>on table:</p>

<pre><code> CREATE TABLE test (bs bit(8));
</code></pre>

<p>% operator is bool(tanimoto(bs, B'11100000') > treshold)</p>

<p>treshold configurable.</p>

<p>How can I enable GIN or how to implement operator_class if need?</p>

<p>I want to implement this <a href=""http://pubs.acs.org/doi/abs/10.1021/ci200552r"" rel=""nofollow noreferrer"">http://pubs.acs.org/doi/abs/10.1021/ci200552r</a> index</p>
","7418584","","7418584","","2017-01-15 09:18:31","2017-01-15 09:18:31","Postgres GIN on fixed length bit string","<postgresql><similarity><gin>","0","2","","","","41650563","2253","2253","gin","315","5802757","5802756"
"42710869","1","","","2017-03-10 05:24:20","","0","37","<p>If I have a class bound in gin which is singleton as:</p>

<pre><code>bind(SomeStore.class).in(Singleton.class);
</code></pre>

<p>While injecting this SomeStore class, it's instance always created new which is not supposed to be.</p>

<pre><code>public class SomeStore {

    private HashMap&lt;Integer, Serializable&gt;  testMap;

    public SomeStore() {
    }

    public void addValue(Integer hashkey, Serializable serializable) {
        if (testMap == null)
            testMap = new HashMap&lt;Integer, Serializable&gt;();
        testMap.put(hashkey, serializable);
    }

    public Serializable getValue(Integer hashkey) {
        return testMap.get(hashkey);
    }
}
</code></pre>

<p>Does it remains singleton throughout the browser's different tabs, and even when the UI is reloaded.
If not, what will be ideal solution to do so? What if I bound it in SessionScope?</p>
","6284007","","6284007","","2017-03-10 06:06:59","2017-03-10 06:06:59","Class bound in gin singleton module, on switching browser tabs, always gets initialized","<java><singleton><gin>","0","2","","","","42710869","2253","2253","gin","315","5802757","5802756"
"43220068","1","","","2017-04-05 00:51:11","","2","877","<p>'Sup,</p>

<p>We have a Postgres (9.6) table <code>myTable</code> with a row <code>data jsonb NOT NULL</code>:</p>

<pre><code>DROP TABLE myTable;
CREATE TABLE myTable (data jsonb NOT NULL);
</code></pre>

<p>We want to store object containing an array of email addresses:</p>

<pre><code>INSERT INTO myTable (data) VALUES ($${""email"": [{""address"": ""A""}, {""address"": ""B""}]}$$);
INSERT INTO myTable (data) VALUES ($${""email"": [{""address"": ""C""}]}$$);
</code></pre>

<p>We want to create a unique index on <code>address</code> to prevent insertion of row like:</p>

<pre><code>-- ""A"" NON UNIQUE, SHOULD FAIL
INSERT INTO myTable (data) VALUES ($${""email"": [{""address"": ""A""}]}$$);

-- ""C"" NON UNIQUE, SHOULD FAIL
INSERT INTO myTable (data) VALUES ($${""email"": [{""address"": ""C""}, {""address"": ""D""}]}$$);
</code></pre>

<p>We tried using:</p>

<pre><code>-- THROW: ""ERROR:  index expression cannot return a set""
CREATE UNIQUE INDEX my_index ON myTable(((jsonb_array_elements((data-&gt;&gt;'email')::jsonb)-&gt;&gt;'address')));
</code></pre>

<p>We are looking for a solution using indexes or constraints, without extra table nor views nor triggers is possible. Any comment or idea would be greatly appreciated.</p>

<p>Cheers,</p>
","5314938","","","","","2017-04-05 00:51:11","Postgres 9.6 - Create unique index for json array","<postgresql><jsonb><gin>","0","4","0","","","43220068","2253","2253","gin","315","5802757","5802756"
"43785086","1","","","2017-05-04 14:02:08","","0","759","<p>I'm using <code>Go</code> version <code>1.8.1</code> with <code>Gin</code> framework and my project structure like below</p>

<pre><code>|- src/
    |- views/
        |- category1/
              |- layout/
                  - header.html
                  - footer.html
              - index.html
        |- category2/
              |- layout/
                  - header.html
                  - footer.html
              - index.html
        |- category3/
              |- layout/
                  - header.html
                  - footer.html
              - index.html
</code></pre>

<p>in each of the <code>index.html</code> I have to include same level header and footer files from <code>layout</code> folder, to do that for <code>category1</code> folder <code>index.html</code> I wrote like below</p>

<pre><code>{{ template ""views/category1/layout/header.html"" .}}
&lt;body&gt;
    &lt;h1&gt;Category 1&lt;/h1&gt;
&lt;/body&gt;
{{ template ""views/category1/layout/footer.html"" .}}
</code></pre>

<p>and in <code>Gin</code> I loaded all files using </p>

<pre><code>router.LoadHTMLGlob(""views/*/*/*.html"")
</code></pre>

<p>but it is not working as I expected, it is giving following error</p>

<pre><code>html/template:index.html no such template ""views/category1/layout/header.html""
html/template:index.html no such template ""views/category1/layout/footer.html""
</code></pre>
","7846209","","","","","2017-05-04 14:02:08","Golang Gin framework importing HTML templates from sub sub directory","<go><gin>","0","2","","","","43785086","2253","2253","gin","315","5802757","5802756"
"44180847","1","44181236","","2017-05-25 12:40:17","","0","235","<p>In my Webservice, I have a model:</p>

<pre><code>// Comment struct
type Comment struct {
    Owner            UserObject      `json:""owner""`
    ID               int64           `json:""id""`
    Message          string          `json:""message""`
    Mentions         []MentionObject `json:""mentions,omitempty""`
    CreatedAt        int64           `json:""created_at,omitempty""`
    UpdatedAt        int64           `json:""updated_at,omitempty""`
    Status           int             `json:""status,omitempty""`
    CanEdit          bool            `json:""can_edit""`
    CanDelete        bool            `json:""can_delete""`
}


// UserObject struct
type UserObject struct {
    ID       int64  `json:""id""`
    Username string `json:""username""`
    FullName string `json:""full_name""`
    Avatar   string `json:""avatar""`
}

// MentionObject struct
type MentionObject struct {
    ID     int64 `json:""id""`
    Length int64 `json:""length""`
    Offset int64 `json:""offset""`
}
</code></pre>

<p>I have use gin gonic to routing</p>

<pre><code>routes.GET(""/user"", func(c *gin.Context) {
        c.JSON(200, Comment{})
    })
</code></pre>

<p>I need return all fields of this struct, I know that It going to response a json:</p>

<pre><code>{
  ""owner"": {
    ""id"": 0,
    ""username"": """",
    ""full_name"": """",
    ""avatar"": """"
  },
  ""id"": 0,
  ""message"": """",
  ""can_report"": false,
  ""can_edit"": false,
  ""can_delete"": false
}
</code></pre>

<p>I know that This is right, but I still want response all of field.
How to do that?</p>
","5699570","","","","","2017-05-25 13:18:20","How to response all field include field with tag omitempty in Golang?","<go><struct><gin>","1","0","","","","44180847","2253","2253","gin","315","5802757","5802756"
"45227703","1","45227818","","2017-07-21 01:45:33","","2","543","<p>My code works fine on my Computer but I get this compile time error on my server after I moved the code to the debian server: </p>

<pre><code>type *gin.Context has no field or method SaveUploadedFile
</code></pre>

<p>I use <a href=""https://github.com/gin-gonic/gin/blob/master/examples/upload-file/single/main.go"" rel=""nofollow noreferrer"">sample gin code</a> to save file:</p>

<pre><code>    if err := c.SaveUploadedFile(file, file.Filename); err != nil {
        c.String(http.StatusBadRequest, fmt.Sprintf(""upload file err: %s"", err.Error()))
        return
    }
</code></pre>

<p>I have upgraded go to 1.8.3 on the server (to be of the same version as go on my desktop) and updated gin afterwards, hoping to solve the issue. But it did not.</p>

<p>Here is my <code>go env</code>:</p>

<pre><code>root@s1:~# go env
GOARCH=""amd64""
GOBIN=""""
GOEXE=""""
GOHOSTARCH=""amd64""
GOHOSTOS=""linux""
GOOS=""linux""
GOPATH=""/srv/go""
GORACE=""""
GOROOT=""/usr/local/go""
GOTOOLDIR=""/usr/local/go/pkg/tool/linux_amd64""
GCCGO=""gccgo""
CC=""gcc""
GOGCCFLAGS=""-fPIC -m64 -pthread -fmessage-length=0""
CXX=""g++""
CGO_ENABLED=""1""
PKG_CONFIG=""pkg-config""
CGO_CFLAGS=""-g -O2""
CGO_CPPFLAGS=""""
CGO_CXXFLAGS=""-g -O2""
CGO_FFLAGS=""-g -O2""
CGO_LDFLAGS=""-g -O2""
</code></pre>

<p>I have also tried:</p>

<pre><code>rm -rf $GOPATH/pkg/*
</code></pre>

<p>I also tried  <code>go build -a</code> but get the same error.</p>

<p>So I'm left clueless and appreciate your hints to solve this issue.</p>
","5774375","","5774375","","2017-07-21 01:52:10","2017-07-21 02:00:22","type *gin.Context has no field or method SaveUploadedFile","<go><gin>","1","0","","","","45227703","2253","2253","gin","315","5802757","5802756"
"45229951","1","45239520","","2017-07-21 05:51:10","","0","493","<p>How can I test <code>func main</code>? Like this:</p>

<pre><code>func main(){
     Engine := GetEngine() // returns gin router with handlers atttached 
     Engine.Run("":8080"")
}
</code></pre>

<p>It has only 2 lines but I'd like to have them covered. 
<code>TestMain'</code> is reserved for test preparation, does that mean testing <code>main</code> was not planned by language creators?
I can move the contents to another function <code>mainReal</code> but it seems to be some over engineering?</p>

<p>How to test gin has started well? Can I launch <code>main</code> in separate goroutine, check reply and stop it?</p>

<p>Thanks. </p>

<p>P.S. Possible duplicate is not precise duplicate because it is dedicated not to testing of func <code>main()</code> itself, but rather ideas to move in outside and so contains different issue and approach.</p>
","5165332","","5165332","","2017-07-21 13:57:27","2017-07-21 13:57:27","How to test main function in gin application?","<testing><go><main><gin>","1","2","","","","45229951","2253","2253","gin","315","5802757","5802756"
"45628770","1","","","2017-08-11 06:53:45","","2","8116","<p>I learned from the gin doc that you can bind json to a struct like </p>

<pre><code>type Login struct {
    User     string `form:""user"" json:""user"" binding:""required""`
    Password string `form:""password"" json:""password"" binding:""required""`
}

func main() {
    router := gin.Default()

    // Example for binding JSON ({""user"": ""manu"", ""password"": ""123""})
    router.POST(""/loginJSON"", func(c *gin.Context) {
        var json Login
        if c.BindJSON(&amp;json) == nil {
            if json.User == ""manu"" &amp;&amp; json.Password == ""123"" {
                c.JSON(http.StatusOK, gin.H{""status"": ""you are logged in""})
            } else {
                c.JSON(http.StatusUnauthorized, gin.H{""status"": ""unauthorized""})
            }
        }
    })
}
</code></pre>

<p>You always have to build a struct to bind JSON.</p>

<p>But if there is a very complex JSON data, I only what to get part of it, to create a complex struct is a big burden. Can avoid id and parse it directly?</p>
","1928988","","8208215","","2017-08-11 10:03:51","2017-08-11 10:03:51","Golang/gin parse JSON from gin.Context","<json><parsing><go><gin>","1","0","","","","45628770","2253","2253","gin","315","5802757","5802756"
"45690659","1","45690754","","2017-08-15 10:02:19","","-1","680","<p>I've the following golang code:</p>

<pre><code>package main

import (
    ""github.com/gin-gonic/gin""
    ""gopkg.in/mgo.v2""
    ""gopkg.in/mgo.v2/bson""
    ""log""
    ""time""
)

func main() {
    router := gin.Default()
    router.POST(""/save-address"", SaveAddress)
    router.Run()
}

func SaveAddress(c *gin.Context){
    var err error
    conditions := bson.M{}
    c.Request.ParseForm()
    for key, _ := range c.Request.PostForm {
        if key != ""id""{
            conditions[key] = c.PostForm(key)
        }
    }
    conditions[""_id""] = 1
    mongoSession := ConnectDb()

    sessionCopy := mongoSession.Copy()
    defer sessionCopy.Close()

    getCollection := mongoSession.DB(""bformssettings"").C(""address"")
    err = getCollection.Insert(conditions)
    if err != nil{
        println(err)
    }else{
        println(""Data saved successfully!!!"")
    }
}
func ConnectDb() (mongoSession *mgo.Session) {
    mongoDBDialInfo := &amp;mgo.DialInfo{
        Addrs:    []string{""localhost:27017""},
        Timeout:  60 * time.Second,
        Database: ""bformssettings"",
    }

    mongoSession, err := mgo.DialWithInfo(mongoDBDialInfo)
    if err != nil {
        log.Fatalf(""CreateSession: %s\n"", err)
    }

    mongoSession.SetMode(mgo.Monotonic, true)

    return mongoSession
}
</code></pre>

<p>When I run the code, data of the following format will be saved in the database:</p>

<pre><code>{ ""_id"" : 1, ""customer_id"" : ""3"", ""address"" : ""Chicago, IL"", ""city"" : ""Chicago"", ""state"" : ""IL"", ""zipcode"" : ""60647"" }
</code></pre>

<p><strong>Problem:</strong></p>

<p><code>customer_id</code> is an integer value, <strong>but</strong> it will be saved as string in the database.</p>

<p><strong>Possible workaround:</strong></p>

<p>It is possible to reconvert the string representation of <code>id</code> back to integer before saving it in the database.</p>

<p><strong>Question:</strong></p>

<p>Is there another way to save data as it is? E.g. to save integer values as integer values?</p>
","4971613","","9818506","","2018-10-31 16:41:55","2018-10-31 16:41:55","What is the correct way to save post data (with integer and string values) in the database golang?","<go><mgo><gin>","1","4","","","","45690659","2253","2253","gin","315","5802757","5802756"
"46411173","1","","","2017-09-25 17:45:27","","4","8387","<p>I've just started learning Go.</p>

<p>I need to set gin mode to release mode. How should I do it?
Now when I run my API there is a hint like this:</p>

<pre><code>[GIN-debug] [WARNING] Running in ""debug"" mode. Switch to ""release"" mode in production.
 - using env:   export GIN_MODE=release
 - using code:  gin.SetMode(gin.ReleaseMode)
</code></pre>

<p>I tried gin.SetMode(gin.ReleaseMode) but it does not work. I initialize my router here:</p>

<pre><code>gin.SetMode(gin.releaseMode)    
router := gin.Default()
</code></pre>
","4849647","","9955790","","2018-06-21 12:06:13","2020-02-06 09:11:23","How to set gin mode to release mode?","<go><gin><go-gin>","5","0","1","","","46411173","2253","2253","gin","315","5802757","5802756"
"46569245","1","","","2017-10-04 15:56:58","","1","425","<p>I have a GIN <code>@Inject</code> invocation where I use the <code>optional=true</code> attribute, but it is simply not honored / not working (and an error is being thrown because my class is not bound, which is true).</p>

<p>I'm using GIN via <code>.gwt.xml</code> file like this:</p>

<p><code>&lt;extend-configuration-property name=""gin.ginjector.modules"" value=""com.example.client.ClientModule"" /&gt;</code></p>

<p>In the above example ClientModule extends <code>com.google.gwt.inject.client.AbstractGinModule</code>.</p>

<p>Then I have a class where I <code>requestStaticInjection</code> like this:
<code>requestStaticInjection(Example.class);</code></p>

<p>In <code>Example.java</code> I have:</p>

<pre><code>class Example {
        @com.google.inject.Inject(optional=true)
        protected static SomeUnboundInterface someUnboundInterface = null;
...
}
</code></pre>

<p>But I get an error during app startup like this:</p>

<pre><code>[INFO]             [ERROR] No binding found for com.example.SomeUnboundInterface in com.gwtplatform.mvp.client.DesktopGinjector
[INFO]    [ERROR] Errors in 'gen/com/gwtplatform/mvp/client/DesktopGinjectorProvider.java'
[INFO]       [ERROR] Line 8: Failed to resolve 'com.gwtplatform.mvp.client.DesktopGinjector' via deferred binding
</code></pre>

<p>Well, that's actually true; My SomeUnboundInterface is indeed not bound; however I was hoping that using the <code>optional=true</code> attribute would work. </p>

<p>Please note that the official documentation does not say that for GIN, this attribute is supported. However, <a href=""https://www.google.ro/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwi_z9rwqdfWAhVMI1AKHU2GDqsQFggnMAA&amp;url=https%3A%2F%2Fgithub.com%2Fgoogle%2Fguice%2Fwiki%2FInjections&amp;usg=AOvVaw3zacLCzeXWXTvesS_E3sgs"" rel=""nofollow noreferrer"">it does say so for GUICE</a>, so I was hoping it would work for GIN as well.</p>

<p>Do you know of any solution so that I don't get an error if a particular dependency is not bound?</p>

<p>Edit: Forgot to mention version. GWT 2.8.1; GIN 2.1; GWTP 1.6</p>
","895067","","","","","2017-10-05 09:17:07","Google GIN, GWT, and com.google.inject.Inject(optional=true) not working","<java><gwt><guice><gwtp><gin>","1","0","","","","46569245","2253","2253","gin","315","5802757","5802756"
"47085046","1","","","2017-11-02 21:38:20","","1","1510","<p>I am making a backend using go,
the backend should get the google calendar of the user who login in the site using google account.
I am using gin to do the routing and sessions from this package github.com/gin-gonic/contrib/sessions</p>

<p>this is my main method</p>

<pre><code>func main() {
    router := gin.Default()
    var store = sessions.NewCookieStore([]byte(""secret""))
    router.Use(sessions.Sessions(""goquestsession"", store))

    router.GET(""/"", indexHandler)
    router.GET(""/login"", loginHandler)
    router.GET(""/auth"", authHandler)

    router.Run(""127.0.0.1:9090"")
}
</code></pre>

<p>login handler makes a new session for the user with random ID and send it to the user</p>

<pre><code>func loginHandler(c *gin.Context) {
    state = randToken()
    session := sessions.Default(c)
    session.Set(""state"", state)
    session.Save()

    c.Writer.Write([]byte(""&lt;html&gt;&lt;title&gt;Golang Google&lt;/title&gt; &lt;body&gt; &lt;a href='"" + getLoginURL(state) + ""'&gt;&lt;button&gt;Login with Google!&lt;/button&gt; &lt;/a&gt; &lt;/body&gt;&lt;/html&gt;""))
}
</code></pre>

<p>then I am using the auth handler to test the code and the state and get the calendar </p>

<pre><code>func authHandler(c *gin.Context) {
    // Handle the exchange code to initiate a transport.
    session := sessions.Default(c)

    retrievedState := session.Get(""state"")
    queryState := c.Request.URL.Query().Get(""state"")
    if retrievedState != queryState {
        c.AbortWithError(http.StatusUnauthorized, fmt.Errorf(""Invalid session state: %s"", retrievedState))
        return
    }
    code := c.Request.URL.Query().Get(""code"")
    tok, err := conf.Exchange(oauth2.NoContext, code)
    if err != nil {
        c.AbortWithError(http.StatusBadRequest, err)
        return
    }

    client := conf.Client(oauth2.NoContext, tok)
    calendarService, _ := calendar.New(client)
    list, err := calendarService.CalendarList.List().Do()
    if err != nil {
        fmt.Println(""error"")
    }
    log.Println(list.Items[0].Summary)
    c.Status(http.StatusOK)
}
</code></pre>

<p>after writing the code I find out that the link of is like this </p>

<pre><code>http://127.0.0.1:9090/auth?state=BuQ8DyhTEgivb6CatcTzJg8sk2Nb6EUStRkdgGVvDRE%3D&amp;code=4/Qit73p0btO0RRM93_YmjlP0Ex2dqDLsP3JVdrnhNE7Y#
</code></pre>

<p>now after looking in the package github.com/gin-gonic/contrib/sessions I didn't find a way to just be like this <a href=""http://127.0.0.1:9090/auth"" rel=""nofollow noreferrer"">http://127.0.0.1:9090/auth</a> and save the rest of the link somewhere else 
do I have to keep using URL like this if I am using Gin or there is some other way to make my link look cleaner</p>
","6500168","","965900","","2017-11-03 00:07:14","2020-04-16 18:56:04","Gin Sessions Stores the status and the code in the URL , I want to change that to make my URL cleaner","<session><authentication><go><oauth-2.0><gin>","2","0","","","","47085046","2253","2253","gin","315","5802757","5802756"
"47377947","1","47699666","","2017-11-19 14:27:11","","6","2073","<p>I need some help with building proper query in a django view for full-text search using GIN index. I have quite a big database (~400k lines) and need to do a full-text search on 3 fields from it. Tried to use <a href=""https://docs.djangoproject.com/en/1.11/ref/contrib/postgres/search/"" rel=""nofollow noreferrer"">django docs search</a> and this is code BEFORE GIN. It works, but takes 6+ seconds to search over all fields. Next I tried to implement a <a href=""https://docs.djangoproject.com/en/1.11/ref/contrib/postgres/indexes/"" rel=""nofollow noreferrer"">GIN</a> index to speed up my search. There are a lot of questions already how to build it. But my question is - <strong>how does the view query change when using a GIN index for search?</strong> What fields should I search?
<br>
<br>
 <strong>Before GIN:</strong><br>
<br><em>models.py</em></p>

<pre><code>class Product(TimeStampedModel):
    product_id = models.AutoField(primary_key=True, )
    shop = models.ForeignKey('Shop', to_field='shop_name')
    brand = models.ForeignKey('Brand', to_field='brand_name')
    title = models.TextField(blank=False, null=False)
    description = models.TextField(blank=True, null=True)
</code></pre>

<p><em>views.py</em><br></p>

<pre><code>def get_cosmetic(request):
if request.method == ""GET"":
    pass
else:
    search_words = request.POST.get('search')
    search_vectors = SearchVector('title', weight='B')+ SearchVector('description', weight='C') + SearchVector('brand__brand_name', weight='A')

    products = Product.objects.annotate(search = search_vectors, rank=SearchRank(search_vectors, search))\
        .filter(search=search_words ).order_by('-rank')

    return render(request, 'example.html', {""products"": products})
</code></pre>

<p><strong>After GIN:</strong>
<br><em>models.py</em></p>

<pre><code>class ProductManager(models.Manager):
def with_documents(self):
    vector = pg_search.SearchVector('brand__brand_name', weight='A') +\
            pg_search.SearchVector('title', weight='A')+\
            pg_search.SearchVector('description', weight='C')
    return self.get_queryset().annotate(document=vector)


class Product(TimeStampedModel):
    product_id = models.AutoField(primary_key=True, )
    shop = models.ForeignKey('Shop', to_field='shop_name')
    brand = models.ForeignKey('Brand', to_field='brand_name')
    title = models.TextField(blank=False, null=False)
    description = models.TextField(blank=True, null=True)

    search_vector = pg_search.SearchVectorField(null=True)

    objects = ProductManager()

    class Meta:
        indexes = [
            indexes.GinIndex(fields=['search_vector'], name='title_index')
        ]

    #update search_vector every time the entry updates
    def save(self, *args, **kwargs):
        super().save(*args, **kwargs)
        if 'update_fields' not in kwargs or 'search_vector' not in kwargs['update_fields']:
            instance = self._meta.default_manager.with_documents().get(pk=self.pk)
            instance.search_vector = instance.document
            instance.save(update_fields=['search_vector'])
</code></pre>

<p><em>views.py</em><br></p>

<pre><code>def get_cosmetic(request):
if request.method == ""GET"":
    pass

else:
    search_words = request.POST.get('search')    
    products = ?????????
    return render(request, 'example.html', {""products"": products})
</code></pre>
","8495108","","8495108","","2019-09-16 10:15:18","2019-09-16 10:15:18","Use of full-text search + GIN in a view (Django 1.11 )","<postgresql><django-models><django-views><django-queryset><gin>","1","4","3","","","47377947","2253","2253","gin","315","5802757","5802756"
"47990026","1","47991225","","2017-12-27 09:59:13","","0","1072","<p>My API server has middle ware which is getting token from request header.
If it access is correct, its go next function.</p>

<p>But request went to middle ware and went to next function, <code>c.Request.Body</code> become <code>0</code>.</p>

<p><strong>middle ware</strong></p>

<pre><code>func getUserIdFromBody(c *gin.Context) (int) {
    var jsonBody User

    length, _ := strconv.Atoi(c.Request.Header.Get(""Content-Length""))
    body := make([]byte, length)
    length, _ = c.Request.Body.Read(body)
    json.Unmarshal(body[:length], &amp;jsonBody)

    return jsonBody.Id
}

func CheckToken() (gin.HandlerFunc) {
    return func(c *gin.Context) {
        var userId int

        config := model.NewConfig()

        reqToken := c.Request.Header.Get(""token"")

        _, resBool := c.GetQuery(""user_id"")
        if resBool == false {
            userId = getUserIdFromBody(c)
        } else {
            userIdStr := c.Query(""user_id"")
            userId, _ = strconv.Atoi(userIdStr)
        }
    ...
        if ok {
            c.Nex()
            return
        }
}
</code></pre>

<p><strong>next func</strong></p>

<pre><code>func bindOneDay(c *gin.Context) (model.Oneday, error) {
    var oneday model.Oneday

    if err := c.BindJSON(&amp;oneday); err != nil {
        return oneday, err
    }
    return oneday, nil
}
</code></pre>

<p><code>bindOneDay</code> return error with <code>EOF</code>. because maybe <code>c.Request.Body</code> is <code>0</code>.</p>

<p>I want to get <code>user_id</code> from request body in middle ware.
How to do it without problem that <code>c.Request.Body</code> become 0</p>
","6433808","","13860","","2017-12-27 10:31:06","2017-12-27 11:29:34","Gin If `request body` bound in middleware, c.Request.Body become 0","<go><middleware><gin>","1","4","1","","","47990026","2253","2253","gin","315","5802757","5802756"
"48033176","1","48033261","","2017-12-30 10:46:21","","-1","620","<p>Im am getting http 422 response somehow:
Status Code:422 Unprocessable Entity </p>

<p>console message of  fmt.Println(c)  is: </p>

<p>&amp;{{0xc04227c1c0 -1 200} 0xc0421b2100 0xc042086d10 [] [0x8fdc00 0x8fe950 0x97e310 0x97cf80] 3 0xc0421ea5a0 map[]  []}</p>

<p>map should be filled myEmail and myPassword but it doesnt.Please Help me out.</p>

<p>Is there something wrong with the body or is it something related to web api?</p>

<p>Here is my http request:</p>

<pre><code>this.http.post('http://localhost:8080/api/v1/users', {'email': 'myEmail', 'password': 'myPassword'}, httpOptions)
          .subscribe(data =&gt; {
          console.log('register___', data);
      });
</code></pre>

<p>Here is the httpOptions:</p>

<pre><code>const httpOptions = {
    headers: new HttpHeaders({ 'Content-Type': 'application/json'
        , 'Access-Control-Allow-Origin': '*'
        , 'Access-Control-Allow-Headers': 'access-control-allow-origin, access-control-allow-headers'})
};
</code></pre>

<p>Here is the go web Api I'm using:</p>

<pre><code>package main

import (
    ""fmt""

    ""github.com/gin-gonic/gin""
    ""github.com/jinzhu/gorm""
    _ ""github.com/mattn/go-sqlite3""
)

type Users struct {
    email string `gorm:""not null"" form:""email"" json:""email""`
    password  string `gorm:""not null"" form:""password"" json:""password""`
}

func InitDb() *gorm.DB {
    // Openning file
    db, err := gorm.Open(""sqlite3"", ""./data.db"")
    // Display SQL queries
    db.LogMode(true)

    // Error
    if err != nil {
        panic(err)
    }
    // Creating the table
    if !db.HasTable(&amp;Users{}) {
        db.CreateTable(&amp;Users{})
        db.Set(""gorm:table_options"", ""ENGINE=InnoDB"").CreateTable(&amp;Users{})
    }

    return db
}

func Cors() gin.HandlerFunc {
    return func(c *gin.Context) {
        c.Writer.Header().Add(""Access-Control-Allow-Origin"", ""http://localhost:4200"")
        c.Next()
    }
}

func main() {
    r := gin.Default()

    r.Use(Cors())

    v1 := r.Group(""api/v1"")
    {
        v1.POST(""/users"", PostUser)
        v1.OPTIONS(""/users"", OptionsUser)
        v1.GET(""/users"", GetUsers)
        v1.GET(""/users/:id"", GetUser)
        v1.PUT(""/users/:id"", UpdateUser)
        v1.DELETE(""/users/:id"", DeleteUser)
    }

    r.Run("":8080"")
}

func PostUser(c *gin.Context) {

    fmt.Println(""___herewego___"")
    db := InitDb()
    defer db.Close()

    var user Users
    c.Bind(&amp;user)
    fmt.Println(c)
    fmt.Println(""_____"")
    fmt.Println(user)

    if user.email != """" &amp;&amp; user.password != """" {
        fmt.Println(""geldim grdm gidiyorum....................."")
        // INSERT INTO ""users"" (name) VALUES (user.Name);
        db.Create(&amp;user)

        // Display error
        c.JSON(201, gin.H{""success"": user})
    } else {
        // Display error
        c.JSON(422, gin.H{""error"": ""Fields are empty""})
    }

    // curl -i -X POST -H ""Content-Type: application/json"" -d ""{ \""email\"": \""Thea\"", \""password\"": \""Queen\"" }"" http://localhost:8080/api/v1/users
}

func GetUsers(c *gin.Context) {
    // Connection to the database
    db := InitDb()
    // Close connection database
    defer db.Close()

    var users []Users
    // SELECT * FROM users
    db.Find(&amp;users)

    // Display JSON result
    c.JSON(200, users)

    // curl -i http://localhost:8080/api/v1/users
}

func GetUser(c *gin.Context) {
    // Connection to the database
    db := InitDb()
    // Close connection database
    defer db.Close()

    email := c.Params.ByName(""email"")
    var user Users
    // SELECT * FROM users WHERE id = 1;
    db.First(&amp;user, email)

    if user.email != """" {
        // Display JSON result
        c.JSON(200, user)
    } else {
        // Display JSON error
        c.JSON(404, gin.H{""error"": ""User not found""})
    }

    // curl -i http://localhost:8080/api/v1/users/1
}

func UpdateUser(c *gin.Context) {
    // Connection to the database
    db := InitDb()
    // Close connection database
    defer db.Close()

    // Get id user
    email := c.Params.ByName(""email"")
    var user Users
    // SELECT * FROM users WHERE id = 1;
    db.First(&amp;user, email)

    if user.email != """" &amp;&amp; user.password != """" {

        if user.email != """" {
            var newUser Users
            c.Bind(&amp;newUser)

            result := Users{
                email: newUser.email,
                password:  newUser.password,
            }

            // UPDATE users SET email='newUser.email', password='newUser.password' WHERE id = user.Id;
            db.Save(&amp;result)
            // Display modified data in JSON message ""success""
            c.JSON(200, gin.H{""success"": result})
        } else {
            // Display JSON error
            c.JSON(404, gin.H{""error"": ""User not found""})
        }

    } else {
        // Display JSON error
        c.JSON(422, gin.H{""error"": ""Fields are empty""})
    }

    // curl -i -X PUT -H ""Content-Type: application/json"" -d ""{ \""email\"": \""Thea\"", \""password\"": \""Merlyn\"" }"" http://localhost:8080/api/v1/users/1
}

func DeleteUser(c *gin.Context) {
    // Connection to the database
    db := InitDb()
    // Close connection database
    defer db.Close()

    // Get id user
    email := c.Params.ByName(""email"")
    var user Users
    // SELECT * FROM users WHERE id = 1;
    db.First(&amp;user, email)

    if user.email != """" {
        // DELETE FROM users WHERE id = user.Id
        db.Delete(&amp;user)
        // Display JSON result
        c.JSON(200, gin.H{""success"": ""User #"" + email + "" deleted""})
    } else {
        // Display JSON error
        c.JSON(404, gin.H{""error"": ""User not found""})
    }

    // curl -i -X DELETE http://localhost:8080/api/v1/users/1
}

func OptionsUser(c *gin.Context) {

    c.Writer.Header().Set(""Access-Control-Allow-Methods"", ""DELETE,POST, PUT"")
    c.Writer.Header().Set(""Access-Control-Allow-Headers"",   ""access-control-allow-headers,access-control-allow-origin,content-type"")
    c.Next()
}
</code></pre>
","7880714","","7880714","","2017-12-30 10:53:46","2017-12-30 10:57:03","Http request from ANGULAR to GO => Status Code:422 Unprocessable Entity","<angular><typescript><go><gin>","1","0","","","","48033176","2253","2253","gin","315","5802757","5802756"
"48322634","1","","","2018-01-18 13:33:53","","1","418","<p>I am trying to render an html template</p>

<pre><code>    context.HTML(http.StatusOK,
        ""my_html_template.html"",
        information)
</code></pre>

<p>where <code>my_html_template.html</code> has content</p>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=""en""&gt;
    &lt;head&gt;
        &lt;meta charset=""UTF-8""&gt;
        &lt;title&gt;My HTML page&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        Please wait. Do not push back or refresh
    &lt;/body&gt;
    &lt;script&gt;
        {{if eq  .Action ""form""}}
        var form = ""{{.PgData}}"";
        var elem=document.createElement(""div"");
        elem.innerHTML=form;
        document.body.appendChild(elem);
        elem.firstChild.submit();
        {{end}}
    &lt;/script&gt;
&lt;/html&gt;
</code></pre>

<p>I cannot understand how can I render this page with inline JS.
Rendered page has <code>&lt;script&gt;</code> and all the js as html. Final html page looks like this. Please note: this is how it looks to end user(not from terminal).</p>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=""en""&gt;
    &lt;head&gt;
        &lt;meta charset=""UTF-8""&gt;
        &lt;title&gt;My Page&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        Please wait. Do not push back or refresh
    &lt;/body&gt;
    &lt;script&gt;

        var form = ""&lt;form&gt;....&lt;/form&gt;"";
        var elem=document.createElement(""div"");
        elem.innerHTML=form;
        document.body.appendChild(elem);
        elem.firstChild.submit();

    &lt;/script&gt;
&lt;/html&gt;
</code></pre>
","3104569","","","","","2018-01-18 17:58:39","Render template with inline js(golang/gin)","<javascript><html><go><gin>","0","6","","","","48322634","2253","2253","gin","315","5802757","5802756"
"48557831","1","","","2018-02-01 07:55:57","","0","608","<p>I'm using JobRunner (<a href=""https://github.com/bamzi/jobrunner"" rel=""nofollow noreferrer"">https://github.com/bamzi/jobrunner</a>) for scheduler and GIn-gonic framework for my Golang project (I'm just learning Go for about 1 week).</p>

<p>I have tried the package and it works. Problem is when i would like to connect to my database, i cannot access gin context inside the schedule function</p>

<pre><code>func ScheduleUrl() {
   jobrunner.Start() // optional: jobrunner.Start(pool int, concurrent int) (10, 1)
   jobrunner.Schedule(""@every 20s"", CheckExpiredUrl{})
}

// Job Specific Functions
type CheckExpiredUrl struct {
// filtered
}


  // ReminderEmails.Run() will get triggered automatically.
func (e CheckExpiredUrl) Run() {
  // Queries the DB
  // Sends some email
  fmt.Println(""Every 20 sec Check Expired Url "")

  db := c.MustGet(""db"").(*mgo.Database)
  urls := []models.Url{}
  err := db.C(models.CollectionUrl).Find(nil).Sort(""-expired_at"").All(&amp;urls)
  if err != nil {
      c.Error(err)
  }
}
</code></pre>

<p>I need to use c *gin.Context</p>

<p>inside jobrunner function, and how to do that?</p>
","4511009","","","","","2019-09-18 05:45:41","Using Gin and JobRunner","<mongodb><go><mgo><gin>","1","3","","","","48557831","2253","2253","gin","315","5802757","5802756"
"48636077","1","48636174","","2018-02-06 05:31:29","","0","428","<p>I want to write a gin middleware handler which gets data from <code>c.Request.FormValue(""data"")</code>, unmarshalls it into a structure (structures are rather different) and sets a variable in context (<code>c.Set(""Data"",newP)</code>). So I searched and wrote this:</p>

<pre class=""lang-golang prettyprint-override""><code>package middleware

import (
    ""reflect""
    ""fmt""
    ""github.com/gin-gonic/gin""
    ""encoding/json""
)

//https://semaphoreci.com/community/tutorials/test-driven-development-of-go-web-applications-with-gin
//https://github.com/gin-gonic/gin/issues/420
func Data(t reflect.Type) gin.HandlerFunc {
    return func(c *gin.Context) {
        //https://stackoverflow.com/a/7855298/5257901
        //https://stackoverflow.com/a/45680060/5257901
        //t := reflect.TypeOf(orig)
        v := reflect.New(t.Elem())
        // reflected pointer
        newP := v.Interface()

        data:=c.Request.FormValue(""data"")
        fmt.Printf(""%s data:%s\n"",c.Request.URL.Path,data)
        if err:=json.Unmarshal([]byte(data),newP); err!=nil{
            fmt.Printf(""%s data unmarshall %s, data(in quotes):\""%s\"""",c.Request.URL.Path,err,data)
            c.Abort()
            return
        }
        ustr, _:=json.Marshal(newP)
        fmt.Printf(""%s unmarshalled:%s\n"",c.Request.URL.Path,ustr)
        c.Set(""Data"",newP)
        c.Next()
    }
}
</code></pre>

<p>and I use it like this:</p>

<pre><code>func InitHandle(R *gin.Engine) {
    Plan := R.Group(""/Plan"")
    Plan.POST(""/clickCreate"",middleware.Data(reflect.TypeOf(new(tls.PlanTabel))), clickCreatePlanHandle)
}
</code></pre>

<p>and </p>

<pre><code>var data = *(c.MustGet(""Data"").(*tls.PlanTabel))
</code></pre>

<p>which is rather heavy and ugly. I want to </p>

<pre><code>middleware.Data(tls.PlanTabel{})
</code></pre>

<p>and</p>

<pre><code>var data = c.MustGet(""Data"").(tls.PlanTabel)
</code></pre>

<p><strong>In other words</strong>, omitting gin, I want a closure that eats <code>i interface{}</code> and returns a function <code>(data string) (o interface{})</code></p>

<pre><code>func Data(i interface{}) (func (string) (interface{})) {
    //some reflect magic goes here
    //extract the structure type from interface{} :

    //gets a reflect type pointer to it, like
    //t := reflect.TypeOf(orig)
    return func(data string) (o interface{}) {
        //new reflected structure (pointer?)
        v := reflect.New(t.Elem())
        //interface to it
        newP := v.Interface()
        //unmarshal
        json.Unmarshal([]byte(data),newP);
        //get the structure from the pointer back

        //returns interface to the structure

        //reflect magic ends
    }
}
</code></pre>
","5257901","","13860","","2018-02-06 09:46:36","2018-02-06 09:46:36","Unmarshal json to reflected struct (continued)","<json><go><reflection><unmarshalling><gin>","1","0","","","","48636077","2253","2253","gin","315","5802757","5802756"
"48680924","1","48696140","","2018-02-08 08:32:30","","0","306","<p>I am trying to check if the MongoDB have data with specific username and password. But now I am getting all the data instead of the specified data. Below is my code: </p>

<pre><code>r.POST(""/login"", func(c *gin.Context) {
    logedUser :=[]RegisterdUser{}
    name := c.PostForm(""userName"")
    Password := c.PostForm(""userPassword"")

    fmt.Println(""inside checking  sectionnnn"",name,Password)
    session, err := mgo.Dial(""localhost:27017"")
     if err != nil {
            panic(err)
     }
     s := session.Clone()
     db := s.DB(""testing"").C(""testData"")
    //err = db.Find(nil).All(&amp;logedUser)
    err = db.Find(bson.M{""name"": name,""password"" :Password}).All(&amp;logedUser)
        //err = db.Find({""Name"": name},{""Password"" :Password}).All(&amp;logedUser)
        if err != nil {
            log.Fatal(err)
    log.Println(""inside error"")
        }
    //if logedUser !=nil{
    //fmt.Println(""logged"")
    //c.Redirect(301, ""/loggedPage"")

    //}else{
        //c.Redirect(301, ""/loginError"")
    //}
    fmt.Println(""data fetched"",logedUser)

        c.Next()
    defer session.Close()




  })
</code></pre>

<p>My DB structure is:</p>

<pre><code>{ ""_id"" : ObjectId(""5a7ac6150e04b2e9c18c15af""), ""name"" : ""aswathy"", ""password"" : ""aswathyashok"" }
{ ""_id"" : ObjectId(""5a7ad3ef0e04b2e9c18c15d1""), ""name"" : ""anupama"", ""password"" : ""anu"" }
{ ""_id"" : ObjectId(""5a7bf0dcd90e2ccd0bd9785b""), ""name"" : ""reema"", ""password"" : ""reemaaa"" }
{ ""_id"" : ObjectId(""5a7bf1f6d90e2ccd0bd97895""), ""name"" : ""sreeda"", ""password"" : ""sreeda"" }
</code></pre>

<p>The Result of inside checking section is aswathy aswathyshok.</p>

<p>result of data fetched is </p>

<blockquote>
  <p>[{aswathy aswathyashok} {anupama anu} {reema reemaaa} {sreeda sreeda}
  {deena deena} {farsu farsu} {beena beena} {jeena jeena}]</p>
</blockquote>
","","user8829344","2884309","","2018-02-08 09:15:54","2018-02-08 22:56:28","display data from mongodb to html page using gin-golang?","<mongodb><go><gin>","1","5","","","","48680924","2253","2253","gin","315","5802757","5802756"
"49277604","1","","","2018-03-14 12:18:16","","1","3131","<p>i am trying to place golang array( also slice,struct etc)to html so i can use array element in html Element content When returning html from golang gin web framework. Another problem is how to render these data with loop? such as flask jinjia
works in this way. </p>

<pre><code>{% block body %}
  &lt;ul&gt;
  {% for user in users %}
  &lt;li&gt;&lt;a href=""{{ user.url }}""&gt;{{ user.username }}&lt;/a&gt;&lt;/li&gt;
  {% endfor %}
  &lt;/ul&gt;
</code></pre>
","5844373","","9955790","","2018-06-21 12:36:04","2018-06-21 12:36:04","how to render html with golang data in golang gin web frame?","<html><go><gin><go-gin>","1","1","2","","","49277604","2253","2253","gin","315","5802757","5802756"
"49616076","1","","","2018-04-02 17:46:38","","0","1606","<p>I have an application which I need to restrict to a handful of IPs. I can write a middleware and return if request IP is not from allowed list, however I would like this process to be as efficient as possible. I.e. I would like to drop the connection as early as possible. What is the earliest stage I can drop connection, preferably with an HTTP response. 
I do not have control on host firewall or border firewall to filter traffic, and again, I won't be able to provide an HTTP response, even if I had control of firewall.</p>

<p>Also I would prefer if I could get a description of a life cycle of an HTTP request in gin.</p>
","7828660","","","","","2018-04-02 18:29:50","How to implement efficient IP whitelist in gin-gonic/gin middleware","<go><middleware><gin>","2","0","","","","49616076","2253","2253","gin","315","5802757","5802756"
"49746260","1","","","2018-04-10 05:53:40","","-2","1072","<p>Basically, when I am inserting a record to the database it is saving but my problem is that in Golang I am not able to handle errors suppose right now I am getting the error like Duplicate keys in my console but rather I want to handle it in JSON response.</p>

<p>Here is my code:</p>

<pre><code>func main() {
    router := gin.New()
    router.Use(gin.Logger())
    router.Use(gin.Recovery())
    db, err := sql.Open(""mysql"", ""root:password@tcp(gpstest.cksiqniek8yk.ap-south-1.rds.amazonaws.com:3306)/tech"")
    if err != nil {
        fmt.Print(err.Error())
    }
    // make sure connection is available
    err = db.Ping()
    if err != nil {
        fmt.Print(err.Error())
    }
    router.POST(""/validate"", func(c *gin.Context) {
        var (
            cat  Cat
            cats []Cat
        )
        c.BindJSON(&amp;cat)

        rows, err := db.Query(""select a.id, r.id from admin_user as a inner join roles as r on r.id = a.id where r.name = '"" + cat.roleName + ""' AND a.admin_email = '"" + cat.adminEmail + ""' AND a.id = ' + cat.ID + ' AND r.id = ' + cat.ID1 + ' ;"")
        if err != nil {
            log.Fatal(err)
        }

        if rows.Next() {
            err = rows.Scan(&amp;cat.ID, &amp;cat.ID1)
            cats = append(cats, cat)
            if err != nil {
                fmt.Print(err.Error())
            }
            c.JSON(http.StatusOK, gin.H{
                ""result"": cats,
                ""count"":  len(cats),
            })
        } else {
            var buffer bytes.Buffer

            stmt, err := db.Prepare(""INSERT INTO admin_roles(admin_id, role_id) values(?,?)"")
            if err != nil {
                panic(err)
            }
            _, err = stmt.Exec(cat.ID, cat.ID1)

            if err != nil {
                fmt.Print(err.Error())
            }
            buffer.WriteString(""cat.ID"")
            buffer.WriteString("" "")
            buffer.WriteString(""cat.ID1"")
            defer stmt.Close()
            name1 := buffer.String()
            c.JSON(http.StatusOK, gin.H{
                ""message"": fmt.Sprintf("" %s successfully created"", name1),
            })
        }

    })
    router.Run("":4500"")
    //return router
}
</code></pre>

<p>And here is the error which I am getting in console.</p>

<blockquote>
  <p>Error 1062: Duplicate entry '2-2' for key 'admin_id_role_id_uk_idx'[GIN].
  I want to handle this error in json format.</p>
</blockquote>
","7584296","","472495","","2018-04-10 09:19:53","2018-04-11 07:09:48","How to handle the errors in Golang for inserting a duplicate keys?","<mysql><go><gin>","1","2","","","","49746260","2253","2253","gin","315","5802757","5802756"
"49857443","1","49857579","","2018-04-16 12:31:05","","1","131","<p>I would like to read the trigram list supposedly created with my GIN index but I can't seem to find the command anywhere: I tried <code>\di+</code>, <code>\dv+</code>, <code>\dm+</code> or each without the <code>+</code>. Nothing returns. </p>

<p>Do I misunderstand something or my index is empty? It shows a 16ko size but it could be the empty standard size as far as I know.</p>
","1878036","","330315","","2018-04-16 12:36:30","2018-04-16 12:38:19","postgresql : read GIN index content","<postgresql><indexing><gin><trigram>","1","0","","","","49857443","2253","2253","gin","315","5802757","5802756"
"50267112","1","50267574","","2018-05-10 06:46:27","","0","73","<p>Some confusion under high concurrency.</p>

<p>I use <a href=""https://github.com/wg/wrk"" rel=""nofollow noreferrer"">wrk</a> to test Gin, there's someting uncertainty. Gin seems doesn't concurrency safe.</p>

<pre><code>  package main

  import (
    ""fmt""
    ""sync/atomic""

    ""github.com/gin-gonic/gin""
  )

  var count int64 = 0

  func Test(c *gin.Context) {
    atomic.AddInt64(&amp;count, 1)
    fmt.Println(count)
    c.String(200, ""success"")
  }

  func main() {
    gin.SetMode(gin.DebugMode)
    router := gin.New()
    router.GET(""test"", Test)
    router.Run("":8080"")
  }
</code></pre>

<p>Test shell code</p>

<pre><code>  wrk -t50 -c50 -d 1s http://localhost:8080/test
</code></pre>

<p>Gin output duplicate data</p>

<p><img src=""https://ws1.sinaimg.cn/small/6478deb5ly1fr63jtuav7j20h40i0760.jpg"" alt=""duplicate data""></p>

========update========

<p>even if the print code like this.</p>

<pre><code>  countCopy := count
  go func() {
    fmt.Println(countCopy)
  }()
</code></pre>

<p>I also use <a href=""https://httpd.apache.org/docs/2.4/programs/ab.html"" rel=""nofollow noreferrer"">ab</a> test it, the same problem.</p>

========update========

<p>The same with net/http, still has duplicate data.</p>

<pre><code>  package main

  import (
    ""fmt""
    ""net/http""
    ""sync/atomic""
  )

  var count int64 = 0

  func Test(w http.ResponseWriter, req *http.Request) {
    atomic.AddInt64(&amp;count, 1)
    fmt.Println(count)
    w.Write([]byte(""success""))
  }

  func main() {
    http.HandleFunc(""/test"", Test)
    http.ListenAndServe("":8080"", nil)

  }
</code></pre>

<p><img src=""https://ws1.sinaimg.cn/small/6478deb5ly1fr65vvwjvqj20es03gglu.jpg"" alt=""data""></p>

<p>I try to use log package, which is safe from concurrent goroutines . The same.</p>

<pre><code>log.Println(countCopy)
</code></pre>

<p><img src=""https://ws1.sinaimg.cn/small/6478deb5ly1fr68p9yajwj20iu08ota3.jpg"" alt=""""></p>
","3886157","","","","","2018-05-10 07:15:01","Some confusion of Go `net/http` under high concurrency","<go><logging><gin>","1","1","","","","50267112","2253","2253","gin","315","5802757","5802756"
"50436118","1","","","2018-05-20 14:59:49","","0","578","<p>I am trying to setup swagger for gin-gonic on windows. 
Documentation of swaggo states that I should run:</p>

<pre><code>go get -u github.com/swaggo/swag/cmd/swag
</code></pre>

<p>After installation I should be able to run <code>swag init</code> from within the root of my project where I have <code>main.go</code>, but the cmdlet states the following: </p>

<pre><code>swag : The term 'swag' is not recognized as the name of a cmdlet, function, script file, or operable program. Check
the spelling of the name, or if a path was included, verify that the path is    correct and try again.
At line:1 char:1
+ swag
+ ~~~~
+ CategoryInfo          : ObjectNotFound: (swag:String) [],  CommandNotFoundException
+ FullyQualifiedErrorId : CommandNotFoundException
</code></pre>

<p>How can I add swag to PATH or how should I proceed from here?</p>

<p>Ps, i followed documentation from <a href=""https://github.com/swaggo/swag"" rel=""nofollow noreferrer"">here</a></p>

<p><strong>Update</strong>: So I did a clean installation of Go on another PC, followed by <code>go get -u github.com/swaggo/swag/cmd/swag</code> and <code>swag</code> runs right of the bat. Earlier I followed <a href=""https://revel.github.io/tutorial/gettingstarted.html"" rel=""nofollow noreferrer"">this</a> tutorial and I might have accidentally messed up my <code>$GOPATH</code> on the original PC.</p>
","7194432","","7194432","","2018-05-21 05:48:58","2018-09-20 10:37:38","Installing swaggo on windows (swagger + gin)","<windows><go><swagger><gin>","1","0","1","","","50436118","2253","2253","gin","315","5802757","5802756"
"50523102","1","","","2018-05-25 06:50:22","","0","1649","<p>For example I've got the following <code>struct</code></p>

<pre><code>type Address struct {
    City string `json:""city"" binding:""required""`
    AddressLine string `json:""address_line"" binding:""required""`
}
</code></pre>

<p>and I've got the following function to handle request from users</p>

<pre><code>func AddressCreate(c *gin.Context) {
    var address Address
    if err := c.BindJSON(&amp;address); err == nil {
        // if everything is good save to database
        // and return success message
        db.Create(&amp;address)
        c.JSON(http.StatusOK, gin.H {""status"":""success""})
    } else {
        c.JSON(http.StatusBadRequest, err)
    }
}
</code></pre>

<p>Expected behavior is to return json formatted this way</p>

<pre><code>[
     {
         ""city"":""required""
     }
     {
         ""address_line"":""required""
     }
]
</code></pre>

<p>But I'm getting error formatted like this</p>

<pre><code>""Address.City"": {
    ""FieldNamespace"": ""Address.City"",
    ""NameNamespace"": ""City"",
    ""Field"": ""City"",
    ""Name"": ""City"",
    ""Tag"": ""required"",
    ""ActualTag"": ""required"",
    ""Kind"": 24,
    ""Type"": {},
    ""Param"": """",
    ""Value"": """"
},
""Address.AddressLine"": {
    ""FieldNamespace"": ""AddressLine"",
    ""NameNamespace"": ""AddressLine"",
    ""Field"": ""AddressLine"",
    ""Name"": ""AddressLine"",
    ""Tag"": ""required"",
    ""ActualTag"": ""required"",
    ""Kind"": 24,
    ""Type"": {},
    ""Param"": """",
    ""Value"": """"
}
</code></pre>

<p>What did I tried:<br>
I created function which casts <code>error</code> to <code>ValidationErrors</code> and iterates through all <code>FieldError</code>'s in it </p>

<pre><code>func ListOfErrors(e error) []map[string]string {
    ve := e.(validator.ValidationErrors)
    InvalidFields := make([]map[string]string, 0)

    for _, e := range ve {
        errors := map[string]string{}
        // field := reflect.TypeOf(e.NameNamespace)
        errors[e.Name] = e.Tag
        InvalidFields = append(InvalidFields, errors)
    }

    return InvalidFields
}
</code></pre>

<p>The output look's much better</p>

<pre><code>[
    {
        ""City"":""required""
    },
    {
        ""AddressLine"":""required""
    }
]
</code></pre>

<p>But I cannot solve the problem with the name of the fields. I cannot swap <code>Name</code> into <code>name</code> which I noted in structs tag <code>json:""city""</code>. So my question is did I choose correct way to solve the problem if the answer is yes how to get structs json tag for field?</p>
","1679136","","1679136","","2018-05-31 06:33:45","2018-05-31 06:33:45","How to return custom error if validation failed with Gin","<go><gin><go-gin>","2","0","","","","50523102","2253","2253","gin","315","5802757","5802756"
"50696418","1","50701083","","2018-06-05 09:16:07","","-4","680","<p>I have a <code>PHP</code> script in which i'hv created some array formats (data structures) which i want to convert the same array structure using <code>Golang</code>.</p>

<p>Below is the array structure of my PHP script</p>

<pre><code>   $response['spf']['current_value']  = $spfValue; // this will  be the array of strings
   $response['spf']['required_value'] = ""v=spf1 a include:32782.pppp.com ~all"";            
   $response['spf']['is_verified']    = $isValidSpf; //this will be int
   $response['spf']['spf_matched']    = $isMatched;  //this will be int
   print_r($response);
</code></pre>

<p>The outut of above script will be <code>Array</code> of key named SPF
<pre></p>

<code>[spf] =&gt; Array
    (
        [current_value] =&gt; Array
            (
                [0] =&gt; v=spf1 a -all,
            )
        [required_value] =&gt; v=spf1 a  include:32782.pppp.com ~all
        [is_verified] =&gt; 0
        [spf_matched] =&gt; 0
    )
</code></pre>

<p>As i am a new in <code>golang</code> , Need some golang code which will return same output as per <code>PHP</code> script</p>
","3156981","","3156981","","2018-06-05 11:59:13","2018-06-06 11:38:10","How to create Multidimensional Key Value array/slice in GoLang","<arrays><go><multidimensional-array><gin>","1","2","","2018-06-05 18:43:21","","50696418","2253","2253","gin","315","5802757","5802756"
"50813853","1","50869185","","2018-06-12 09:34:58","","1","987","<h1>Created backend API use <code>gin</code> with <code>go</code> language</h1>

<pre><code>type Post struct {
    ID uint `json:""id""`
    Title string `json:""title""`
    Body string `json:""body""`
}

func main() {
    // ...
    r := gin.Default()
    r.GET(""/posts"", GetPosts)
    r.GET(""/posts/:id"", GetPost)
    r.POST(""/posts"", CreatePost)
    r.PUT(""/posts/:id"", UpdatePost)
    r.DELETE(""/posts/:id"", DeletePost)

    r.Run("":8080"")
}

func GetPosts(c *gin.Context) {
    var posts []Post
    c.Writer.Header().Set(""Access-Control-Allow-Origin"", ""*"")
    if err := db.Find(&amp;posts).Error; err != nil {
            c.AbortWithStatus(404)
            fmt.Println(err)
    } else {
            c.JSON(200, post)
    }
}

// ...
</code></pre>

<h1>Created frontend use <code>react</code> with <code>react-admin</code></h1>

<h2>src/App.js</h2>

<pre><code>import React from 'react';
import { Admin, Resource } from 'react-admin';
import jsonServerProvider from 'ra-data-json-server';
import { PostList } from './posts';

const dataProvider = jsonServerProvider('http://localhost:8080');

const App = () =&gt; (
        &lt;Admin dataProvider={dataProvider}&gt;
    &lt;Resource name=""posts"" list={PostList} /&gt;
        &lt;/Admin&gt;
);

export default App;
</code></pre>

<h2>src/posts.js</h2>

<pre><code>import React from 'react';
import { List, Datagrid, TextField } from 'react-admin';

export const PostList = (props) =&gt; (
    &lt;List {...props}&gt;
        &lt;Datagrid&gt;
            &lt;TextField source=""id"" /&gt;
            &lt;TextField source=""title"" /&gt;
            &lt;TextField source=""body"" /&gt;
        &lt;/Datagrid&gt;
    &lt;/List&gt;
);
</code></pre>

<p>When access <code>http://localhost:3000</code> from chrome browser, got <code>Failed to fetch</code> message. From the console I saw:</p>

<pre><code>Failed to load http://localhost:8080/posts?_end=10&amp;_order=DESC&amp;_sort=id&amp;_start=0: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http://localhost:3000' is therefore not allowed access. The response had HTTP status code 404. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.
</code></pre>

<p>I have tried to add <code>Access-Control-Allow-Origin</code> in the go API program, but the same result. From the <code>gin</code> output I got:</p>

<pre><code>[GIN] 2018/06/12 - 18:14:50 | 404 |       1.813s |       127.0.0.1 | OPTIONS  /posts?_end=10&amp;_order=DESC&amp;_sort=id&amp;_start=0
</code></pre>

<hr>

<h1>Add</h1>

<p>Added <code>cors</code> package then change source as:</p>

<pre><code>package main

import (
        ""fmt""

        ""github.com/gin-contrib/cors""
        ""github.com/gin-gonic/gin""
        // ...
)

// ...

func main() {
    r := gin.Default()

    r.Use(cors.New(cors.Config{
            AllowOrigins: []string{""http://localhost:8080""},
    }))

    r.GET(""/posts"", GetPosts)
    r.GET(""/posts/:id"", GetPost)
    r.POST(""/posts"", CreatePost)
    r.PUT(""/posts/:id"", UpdatePost)
    r.DELETE(""/posts/:id"", DeletePost)

    r.Run()
}
</code></pre>

<p>Got same error again:</p>

<pre><code>Failed to load http://localhost:8080/posts?_end=10&amp;_order=DESC&amp;_sort=id&amp;_start=0: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http://localhost:3000' is therefore not allowed access. The response had HTTP status code 403. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.
</code></pre>

<p>This time, the output of <code>gin</code> was:</p>

<pre><code>[GIN] 2018/06/13 - 11:01:59 | 403 |       7.873s |             ::1 | OPTIONS  /posts?_end=10&amp;_order=DESC&amp;_sort=id&amp;_start=0
</code></pre>
","9684016","","9684016","","2018-06-13 02:20:20","2018-06-15 04:38:16","Why got 404 for API endpoint with react-admin?","<reactjs><api><go><cors><gin>","2","2","","","","50813853","2253","2253","gin","315","5802757","5802756"
"50832836","1","","","2018-06-13 08:45:56","","0","2595","<p>Using <code>react-admin</code> at front-end to access <code>gin</code> developed API back-end.</p>

<ul>
<li>Front-end: <a href=""http://localhost:3000"" rel=""nofollow noreferrer"">http://localhost:3000</a></li>
<li>Back-end: <a href=""http://localhost:8080"" rel=""nofollow noreferrer"">http://localhost:8080</a></li>
</ul>

<p>When access url from chrome browser:</p>

<p><a href=""http://localhost:3000/#/posts"" rel=""nofollow noreferrer"">http://localhost:3000/#/posts</a></p>

<p>Got this message from chrome <code>Console</code>:</p>

<pre><code>fetch.js:41 OPTIONS http://localhost:8080/posts?_end=10&amp;_order=DESC&amp;_sort=id&amp;_start=0 403 (Forbidden)
</code></pre>

<p>But if access the uri above from browser, it can return json result.</p>

<p>From the <code>gin</code> developed API output, got this message:</p>

<pre><code>[GIN] 2018/06/13 - 16:38:16 | 403 |       1.995s |             ::1 | OPTIONS  /posts?_end=10&amp;_order=DESC&amp;_sort=id&amp;_start=0
</code></pre>
","9684016","","","","","2018-09-06 04:17:44","Why get 403 forbidden when get API data?","<reactjs><api><gin>","3","0","","","","50832836","2253","2253","gin","315","5802757","5802756"
"50844390","1","50844500","","2018-06-13 18:56:56","","-2","565","<p>I'm using gin gonic as http framework and I need to group some paths with shared variable by like this:</p>

<pre><code>ur := r.Group(""/"")
ur.Use(package.Prepare)
{
    ur.GET(""/"", package.Home)
}
</code></pre>

<p>Inside the <code>Prepare</code> handler, I declare package variable like
<code>package.tplPath</code> because I want all sub routes can access to this variable instead of rewrite the code in each http handler.</p>

<pre><code>var tplPath = """"

func Prepare(c *gin.Context) {
    _, filename, _, _ := runtime.Caller(0)
    s := helper.RelativeFilePath(filename)
    tplPath = s[1:len(s)] + ""template/""
}
</code></pre>

<p>I don't know how Go works with each process, and variables for each http request. If a variable was declared in package level, will it be set after each http request?</p>

<p>Is this considered good practice? If not, why not?</p>
","1085848","","13860","","2018-06-13 23:18:53","2018-06-14 07:09:25","Should I declare variables in package level but outside of http handler?","<go><httprequest><httphandler><gin>","2","0","","","","50844390","2253","2253","gin","315","5802757","5802756"
"51488385","1","","","2018-07-23 23:19:19","","0","1076","<p>Warning: Long post!!</p>

<p>I am new to go.</p>

<p>error message</p>

<pre><code>controllers/user.go:4:2: cannot find package ""(underscore)/home/ubuntu/goapi/src/github.com/roes/api/vendor/github.com/gin-gonic/gin"" 
in any of: /usr/local/go/src/(underscore)/home/ubuntu/goapi/src/github.com/roes/api/vendor/github.com/gin-gonic/gin (from $GOROOT) 
     /home/ubuntu/goapi/src/_(underscore)/home/ubuntu/goapi/src/github.com/roes/api/vendor/github.com/gin-gonic/gin (from $GOPATH)
</code></pre>

<p>go env</p>

<pre><code>GOPATH=""/home/ubuntu/goapi""
GOROOT=""/usr/local/go""
</code></pre>

<p>folder structure</p>

<pre><code>github.com/rose
 api
  main.go // the loading gin is ok here
  controller
   |-user.go //with import ( ""github.com/gin-gonic/gin"" ) : error
</code></pre>

<p>Just wonder what happens?
go env looks Ok.</p>

<p>I did check with my friend Google, some questions are similar but answers are not working for me :(</p>

<p>Anyone, please.</p>

<p>Thanks in advance.</p>

<p>some more code:</p>

<pre><code>  package controller

  import (
    ""github.com/gin-gonic/gin""
    ""net/http""
    //      ""github.com/astaxie/beego/orm""
    ""../database""
    ""../models""
  )

  func init() {
    database.ConnectToDb()
    ORM = database.GetOrmObject()
  }

   //UserController ...
   type UserController struct{}

   func createUser(c *gin.Context) {
</code></pre>

<p>example resource <a href=""https://github.com/thearavind/go-gin-pg"" rel=""nofollow noreferrer"">https://github.com/thearavind/go-gin-pg</a>
,nothing wrong with this example
I just make it like MVC structure </p>

<p><strong>UPDATE1</strong>
I did remove go.
and install it again flow Linux version
<a href=""https://golang.org/doc/install"" rel=""nofollow noreferrer"">https://golang.org/doc/install</a>
then </p>

<pre><code>export GOPATH=$HOME/go
export PATH=$PATH:$GOPATH/bin
</code></pre>

<p>then
<a href=""https://github.com/gin-gonic/gin#use-a-vendor-tool-like-govendor"" rel=""nofollow noreferrer"">https://github.com/gin-gonic/gin#use-a-vendor-tool-like-govendor</a>
the example code run ok.
when I add controller folder with user.go with </p>

<pre><code> import( ""github.com/gin-gonic/gin"")
</code></pre>

<p>full code </p>

<pre><code>  package controller
  import( ""github.com/gin-gonic/gin"")
  func somestring(){
    return ""hello world""
  }
</code></pre>

<p>in the main.go i use above </p>

<pre><code>   curl https://raw.githubusercontent.com/gin-gonic/gin/master/examples/basic/main.go &gt; main.go
</code></pre>

<p>add to import </p>

<pre><code>    ""./controller""
    ""fmt""
</code></pre>

<p>add to the main function</p>

<pre><code>        user := new(controller.somestring)
        fmt.Printf(user)
</code></pre>

<p>I understand this is not a good code for me but will produce this error again, like so</p>

<pre><code> controller/user.go:4:2: cannot find package ""github.com/gin-gonic/gin"" in any of:
/usr/local/go/src/github.com/gin-gonic/gin (from $GOROOT)
/home/ubuntu/go/src/github.com/gin-gonic/gin (from $GOPATH)
</code></pre>

<p>(no underscore this time)</p>

<p>:( , no luck reinstall go</p>

<p><strong>UPDATE 2</strong>
I am able to find the path, but not the underscore thing</p>

<pre><code> 08:56:35 ~/go/src/github.com/jerry/core$ cd /home/ubuntu/go/src/github.com/jerry/core/vendor/github.com/gin-gonic/
 08:56:45 ~/go/src/github.com/jerry/core/vendor/github.com/gin-gonic$
</code></pre>
","1744294","","1744294","","2018-07-24 20:59:42","2019-10-10 05:31:41","golang can not find package gin in sub directory","<go><gin>","2","6","","","","51488385","2253","2253","gin","315","5802757","5802756"
"51516336","1","","","2018-07-25 10:12:49","","2","642","<p>I am trying to create a GIN index through liquibase scripts. </p>

<pre><code>CREATE INDEX IF NOT EXISTS index_name ON schema_name.table_name USING gin (column1, lower(column2) COLLATE pg_catalog.""default"" gin_trgm_ops)
</code></pre>

<p>Each time migration for the liquibae changeset fails with the following exception: </p>

<blockquote>
  <p>liquibase.exception.DatabaseException: ERROR: operator class ""gin_trgm_ops"" does not exist for access method ""gin"" </p>
</blockquote>

<p>The problem is that this query works when run directly from pgAdmin query tool. There seems to be some issue when running this query from liquibase scripts. </p>

<p>I had to create the following extensions before creating the index from pgAdmin query tool. I am creating these extensions in the liquibase script too.</p>

<pre><code>CREATE EXTENSION IF NOT EXISTS pg_trgm with schema public;

CREATE EXTENSION IF NOT EXISTS btree_gin with schema public;
</code></pre>

<p>Following is the part of my liquibase script that is creating the extensions and indexes. <strong>Btree</strong> index creating queries work well with the liquibase scripts. It fails with the above exception when trying to create <strong>GIN</strong> index.</p>

<pre><code>CREATE EXTENSION IF NOT EXISTS pg_trgm with schema public;

CREATE EXTENSION IF NOT EXISTS btree_gin with schema public;
</code></pre>

<p>The following works:</p>

<pre><code>CREATE INDEX IF NOT EXISTS index_name ON table_name USING btree (col1,col2 COLLATE pg_catalog.""default"") 

CREATE INDEX IF NOT EXISTS index_name ON table_name USING btree (col1, col2 COLLATE pg_catalog.""default"")
</code></pre>

<p>But this fails:</p>

<pre><code>CREATE INDEX IF NOT EXISTS index_name ON table_name USING gin (col1, lower(col2) COLLATE pg_catalog.""default"" gin_trgm_ops)
</code></pre>
","2846158","","1771634","","2018-07-25 12:19:43","2019-08-21 15:33:17","Postgres GIN Index Not Creating Through Liquibase Scripts","<postgresql><indexing><liquibase><gin>","1","0","","","","51516336","2253","2253","gin","315","5802757","5802756"
"51537801","1","","","2018-07-26 11:31:56","","0","51","<p>I use gwt 2.8 anf google-gin 2.12</p>

<p>I would like to inject some object into a deep custom <code>com.google.gwt.user.client.ui.composite</code>.</p>

<p>For instance this composite may contain a panel which contains other UIBinded views which can contains other nested element...</p>

<pre><code>DeepComposite
    \ APanel
        \ AnObjectToShare
        \ View1
        \ View2
            \ AnotherPanel
                \ AnObjectToShare
        \ View3
            \ AnObjectToShare
</code></pre>

<p>You can see in this hierarchy there is an <em>AnObjectToShare</em> I need to access at various level.</p>

<p>My first reflex was to inject it as <code>Scope.SINGLETON</code>. But today I see it too intrusive, as if I run a new activity which initialize a new <em>DeepComposite</em> (which is the starting point of my g-in-jection context), my previous <em>AnObjectToShare</em> instance is reused.</p>

<p>To resume I'm looking for a way to make my singletons to be singleton only on my current context. Or a way to reset my singleton. Or any other idea or workaround to resolve this issue.</p>
","2814253","","2814253","","2018-07-26 12:00:12","2018-07-26 19:09:20","How to destroy singleton when activity is reset?","<java><gwt><gin>","1","0","","","","51537801","2253","2253","gin","315","5802757","5802756"
"51948215","1","","","2018-08-21 12:01:27","","0","192","<p>Below is the code i've being working on.It shows success message when is run but doesn't shows the value defined in the post man form .Instead it shows blank spaces in command prompt.</p>

<pre><code>package main

import (
""fmt""
""github.com/gin-gonic/gin""
)

func saveCustomer(c *gin.Context){
    fn := c.PostForm(""firstName"")
    ln := c.PostForm(""lastName"")
    em := c.PostForm(""email"")
    phnno := c.PostForm(""phone_no"")
    fmt.Printf(""fn: %v; ln: %v ; em: %v ; phnno: %v ;"",fn ,ln ,em ,phnno )
    c.String(200, ""Success"")
}
func main() {
    r := gin.Default()
    r.POST(""/saveCustomer"", saveCustomer)
    r.Run("":8080"")
}
</code></pre>

<p>here, no values are shown, instead blank spaces are shown</p>

<p><a href=""https://i.stack.imgur.com/wQ8Zs.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/wQ8Zs.png"" alt=""enter image description here""></a></p>

<p>and below is the postman data fields with success message.</p>

<p><a href=""https://i.stack.imgur.com/mfZ2L.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/mfZ2L.png"" alt=""enter image description here""></a></p>
","7266302","","7266302","","2018-08-21 12:38:22","2019-01-19 07:24:21","No value gets shown after using gin package to get data from Postman Form. Why Is this happening?","<go><postman><gin>","1","4","1","","","51948215","2253","2253","gin","315","5802757","5802756"
"51978521","1","51985178","","2018-08-23 04:50:47","","0","384","<p>It Seems like my url is mismatching as its showing a 404 error, I tried changing the url at both postman and my code too.Also tried to work out with object id  conversion to see if the 404 is being caused by that.Below is my code.</p>

<pre><code>func main() {
    r := gin.Default()
    r.GET(""/get-custone/:_id"", getDetailone)
    r.Run()
} 
func getDetailone(c *gin.Context) {
    session := connect()
    defer session.Close()
    col := session.DB(""test"").C(""cust"")
    var results Person
    idstring:=c.Param(""_id"")
    oid:=bson.ObjectId(idstring)
    err := col.Find(bson.M{""_id"":oid}).One(&amp;results)
    if err != nil {
        panic(err)
    }
    c.JSON(200, gin.H{
        ""message"": ""success"",
    })
}
</code></pre>

<p>here's the screenshot from Postman</p>

<p><a href=""https://i.stack.imgur.com/diqo7.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/diqo7.png"" alt=""enter image description here""></a></p>
","7266302","","13860","","2018-08-23 07:13:30","2018-08-23 11:50:27","Unable to get Object Id from Get Url in Postman","<go><get><postman><mgo><gin>","1","3","","","","51978521","2253","2253","gin","315","5802757","5802756"
"52008320","1","","","2018-08-24 16:17:57","","1","287","<p>Learning Go and Gin from <a href=""https://semaphoreci.com/community/tutorials/test-driven-development-of-go-web-applications-with-gin"" rel=""nofollow noreferrer"">here</a>. 
So I have a router like this</p>

<pre><code>userRoutes.POST(""/login"", ensureNotLoggedIn(), performLogin)
</code></pre>

<p>and the handler function is like this</p>

<pre><code>func performLogin(c *gin.Context) {
  username := c.PostForm(""username"")
  password := c.PostForm(""password"")
  if isUserValid(username, password) {
    token := generateSessionToken()
    c.SetCookie(""token"", token, 3600, """", """", false, true)
    //is_logged_in is not working in template
    c.Set(""is_logged_in"", true)
    render(c, gin.H{""title"": ""Successful Login""}, ""login-successful.html"")
  } else {
    c.HTML(http.StatusBadRequest, ""login.html"", gin.H{
        ""ErrorTitle"":   ""Login Failed"",
        ""ErrorMessage"": ""Invalid credentials provided"",
    })
  }
}
</code></pre>

<p>and my template is like</p>

<pre><code>{{ if .is_logged_in }}
      &lt;li&gt;&lt;a href=""/article/create""&gt;Create Article&lt;/a&gt;&lt;/li&gt;
{{ end }}
{{ if not .is_logged_in }}
    &lt;li&gt;&lt;a href=""/u/register""&gt;Register&lt;/a&gt;&lt;/li&gt;
{{end}}
</code></pre>

<p>But in the end this variable in template seems not working, only the second section shows, the first link 'Create Article' is always hiding.</p>

<p><strong>Update</strong></p>

<p>I changed the handler function to something like this,</p>

<pre><code>        render(c, gin.H{""title"": ""Successful Login"", ""is_logged_in"": c.MustGet(""is_logged_in"").(bool)}, ""login-successful.html"")
</code></pre>

<p>explicitly passing the variable. Now the template element hide and show is correct. So was there anything changed in Golang or Gin to make <code>.Set()</code> behaving differently?</p>
","921082","","13860","","2018-08-25 10:31:55","2019-01-19 07:14:11","Variable in handler is not passing to template","<go><gin>","1","0","","","","52008320","2253","2253","gin","315","5802757","5802756"
"52845807","1","","","2018-10-17 00:44:48","","2","3061","<p>I'd like to build a <a href=""https://github.com/gin-gonic/gin"" rel=""nofollow noreferrer""><code>gin</code></a> program which serves the following routes:</p>

<pre><code>r.GET(""/special"", ... // Serves a special resource.
r.Any(""/*"", ...       // Serves a default resource.
</code></pre>

<p>However, such a program panics at runtime:</p>

<pre class=""lang-none prettyprint-override""><code>[GIN-debug] GET    /special                  --&gt; main.main.func1 (2 handlers)
[GIN-debug] GET    /*                        --&gt; main.main.func2 (2 handlers)
panic: wildcard route '*' conflicts with existing children in path '/*'
</code></pre>

<p>Is it possible to create a gin program which serves a default resource for every route <em>except</em> for a single one which serves a different resource?</p>

<p>Many pages on the web lead me to believe it is not possible using the default gin router, so what is the easiest way to serve these routes from a gin program?</p>
","244128","","","","","2018-11-02 13:56:33","Gin wildcard route conflicts with existing children","<web-services><go><gin>","2","0","","","","52845807","2253","2253","gin","315","5802757","5802756"
"52982557","1","","","2018-10-25 06:19:36","","0","362","<p>I have this code :</p>

<pre><code>package main

import (
    ""net/http""

    ""github.com/gin-gonic/gin""
)

func main() {
    r := gin.New()
    r.GET(""/user/:id"", func(c *gin.Context) {
        // How can I get the litteral string ""/user/:id"" here ?
        c.JSON(http.StatusOK, gin.H{""message"": ""received request""})
    })
}
</code></pre>

<p>Is there any way that I can retrieve inside the handler the litteral string /user/:id,  If I use c.Request.Path it will give me the full output of the path like /user/10</p>
","5511780","","","","","2019-08-28 10:02:34","How to get matched route in context in Gin?","<go><gin>","1","2","","","","52982557","2253","2253","gin","315","5802757","5802756"
"53275636","1","","","2018-11-13 07:10:03","","0","164","<p>I am working on a SAAS based product. I am using JWT method to authenticate the logged in users in the system. The product is developed on Go on the backend with gin framework for routing.</p>

<p><strong>Problem</strong></p>

<p>When a user log in then its JWT token is generated and works well. Now the user did not logged out but closed the browser tab or window. Before he is back, the go app is re-installed with install command. Now the user come back and access his account, the token is expired and he could not see any of his details.</p>

<p>Following is the code to generate token while login:</p>

<pre><code>func CreateToken(user models.User, c *gin.Context) (string, error){
var ip, userAgent string
keyError := InitKeys()
if keyError != nil{
    return """", keyError
}

if values, _ := c.Request.Header[""Ip""]; len(values) &gt; 0 {
    ip = values[0]
}

if values, _ := c.Request.Header[""User-Agent""]; len(values) &gt; 0{
    userAgent = values[0]
}

token := jwt.NewWithClaims(jwt.SigningMethodHS256, &amp;jwt.MapClaims{
    ""email"": user.EmailId,
    ""exp"": time.Now().Add(time.Hour * 8760).Unix(),
    ""role"": user.Role,
    ""name"": user.FirstName+"" ""+user.LastName,
    ""ip"": ip,
    ""user_agent"": userAgent,
    ""id"": user.Id,
})
config.CurrentUserId    = user.Id
models.CurrentUser      = user

/* Sign and get the complete encoded token as a string */
tokenString, err := token.SignedString([]byte(config.SignKey))
return tokenString, err
</code></pre>

<p>}</p>

<pre><code>func InitKeys()(err error){
    SignKey, err = ioutil.ReadFile(GetBasePath()+PrivateKeyPath)
    if err != nil {
        return err
    }
    VerifyKey, err = ioutil.ReadFile(GetBasePath()+PublicKeyPath)
    if err != nil {
        return err
    }
    return nil
}
</code></pre>

<p>Now to decode and match the token following function is used:</p>

<pre><code>func ParseJWTToken(c *gin.Context){
merchantDb  := models.MerchantDatabase{ c.Keys[""merchant_db""].(string) }
merchantDatabase := make(map[string]interface{})
if values, _ := c.Request.Header[""Authorization""]; len(values) &gt; 0 {
    bearer := strings.Split(c.Request.Header[""Authorization""][0], ""Bearer"")
    bearerToken := strings.TrimSpace(bearer[1])
    _, err := merchantDb.GetSession(bson.M{""token"": bearerToken})
    if err != nil{
        errMsg := ""Failed: Unauthorized Access.""
        response := controllers.ResponseController{
            config.FailureCode,
            config.FailureFlag,
            errMsg,
            err,
        }
        controllers.GetResponse(c, response)
        c.Abort()
    }else{

        var userAgent string
        var userAgentCheck bool

        if values, _ := c.Request.Header[""User-Agent""]; len(values) &gt; 0 {
            userAgent = values[0]
        }
        _ = config.InitKeys()
        token, err := jwt.Parse(bearerToken, func(token *jwt.Token) (interface{}, error) {
            return config.SignKey, nil
        })
        if len (token.Claims.(jwt.MapClaims)) &gt; 0{
            for key, claim := range token.Claims.(jwt.MapClaims) {
                if key == ""user_agent""{
                    if claim == userAgent{
                        userAgentCheck = true
                    }
                }   

                if key == ""role""{
                    role = claim.(string)
                }

                if key == ""id""{
                    userId = claim.(float64)
                }
                if key == ""name""{
                    userName = claim.(string)
                }
            }
        }
        merchantDatabase[""userid""] = userId
        merchantDatabase[""role""] = role
        merchantDatabase[""username""] = userName
        c.Keys = merchantDatabase
        if err == nil &amp;&amp; token.Valid &amp;&amp; userAgentCheck == true {
            c.Next()
        } else {
            errMsg := ""Failed: Invalid Token.""
            response := controllers.ResponseController{
                config.FailureCode,
                config.FailureFlag,
                errMsg,
                nil,
            }
            controllers.GetResponse(c, response)
            c.Abort()
        }
    }
}else{
    errMsg := ""Failed: Unauthorized Access.""
    response := controllers.ResponseController{
        config.FailureCode,
        config.FailureFlag,
        errMsg,
        ""Missing Authorization Header"",
    }
    controllers.GetResponse(c, response)
    c.Abort()
}   
</code></pre>

<p>}</p>

<p>I am not able to detect what I am missing. Please look into the code and guide me what should I do in this case.</p>
","7533957","","","","","2018-11-13 07:10:03","JWT token expired when Go app is installed","<go><jwt><gin>","0","6","1","","","53275636","2253","2253","gin","315","5802757","5802756"
"53323110","1","53323438","","2018-11-15 15:49:07","","0","1086","<p>I am using <a href=""https://github.com/gin-gonic/gin"" rel=""nofollow noreferrer"">gin-gonic/gin</a> to write my server.</p>

<p>It seems even if the connection is lost, the handler function is still running. For example, if I visit <a href=""http://127.0.0.1:8080/ping"" rel=""nofollow noreferrer"">http://127.0.0.1:8080/ping</a> and close the browser suddenly, the screen will continue to print all the numbers.</p>

<pre><code>package main

import (
    ""github.com/gin-gonic/gin""
    ""log""
    ""time""
)

func main() {
    r := gin.Default()
    r.GET(""/ping"", func(c *gin.Context) {
        for i := 1; i &lt; 15; i++ {
            time.Sleep(time.Second * 1)
            log.Println(i)
        }
        c.JSON(200, gin.H{
            ""message"": ""pong"",
        })
    })
    r.Run(""127.0.0.1:8080"")
}
</code></pre>

<p>How should I stop handler function immediately (e.g. to reduce server load)?</p>
","5495293","","","","","2018-11-16 08:11:27","How golang gin stop handler function immediately if connection is lost","<go><gin><gin-gonic>","1","0","","","","53323110","2253","2253","gin","315","5802757","5802756"
"53389781","1","","","2018-11-20 09:21:15","","1","69","<p>I am newbie to golang.tried making an API with gin. </p>

<pre><code>router := gin.Default()
router.GET(""/search"", controllers.Search)
router.POST(""/handshake/"", controllers.Handshake)
router.GET(""/ping"", func(c *gin.Context) {
    c.JSON(200, gin.H{
        ""message"": ""pong"",
    })
})
router.Use(gin.Recovery())
router.Run(fmt.Sprintf("":%d"", 8080))
</code></pre>

<p>i am creating the binary on my local machine running ubuntu 18.04 and distributing the binary to ubuntu 16.04 on  aws ec2. the service runs fine and stops suddenly without any trace of error or warning or panic on the log. very difficult to find out whats wrong ?</p>

<p>Any Leads to debug the scenario  will be appreciated. thanks in advance</p>
","3237829","","","","","2018-11-20 09:52:12","Golang (gin) server is going down without any trace","<go><gin>","0","2","","","","53389781","2253","2253","gin","315","5802757","5802756"
"53413791","1","53414334","","2018-11-21 14:02:00","","1","68","<p>I have two servers</p>

<pre><code>router := createServer()
loginServer := createLoginServerMock()
servLogin := &amp;http.Server{
    Addr:         "":9333"",
    Handler:      loginServer,
}
testServer := &amp;http.Server{
    Addr:         "":9444"",
    Handler:      router,
}
loginServer.ListenAndServe()
testServer.ListenAndServe()
</code></pre>

<p>And I want to send request on both of them after they created? How can I detect that?</p>
","5306879","","13860","","2018-11-21 15:52:30","2018-11-21 15:52:30","How can I know when two servers are ready to get requests?","<go><gin>","3","0","","","","53413791","2253","2253","gin","315","5802757","5802756"
"53484171","1","53484489","","2018-11-26 15:18:33","","-2","83","<p>Here is my Go gin code:</p>

<pre><code>package main

import (
    ""fmt""

    ""github.com/gin-gonic/gin""
)

type Data struct {
    Test string `json:""test""`
}

func getData(c *gin.Context) {
    var data Data
    err := c.BindJSON(&amp;data)
    if err != nil {
        panic(err)
    }
    fmt.Println(data)
    c.JSON(200, gin.H{
        ""message"": ""pong"",
    })
}

func main() {
    r := gin.Default()
    r.POST(""/test"", getData)
    r.Run() // listen and serve on 0.0.0.0:8080
}
</code></pre>

<p>and my python code:</p>

<pre><code>import requests
r = requests.post(""http://127.0.0.1:8080/test"",json={""test"":""ok""})
print(r)
</code></pre>

<p>But when I execute my python script I have a 403 error:</p>

<pre><code>&lt;Response [403]&gt;
</code></pre>

<p>The panic (err) display nothing.</p>

<p>Any idea why I get this error?</p>
","462794","","13860","","2018-11-26 15:21:31","2018-11-26 15:36:27","How to communicate between gin and python","<python><go><gin>","1","2","","","","53484171","2253","2253","gin","315","5802757","5802756"
"53500200","1","","","2018-11-27 12:53:32","","0","702","<p>Gin always reports errors when loading index.html</p>

<pre><code>r := gin.New()
r.Use(gin.Logger())
r.Use(gin.Recovery())
r.LoadHTMLGlob(""views/**/*"")
r.GET(""/"", func(g *gin.Context) {
    g.HTML(http.StatusOK, ""index/index.html"", gin.H{
        ""title"":""test"",
    })
</code></pre>

<hr>

<pre><code>2018/11/27 20:23:46 [Recovery] 2018/11/27 - 20:23:46 panic recovered:
GET / HTTP/1.1
Host: localhost:8080
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
Cache-Control: max-age=0
Connection: keep-alive
Cookie: pix_k=admin; pix_v=L5lsdrVKJmpAa21DGibdbA%3D%3D
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.110 Safari/537.36


write tcp [::1]:8080-&gt;[::1]:55738: i/o timeout
C:/Go/src/runtime/panic.go:505 (0x4300c7)
    gopanic: reflectcall(nil, unsafe.Pointer(d.fn), deferArgs(d), uint32(d.siz), uint32(d.siz))
G:/gowork/src/github.com/gin-gonic/gin/context.go:725 (0xae81de)
    (*Context).Render: panic(err)
G:/gowork/src/github.com/gin-gonic/gin/context.go:734 (0xae82a6)
    (*Context).HTML: c.Render(code, instance)
G:/gowork/src/ihaveadream/routers/routers.go:18 (0xaffa91)
    InitRouter.func1: g.HTML(http.StatusOK, ""index/index.html"", gin.H{
G:/gowork/src/github.com/gin-gonic/gin/context.go:108 (0xae3952)
    (*Context).Next: c.handlers[c.index](c)
G:/gowork/src/github.com/gin-gonic/gin/recovery.go:52 (0xafca97)
    RecoveryWithWriter.func1: c.Next()
G:/gowork/src/github.com/gin-gonic/gin/context.go:108 (0xae3952)
    (*Context).Next: c.handlers[c.index](c)
G:/gowork/src/github.com/gin-gonic/gin/logger.go:84 (0xafb889)
    LoggerWithWriter.func1: c.Next()
G:/gowork/src/github.com/gin-gonic/gin/context.go:108 (0xae3952)
    (*Context).Next: c.handlers[c.index](c)
G:/gowork/src/github.com/gin-gonic/gin/gin.go:362 (0xaee92c)
    (*Engine).handleHTTPRequest: c.Next()
G:/gowork/src/github.com/gin-gonic/gin/gin.go:328 (0xaee403)
    (*Engine).ServeHTTP: engine.handleHTTPRequest(c)
C:/Go/src/net/http/server.go:2694 (0x7643ca)
    serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
C:/Go/src/net/http/server.go:1830 (0x75f118)
    (*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
C:/Go/src/runtime/asm_amd64.s:2361 (0x45bcb0)
    goexit: BYTE    $0x90   // NOP


2018/11/27 20:23:46 [Recovery] 2018/11/27 - 20:23:46 panic recovered:
GET / HTTP/1.1
Host: localhost:8080
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
Cache-Control: max-age=0
Connection: keep-alive
Cookie: pix_k=admin; pix_v=L5lsdrVKJmpAa21DGibdbA%3D%3D
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.110 Safari/537.36


write tcp [::1]:8080-&gt;[::1]:55736: i/o timeout
C:/Go/src/runtime/panic.go:505 (0x4300c7)
    gopanic: reflectcall(nil, unsafe.Pointer(d.fn), deferArgs(d), uint32(d.siz), uint32(d.siz))
G:/gowork/src/github.com/gin-gonic/gin/context.go:725 (0xae81de)
    (*Context).Render: panic(err)
G:/gowork/src/github.com/gin-gonic/gin/context.go:734 (0xae82a6)
    (*Context).HTML: c.Render(code, instance)
G:/gowork/src/ihaveadream/routers/routers.go:18 (0xaffa91)
    InitRouter.func1: g.HTML(http.StatusOK, ""index/index.html"", gin.H{
G:/gowork/src/github.com/gin-gonic/gin/context.go:108 (0xae3952)
    (*Context).Next: c.handlers[c.index](c)
G:/gowork/src/github.com/gin-gonic/gin/recovery.go:52 (0xafca97)
    RecoveryWithWriter.func1: c.Next()
G:/gowork/src/github.com/gin-gonic/gin/context.go:108 (0xae3952)
    (*Context).Next: c.handlers[c.index](c)
G:/gowork/src/github.com/gin-gonic/gin/logger.go:84 (0xafb889)
    LoggerWithWriter.func1: c.Next()
G:/gowork/src/github.com/gin-gonic/gin/context.go:108 (0xae3952)
    (*Context).Next: c.handlers[c.index](c)
G:/gowork/src/github.com/gin-gonic/gin/gin.go:362 (0xaee92c)
    (*Engine).handleHTTPRequest: c.Next()
G:/gowork/src/github.com/gin-gonic/gin/gin.go:328 (0xaee403)
    (*Engine).ServeHTTP: engine.handleHTTPRequest(c)
C:/Go/src/net/http/server.go:2694 (0x7643ca)
    serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
C:/Go/src/net/http/server.go:1830 (0x75f118)
    (*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
C:/Go/src/runtime/asm_amd64.s:2361 (0x45bcb0)
    goexit: BYTE    $0x90   // NOP
</code></pre>
","10711561","","2320961","","2018-11-27 19:36:03","2018-12-05 09:20:04","golang gin load html timeout","<go><gin>","2","1","","","","53500200","2253","2253","gin","315","5802757","5802756"
"53705933","1","53706103","","2018-12-10 12:44:42","","2","203","<p>Gin framework can not get the data from Postman,below is a demo:</p>

<pre><code>package main

import (
    ""fmt""
    ""github.com/gin-gonic/gin""
)



type CreateRequest struct {
    Username string `json:""username""`
    Phone    string `json:""phone""`
    Password string `json:""password""`
}


func Signup(c *gin.Context) {
    var r CreateRequest
    if err := c.Bind(&amp;r); err != nil {
        fmt.Println(err)
    }
    fmt.Println(""this is debug info:start"")
    fmt.Println(r.Username)
    fmt.Println(""this is debug info:end"")
}



func main() {
    r := gin.Default()

    r.POST(""/signup"", Signup)

    r.Run() // listen and serve on 0.0.0.0:8080
}
</code></pre>

<p>Send a request from postman:
<a href=""https://i.stack.imgur.com/v8IZ6.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/v8IZ6.png"" alt=""enter image description here""></a></p>

<p><strong>Debug info:</strong></p>

<p><a href=""https://i.stack.imgur.com/NegWX.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/NegWX.png"" alt=""enter image description here""></a></p>

<p>Where is the problem?<br>
What should I do?   </p>
","5305592","","","","","2018-12-10 12:57:44","Gin framework can not get the data from Postman","<go><gin>","1","1","","","","53705933","2253","2253","gin","315","5802757","5802756"
"53847364","1","53847678","","2018-12-19 08:36:56","","0","37","<pre><code>func WsConnectionHandle(ctx *gin.Context){
    ws, err := upgrader.Upgrade(ctx.Writer, ctx.Request, nil)
    if err != nil{
        config.Error.Println(""connect err"", err.Error())
        //config.Error.Fatalln(""connect err"")
        ctx.Abort() 
    }
    ...
</code></pre>

<p>when I use <code>ctx.Abort()</code> it still ran the code below, and if I use Fatalln, my main process will stop~</p>

<p>and this is my router</p>

<pre><code>gin.SetMode(gin.ReleaseMode)
route := gin.Default()
resource.User(route.Group(""/api/user""))
resource.KingAngAngle(route.Group(""/api/king-and-angle"", resource.JWTAuth()))
resource.Blessing(route.Group(""/api/blessing"", resource.JWTAuth()))
route.GET(""/ws"", chat.WsConnectionHandle)
</code></pre>
","10422555","","184201","","2018-12-19 08:37:40","2018-12-19 08:58:24","How can I close a websockethandle when it has an error","<go><websocket><gin>","1","1","","","","53847364","2253","2253","gin","315","5802757","5802756"
"53861878","1","","","2018-12-20 03:01:52","","0","303","<p>I've come across a scenario where </p>

<pre><code>func main (c *gin.Context){
    if err := g.Bind(&amp;data); err != nil {
            log.Fatalln(err)
            helper.TraceLog(err)
            helper.Fail(c, helper.INPUT_PARAMS_ERROR, """", err)
            return
    }
}

func Fail(c *gin.Context, errorCode string, result string, message interface{}) {
    response := Response{}
    response.Code = errorCode
    response.Result = message
    response.Message = result

    json.Marshal(response)
    c.JSON(http.StatusBadRequest, response)
}
</code></pre>

<p>Is it possible that I do not have to pass gin to Fail func? I've tried every solution I can think of and nothing works.</p>

<p>The reason I'm doing this is to make the code looks more simple and clean.</p>

<p>What I'm looking for is something like this:</p>

<pre><code>    func main (c *gin.Context){
        if err := g.Bind(&amp;data); err != nil {
                log.Fatalln(err)
                helper.TraceLog(err)
                helper.Fail(helper.INPUT_PARAMS_ERROR, """", err)
                return
        }
    }

    func Fail(errorCode string, result string, message interface{}) {
        var c *gin.Context

        response := Response{}
        response.Code = errorCode
        response.Result = message
        response.Message = result

        json.Marshal(response)
        c.JSON(http.StatusBadRequest, response)
    }
</code></pre>
","10594384","","10594384","","2018-12-20 14:02:39","2018-12-20 14:02:39","GoLang calling a function using gin without passing gin.Context","<go><gin>","0","5","","","","53861878","2253","2253","gin","315","5802757","5802756"
"53978746","1","53979023","","2018-12-30 15:09:32","","0","256","<p>On the client side I have code:</p>

<pre><code>    let response = await fetch('/getInfo', {
      credentials: 'same-origin',
      method: 'POST',
      body: JSON.stringify({filename: ""file.jpg""})
    });
</code></pre>

<p>Code on the server side:</p>

<pre><code>    fmt.Println(c.PostForm(""filename"")) // empty
</code></pre>

<p>Why is it empty? How to get value of c.PostForm(""filename"")?</p>
","5175272","","5175272","","2018-12-30 15:51:18","2018-12-30 15:51:18","Can't get post parameter in Golang from ajax request","<ajax><go><post><gin>","1","3","","","","53978746","2253","2253","gin","315","5802757","5802756"
"53990799","1","53990818","","2018-12-31 19:23:53","","1","315","<p>I'd like to get back the id of the last post inserted into MySql database using <code>sqlx</code>:</p>

<pre><code>resultPost, err := shared.Dbmap.Exec(""INSERT INTO post (user_id, description, link) VALUES (?, ?, ?)"", userID, title, destPath)
if err != nil {
    log.Println(err)
    c.JSON(
        http.StatusInternalServerError,
        gin.H{""error"": ""internal server error""})
}

fmt.Println(""resultPost is:"", resultPost)
</code></pre>

<p>The problem is that the <code>resultPost</code> is printed as an object:</p>

<pre><code>resultPost is: {0xc420242000 0xc4202403a0}
</code></pre>

<p>So I'm wondering what is the correct way to extract the id of the row just inserted?</p>
","5774375","","10676716","","2018-12-31 19:45:39","2018-12-31 19:45:39","How to get id of last inserted row from sqlx?","<mysql><go><gin><sqlx>","2","0","","","","53990799","2253","2253","gin","315","5802757","5802756"
"53992683","1","53995474","","2019-01-01 02:24:59","","0","137","<p>I'm trying to learn about the <strong>Golang</strong> language</p>

<p>Today I have a question about <strong>export a module in a package with typing</strong> in Golang.</p>

<p>Example, I'd like to export <code>UserCtrl</code> in <strong>package <code>controllers</code></strong>, and <strong>package <code>api</code></strong> can use <code>UserCtrl</code> when import package <code>controllers</code>. </p>

<p>Also I want to export <code>UserCtrl</code> with <strong>typing</strong>, that means in <code>api</code>, I can <strong>call named methods</strong>, example <code>UserCtrl.findOne()</code>, or <code>UserCtrl.findAll()</code>, <strong>not use <code>map[string]interface{}</code></strong>.</p>

<p>So I've created new type <code>UserCtrlType</code> as struct in Golang</p>

<pre><code>package controllers

import (
    ""github.com/gin-gonic/gin""
)

// UserCtrlType : Type controller for User
type UserCtrlType struct {
    FindAll           gin.HandlerFunc
    FindOneByID       gin.HandlerFunc
    FindOneByUsername gin.HandlerFunc
}

// UserCtrl : Controller for User
var UserCtrl = UserCtrlType{
    findAll,
    findOneByID,
    findOneByUsername,
}

func findAll(ctx *gin.Context) {

}

func findOneByID(ctx *gin.Context) {

}

func findOneByUsername(ctx *gin.Context) {

}
</code></pre>

<p>And in package <code>api</code>, I import <code>controller</code> and use:</p>

<pre><code>package api

import (
    Controllers ""github.com/huynhsamha/gin-go-app/controllers""

    ""github.com/gin-gonic/gin""
)

var userCtrl = Controllers.UserCtrl

func setUpUserRoutes(router *gin.RouterGroup) {
    router.GET(""/"", userCtrl.FindAll)
    router.GET(""/n/:username"", userCtrl.FindOneByUsername)
    router.GET(""/d/:id"", userCtrl.FindOneByID)
}
</code></pre>

<p>I'm working with <a href=""https://github.com/gin-gonic/gin"" rel=""nofollow noreferrer"">Gin</a>, therefore the struct <code>UserCtrlType</code> is <strong>repeated many times</strong> with type <code>gin.HandlerFunc</code>.</p>

<p>Is there any other way to resolve my problem, which can export <code>UserCtrl</code> (<strong>typed</strong>) and <strong>reduce repeating</strong> type <code>gin.HandlerFunc</code> declarations. </p>

<p>When I'm working on <strong>Node.JS</strong>, I found it is very simple to export modules. Can we simplify this issue in Golang?</p>

<h2>Edit</h2>

<p>I've found the answer for my problem. I'll close this question soon. Thank you.</p>
","8828489","","8828489","","2019-01-01 08:16:14","2019-01-01 12:36:04","How to shorten struct declaration with same type attributes in Golang?","<go><gin>","2","4","","","","53992683","2253","2253","gin","315","5802757","5802756"
"53998644","1","54000025","","2019-01-01 20:18:48","","0","102","<p>I have some code on the server:</p>

<pre><code>...
c.HTML(http.StatusOK, ""videos.html"", gin.H{
    ""files"": files, //slice
    ""errMessage"": errMessage,
})
...
</code></pre>

<p>And I have some code on the client:</p>

<pre><code>...
{{ range .files }}
&lt;tr&gt;
  &lt;td&gt;{{.}}&lt;/td&gt;
  &lt;td&gt;&lt;a href=""/download?filename={{.}}"" style=""color:blue;""&gt;Download&lt;/a&gt;&lt;/td&gt;
  &lt;td&gt;&lt;a href=""/delete?filename={{.}}"" style=""color:red;""&gt;Delete&lt;/a&gt;&lt;/td&gt;
  &lt;td&gt;&lt;button id=""{{.}}""&gt;&lt;/button&gt;&lt;/td&gt;
  {{ if .errMessage }} &lt;td style=""color:red;""&gt;Processing...&lt;/td&gt;
  {{ else }} &lt;td&gt;Done&lt;/td&gt; {{ end }}
&lt;/tr&gt;
{{ end }}
...
</code></pre>

<p>How to deal with .errMessage?</p>
","5175272","","","","","2019-01-02 00:28:34","How to show variable in Golang template inside range","<templates><go><gin>","1","1","","","","53998644","2253","2253","gin","315","5802757","5802756"
"54413032","1","","","2019-01-29 02:32:26","","0","210","<p>I want to do a A/B test in a Gin's middleware, I want to pass <code>url:usermeta</code> as a key-value to the A/B test service. How can I achieve this goal?Or any other grace way?</p>
","10831385","","","","","2019-01-29 07:17:09","How can I get url in Gin middleware?","<web><go><middleware><ab-testing><gin>","1","0","","","","54413032","2253","2253","gin","315","5802757","5802756"
"54414043","1","","","2019-01-29 04:52:32","","0","2265","<p>by following the tutorial I try to connect the frontend (React) to backend api (Gin), but the static.Serve doesnt work, error prompted as below:</p>

<pre><code>cannot use static.Serve(""/"", static.LocalFile(""./views"", true)) (type ""github.com/gin-gonic/gin"".HandlerFunc) as type ""github.com/supebirdgz/amgmt/vendor/github.com/gin-gonic/gin"".HandlerFunc in argument to router.Use
</code></pre>

<p>source:</p>

<pre><code>import (
    ""github.com/gin-gonic/gin""
    ""github.com/gin-gonic/contrib/static""
)

func main()  {
    router := gin.Default()
    router.Use(static.Serve(""/"", static.LocalFile(""./frontend"", true)))
    router.Run()
}
</code></pre>

<p>if something updated in Gin ? i tried replace static package with others, still the same. 
Any idea about that ?</p>
","10499507","","13860","","2019-01-29 06:59:20","2019-01-29 07:01:50","How to serve statics files in Gin","<go><gin>","1","2","","2019-02-12 11:10:05","","54414043","2253","2253","gin","315","5802757","5802756"
"54625867","1","","","2019-02-11 07:38:10","","-3","96","<p>I have problem , after I connection to sql server , they print <code>&lt;nil&gt;</code> , what wrong with my code or problem with my connection  to sql server because they just print <code>&lt;nil&gt;</code>?</p>

<p>error can see in here <a href=""https://i.stack.imgur.com/OUSJc.png"" rel=""nofollow noreferrer"">enter image description here</a></p>

<pre class=""lang-golang prettyprint-override""><code>package main

import (
    ""database/sql""
    ""fmt""
    _ ""github.com/denisenkom/go-mssqldb""
    ""github.com/gin-gonic/gin""
    ""net/http""
)

func main()  {
    db, err :=  sql.Open(""sqlserver"",""sqlserver://sa:@localhost:1433?database=CONFINS&amp;connection+timeout=30"")
    if err != nil{
        fmt.Print(err.Error())
    }


    err = db.Ping()

    if err != nil {
        fmt.Print(err.Error())
    }
    defer db.Close()

    type SMSBlast struct {
        SequenceID  string
        MobilePhone string
        Output  string
        WillBeSentDate string
        SentDate string
        Status string
        DtmUpd string
    }

    router := gin.Default()

    //Get a SMSBlast  detail
    router.GET(""/SMSBlast2/:SequenceID"", func(context *gin.Context) {
        var(
            smsblast SMSBlast
            result gin.H
        )

        SequenceID := context.Param(""SequenceID"")
        fmt.Println(db.Ping())
        row := db.QueryRow(""select SequenceID, MobilePhone, Output, WillBeSentDate, SentDate, Status, DtmUpd from SMSBlast2 = ?;"",SequenceID)
        err = row.Scan(&amp;smsblast.SequenceID, &amp;smsblast.MobilePhone, &amp;smsblast.Output, &amp;smsblast.WillBeSentDate, &amp;smsblast.SentDate, &amp;smsblast.Status, &amp;smsblast.DtmUpd)
        if err != nil{
            //if no results send null
            result = gin.H{
                ""result"": nil,
                ""count"":  0,
            }
            }else{
                result = gin.H{
                    ""result"" : smsblast,
                    ""count"" : 1,
                }
            }

        context.JSON(http.StatusOK, result)
    })
    router.Run("":8080"")

}
</code></pre>
","10470905","","579078","","2019-02-11 07:53:27","2019-02-11 08:15:35","why after I connection to sql server with library golang go-mssqldb , they print <nil>?","<go><gin>","1","6","","","","54625867","2253","2253","gin","315","5802757","5802756"
"55088810","1","","","2019-03-10 14:41:41","","0","361","<p>We are using gin to expose some REST APIs in production. Now I have to do some stuff once the HTTP server starts.</p>

<p>I am not very familiar with channels, but given below code is what I'm trying to do. Once the <code>startHTPPRouter()</code> starts the HTTP service, I want to send a signal to <code>main()</code>. Based on that signal I want to do some other stuffs.</p>

<p>Please let me know what wrong I'm doing in the given below code.</p>

<pre><code>func startHTTPRouter(routerChannel chan bool){
    router := gin.New()
    // Many REST API routes definitions
    router.Run(""&lt;port&gt;"")
    routerChannel &lt;- true  // Is this gonna work ? Because Run() again launches a go routine for Serve()
}

func main() {
    routerChannel := make(chan bool)
    defer close(routerChannel)
    go startHTTPRouter(routerChannel )
    for {
        select {
        case &lt;-routerChannel:
            doStuff()  // Only when the REST APIs are available.
            time.Sleep(time.Second * 5)
        default:
            log.Info(""Waiting for router channel..."")
            time.Sleep(time.Second * 5)
        }
    }
}
</code></pre>
","632074","","13860","","2019-03-10 14:45:48","2019-03-10 16:04:06","Wait for gin HTTP server to start","<go><channel><httpserver><goroutine><gin>","1","1","","","","55088810","2253","2253","gin","315","5802757","5802756"
"55103925","1","","","2019-03-11 14:18:36","","0","74","<p>When i use golang gin, read file data using:</p>

<pre><code>file, fileHeader, err:=ctx.Request.FormFile(""blabla..."")
</code></pre>

<p>Do I need to write these:</p>

<pre><code>defer file.Close()
</code></pre>

<p>?</p>

<p>I jump to the source code, it says:</p>

<pre><code>// Open opens and returns the FileHeader's associated File.
func (fh *FileHeader) Open() (File, error) {
        if b := fh.content; b != nil {
                r := io.NewSectionReader(bytes.NewReader(b), 0, int64(len(b)))
                fmt.Printf(""TODDLINE:152\n"")
                fmt.Printf(""TODDLINE:154:fmpfile:%#v\n"", fh.tmpfile)
                fmt.Printf(""TODDLINE:154:Filename:%#v\n"", fh.Filename)
                return sectionReadCloser{r}, nil
        }
        fmt.Printf(""TODDLINE:155\n"")
        return os.Open(fh.tmpfile)
}
</code></pre>

<p>If it uses os.Open, I guess I must close the file, but if it retuns the sectionReadCloser{r}, the Close function shows like this:</p>

<pre><code>func (rc sectionReadCloser) Close() error {
        return nil
}
</code></pre>

<p>The close function of seciontReadCloser doesn't do anything.
And I find that it does return the sectionReadCloser{r}.
I guess I should close the file, but I still want to know when it will return the os.Open. I will keep going to read the source code and try to understand it. It would be nice if someone gives me some advice. </p>
","10758815","","13860","","2019-03-11 14:48:26","2019-03-11 14:48:26","Does the file need to be closed?","<go><file-upload><gin>","1","0","","","","55103925","2253","2253","gin","315","5802757","5802756"
"55217793","1","","","2019-03-18 09:06:53","","1","285","<p>I have big structure with more than 50 params</p>

<pre><code>type Application struct {
    Id                  int64   `json:""id""`
    FullName            string  `json:""fullName,omitempty""`
    ActualAddress       string  `json:""actualAddress,omitempty""`
.....
}
</code></pre>

<p>I use gin-gonic and when I return <code>application</code> I need to omit some params I've created a function which makes empty some params (<a href=""https://play.golang.org/p/n_cyxa1WW7h"" rel=""nofollow noreferrer"">playLink</a>) and then gin returns me correct json (without unnecessary values). I heard that reflection isn't fast operation so in our case we can use a lot of ugly if-else or switch-cases. Is there any other solutions faster than reflecting and more beautiful than if-elses?</p>

<p>The thing is that structure params have non-empty values, so they wont by omitted by gin. That's why I've created function to make some params empty before return</p>
","4252996","","13860","","2019-03-18 10:38:06","2019-03-18 10:38:06","How to omit some parameters of structure Gin gonic","<go><struct><reflection><gin><gin-gonic>","2","5","","","","55217793","2253","2253","gin","315","5802757","5802756"
"55320288","1","55320358","","2019-03-24 02:41:46","","-4","998","<p>I have an error ""cannot use phone (type string) as type int in assignment"",
how to fix this?</p>

<p>I use in github.com/gin-gonic/gin and github.com/jinzhu/gor</p>

<pre class=""lang-golang prettyprint-override""><code>    package main

    import (
        ""github.com/jinzhu/gorm""
        ""github.com/gin-gonic/gin""
    )

    type Employees struct {
        gorm.Model
        Phone int
    }

    func (idb *InDB) CreateEmployees(c *gin.Context) {
        var (
            em models.Employees
            result gin.H
      )

      phone := c.PostForm(""phone"")
      em.Phone = phone

      result = gin.H {
            ""result"": em,
        }
        c.JSON(http.StatusOK, result)
    }
</code></pre>
","7281140","","8685016","","2019-03-29 09:07:07","2019-03-29 09:07:07","cannot use phone (type string) as type int in assignment","<go><go-gorm><gin>","1","1","","2019-03-24 03:17:42","","55320288","2253","2253","gin","315","5802757","5802756"
"55347167","1","","","2019-03-25 22:12:51","","0","510","<p>i've got a golang REST API, which implements <code>gin-contrib/cors</code>. But when i call a POST request the preflight request (OPTIONS) returns a 404 result. </p>

<p>Here's a snippet of the implementation:</p>

<pre><code>engine := gin.New()
group := engine.Group(""/api/v1"")

// Recovery middleware recovers from any panics and writes a 500 if there was one.
group.Use(gin.Recovery())

// Set cors and db middleware
engine.Use(cors.New(cors.Config{
    AllowOrigins:     []string{""*""},
    AllowMethods:     []string{""*""},
    AllowHeaders:     []string{""*""},
    AllowCredentials: true,     
    MaxAge: 12 * time.Hour,
}))

// Register routes
group.POST(""/customers"", ctrl.SendRequest)

</code></pre>
","8054330","","","","","2019-05-28 18:48:34","gin-contrib/cors returns 404","<go><cors><gin>","3","2","","","","55347167","2253","2253","gin","315","5802757","5802756"
"55429756","1","","","2019-03-30 08:56:22","","0","360","<p>My webapp structure:</p>

<pre><code>- gin-cource
   - src
   - templates
      - tmpl1
          file.html
          *.html
      - tmpl2
          file.html
          *.html
</code></pre>

<p>When I run it I get the panik</p>

<pre><code>html/template: pattern matches no files: `templates/**/*.html` 
... 
c:/users/user/go/src/gin-course/src/main.go:11 +0x50
</code></pre>

<p>The code:</p>

<pre><code>r := gin.Default()
r.LoadHTMLGlob(""templates/**/*.html"") // line 11
</code></pre>

<p>I've tried different paths to templates in the go code: <code>""/templates/**/*.html"", ""src/templates/**/*.html"" ""gin-cource/src/templates/**/*.html""</code>
But they were not suited. </p>

<p>What is the right path to templates?</p>
","5829191","","13860","","2019-03-31 09:22:28","2019-03-31 09:22:28","pattern matches no files","<go><go-templates><gin>","0","3","","","","55429756","2253","2253","gin","315","5802757","5802756"
"55431971","1","","","2019-03-30 13:35:26","","0","30","<p>There is a function</p>

<pre><code>func registerRoutes() *gin.Engine {
    r := gin.Default() // data type is *gin.Engine
    r.LoadHTMLGlob(""templates/*"")
    ...
    return r // data type is *gin-gin.Engine
}
</code></pre>

<p>What have I missed and why the same object has two different data types?
In the beginning router is <code>*gin.Engine</code> and in the end it is <code>*gin-gin.Engine</code>.</p>

<p>Let's look at the line of code:</p>

<pre><code>r := gin.Default()
</code></pre>

<p>Returning type of <code>Default()</code> is <code>*gin.Engine</code> but LiteIDE shows that <code>r</code> is a 
<code>*gin-gin.Engine</code> type. So what does it mean?</p>
","5829191","","13860","","2019-03-31 09:22:12","2019-03-31 09:22:12","Data type is not the same","<go><gin><liteide>","0","6","","","","55431971","2253","2253","gin","315","5802757","5802756"
"55760379","1","55760598","","2019-04-19 10:24:31","","0","609","<pre><code>import ""github.com/gin-gonic/gin""

func Receive(c *gin.Context) {
  // Gets JSON ecnoded data
  rawData, err := c.GetRawData()
  if err != nil {
      return nil, err
  }

  logger.Info(""Raw data received - "", rawData)
}
</code></pre>

<p>This code snippet works when I pass a Json object <strong>{""key"":""value""}</strong> but gives an error - <strong>""unexpected end of JSON input""</strong> when I pass an array like - <strong>[{""key"":""val""},{""key"": ""val""}]</strong> as the input.</p>

<p>Any help on this would be appreciated.</p>
","1809976","","","","","2019-04-19 10:43:37","Gin framework for Golang has issues with an array of json objects being passed in the post request","<go><gin>","1","5","","","","55760379","2253","2253","gin","315","5802757","5802756"
"55764788","1","","","2019-04-19 16:20:50","","2","588","<p>I deleted the object and want it's ID deleted too in a relationship table. How do I do it?
i.e. objects with relations are deleted but the tables of their relations remain.</p>

<p><a href=""https://i.stack.imgur.com/7RLPv.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/7RLPv.png"" alt=""enter image description here""></a></p>

<p>Also wanted to ask, GORM is the best ORM solution for Go-Gin ?</p>
","7999371","","8685016","","2019-04-24 00:09:55","2019-04-24 00:09:55","How to delete a table with relationships in GORM?","<go><go-gorm><gin>","1","4","","","","55764788","2253","2253","gin","315","5802757","5802756"
"55803040","1","","","2019-04-23 01:19:48","","1","856","<p>I want to create a function to process anykind of forms.
I want it to be able to handle any kind of data types.
Im trying to use a interface to do this task.</p>

<pre><code>type Person struct {
    name        string 
    lastName    string
}


func HTMLForm(c *gin.Context) {
    var f Person
    c.ShouldBind(&amp;f)
    c.JSON(http.StatusOK, f)
}

// with this function i get the correct info

// output: {""name"":""john"",""lastName"":""snow""}

func HTMLForm(c *gin.Context) {
    var f interface{}
    c.ShouldBind(&amp;f)
    c.JSON(http.StatusOK, f)
}

// when i use the interface to make it usefull for any type of that
// i get null

// output: null

func HTMLForm(c *gin.Context) {
    var f interface{}
    ShouldBindJSON(f)
    c.JSON(http.StatusOK, f)
}

// output: null
</code></pre>

<p>I want to get, with the interface, the same output I get with ""Person"" data type.</p>

<pre><code>// Another example of how i am using f

type Login struct {
    User     string 
    Password string 
}

func main() {
    router := gin.Default()

    router.POST(""/loginForm"", func(c *gin.Context) {
        var f interface{}

        if err := c.ShouldBind(&amp;f); err != nil {
            c.JSON(http.StatusBadRequest, gin.H{""error"": err.Error()})
            return
        }

        c.JSON(http.StatusOK, f)
    })

    // Listen and serve on 0.0.0.0:8080
    router.Run("":8080"")
}

// output: null
</code></pre>

<p>///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
Update</p>

<p>I want to try to explain my problem better.
Maybe this update it's more clear.</p>

<pre><code>// Golang code
package main

import (
    ""net/http""

    ""github.com/gin-gonic/gin""
)

// Binding from JSON
type Login struct {
    User     string `form:""user"" json:""user"" xml:""user""  binding:""required""`
    Password string `form:""password"" json:""password"" xml:""password"" binding:""required""`
}

func main() {
    router := gin.Default()

    router.LoadHTMLGlob(""templates/*"")

    router.GET(""/login"", GetLogin)
    router.POST(""/loginJSON"", PostJSONForm)
    router.POST(""/loginXML"", PostXMLForm)
    router.POST(""/loginForm"", PostHTMLForm)

    /*
        sudo lsof -n -i :8080
        kill -9 &lt;PID&gt;
    */
    router.Run("":8080"")
}

func GetLogin(c *gin.Context) {
    c.HTML(http.StatusOK, ""login.tmpl"", nil)
}

// Example for binding JSON ({""user"": ""manu"", ""password"": ""123""})
// curl -v -X POST http://localhost:8080/loginJSON -H 'content-type: application/json' '{ ""user"": ""manu"", ""password""=""123"" }'
func PostJSONForm(c *gin.Context) {
    //var json Login
    var json interface{}
    //var form map[string]interface{}

    if err := c.ShouldBindJSON(&amp;json); err != nil {
        c.JSON(http.StatusBadRequest, gin.H{""error"": err.Error()})
        return
    }

    /*
        if json.User != ""manu"" || json.Password != ""123"" {
            c.JSON(http.StatusUnauthorized, gin.H{""status"": ""unauthorized""})
            return
        }
        c.JSON(http.StatusOK, gin.H{""status"": ""you are logged in""})
    */

    c.JSON(http.StatusOK, ""json"")
    c.JSON(http.StatusOK, json)
}

// Example for binding XML (
//  &lt;?xml version=""1.0"" encoding=""UTF-8""?&gt;
//  &lt;root&gt;
//      &lt;user&gt;user&lt;/user&gt;
//      &lt;password&gt;123&lt;/password&gt;
//  &lt;/root&gt;)
// curl -v -X POST http://localhost:8080/loginXML -H 'content-type: application/json' -d '{ ""user"": ""manu"", ""password""=""123"" }'
func PostXMLForm(c *gin.Context) {
    //var xml Login
    var xml interface{}
    //var form map[string]interface{}

    if err := c.ShouldBindXML(&amp;xml); err != nil {
        c.JSON(http.StatusBadRequest, gin.H{""error"": err.Error()})
        return
    }

    /*
        if xml.User != ""manu"" || xml.Password != ""123"" {
            c.JSON(http.StatusUnauthorized, gin.H{""status"": ""unauthorized""})
            return
        }
        c.JSON(http.StatusOK, gin.H{""status"": ""you are logged in""})
    */

    c.JSON(http.StatusOK, ""xml"")
    c.JSON(http.StatusOK, xml)
}

// Example for binding a HTML form (user=manu&amp;password=123)
// curl -v -X POST http://localhost:8080/loginForm -H 'content-type: application/json' -d '{ ""user"": ""manu"", ""password"":""123"" }'
func PostHTMLForm(c *gin.Context) {
    //var form Login
    var form interface{}
    //var form map[string]interface{}

    // This will infer what binder to use depending on the content-type header.
    if err := c.ShouldBind(&amp;form); err != nil {
        c.JSON(http.StatusBadRequest, gin.H{""error"": err.Error()})
        return
    }

    /*
        if form.User != ""manu"" || form.Password != ""123"" {
            c.JSON(http.StatusUnauthorized, gin.H{""status"": ""unauthorized""})
            return
        }
        c.JSON(http.StatusOK, gin.H{""status"": ""you are logged in""})
    */

    c.JSON(http.StatusOK, ""html"")
    c.JSON(http.StatusOK, form)
}

//Template
&lt;h1&gt;Login&lt;/h1&gt;
&lt;form action=""/loginForm"" method=""POST""&gt;
    &lt;label&gt;user:&lt;/label&gt;&lt;br&gt;
    &lt;input type=""text"" name=""user""&gt;&lt;br&gt;

    &lt;label&gt;password:&lt;/label&gt;&lt;br&gt;
    &lt;input type=""text"" name=""password""&gt;&lt;br&gt;

    &lt;input type=""submit""&gt;
&lt;/form&gt;
</code></pre>

<ol>
<li><p>I have tried all this different variations. Just one works, I explain more below.</p></li>
<li><p>It works perfect if I use ""var form Login"" instead of ""var from interface{}"". But I need it to be able to work with any data type, so I need it to work with interface{}.</p></li>
<li><p>I have had a ""successful"" output, just with one of interface{} tries:</p></li>
</ol>

<p>$ curl -X POST <a href=""http://localhost:8080/loginForm"" rel=""nofollow noreferrer"">http://localhost:8080/loginForm</a> -H 'content-type: application/json' -d '{ ""user"": ""manu"", ""password"":""123"" }'</p>

<p>output:""html""{""password"":""123"",""user"":""manu""}</p>

<ol start=""4"">
<li>But when I use it on a HTML form, on a browser, with that template I posted i get:</li>
</ol>

<p>output: ""html""null</p>

<ol start=""5"">
<li>Im not sure if what I get (point 3) its really a sucessfull output. When I use the Login var, it works fine, with curl and brower, the output it's inverted:</li>
</ol>

<p>$  curl -X POST <a href=""http://localhost:8080/loginForm"" rel=""nofollow noreferrer"">http://localhost:8080/loginForm</a> -H 'content-type: application/json' -d '{ ""user"": ""manu"", ""password"":""123"" }'</p>

<p>ouput:""html""{""user"":""manu"",""password"":""123""}</p>

<p>This is all information I could get till now.</p>
","9223951","","9223951","","2019-04-23 14:32:01","2019-04-23 14:32:01","How to make a generic form function for froms with interfeces with gin (framework) and golang?","<forms><go><interface><gin><gin-gonic>","1","1","","","","55803040","2253","2253","gin","315","5802757","5802756"
"55808776","1","","","2019-04-23 10:04:47","","-3","378","<p>I am working on the golang app using gin framework. Basically it just fetch the data from firestore as json.</p>

<p>Localy it works perfectly but when I deploy it to the GAE (gcloud app deploy) there is no error during deployment but when access the page it does not work and in the logs provide an error: ""panic: runtime error: invalid memory address or nil pointer dereference""</p>

<p>Can you please help me to resolve this frustrating problem.</p>

<p>Thank you in advance</p>

<p>Here is my go page:</p>

<p>package listcollections</p>

<pre><code>import (
    ""fmt""
    ""log""
    ""net/http""

    ""cloud.google.com/go/firestore""
    ""github.com/gin-gonic/gin""
    ""google.golang.org/api/iterator""
    ""google.golang.org/appengine""
)

func main() {

}

//GetListCollections function

func GetListCollections(c *gin.Context) {

    var coll []string
    ctx := appengine.NewContext(c.Request)

    projectID := ""XXX""
    client, err := firestore.NewClient(ctx, projectID)
    if err != nil {
        log.Fatalf(""Failed to create client: %v"", err)
    }
    defer client.Close()

    iter := client.Collection(""collection"").Documents(ctx)

    for {

        doc, err := iter.Next()

        if err == iterator.Done {
            break
        }
        if err != nil {
            fmt.Println(""ERROR"")
        }

        coll = append(coll, doc.Data()[""Title""].(string))

    }

    c.JSON(http.StatusOK, gin.H{
        ""collections"": coll,
    })

}
</code></pre>
","11398972","","6225565","","2019-04-23 11:35:46","2019-04-23 12:13:15","panic: runtime error: invalid memory address or nil pointer dereference only on the GAE","<google-app-engine><go><gin>","1","2","","","","55808776","2253","2253","gin","315","5802757","5802756"
"55850694","1","55852216","","2019-04-25 13:41:47","","3","728","<p>I want to create an application that will call a boolean function and depending on the result provide 1 of 2 compiled react apps as static sites.</p>

<p>I'm using the LoadHTMLGlob function recommended by gin and it works fine with .tmpl files like the example in thier docs. However when doing just static html with a static directory for each site nothing seems to go well.</p>

<p>File Structure:</p>

<pre><code> main.go
 sites
     new
      index.html
      static
     old
         index.html
         static
</code></pre>

<p>Go Code:</p>

<pre class=""lang-golang prettyprint-override""><code>func main() {
    r := gin.Default()
    //r.LoadHTMLFiles(""sites/old/index.html"", ""sites/new/index.html"") //doesn't complain, but can't load html
    r.LoadHTMLGlob(""sites/**/*"") // complains about /static being a dir on boot
    r.GET(""/sites/lib"", func(c *gin.Context) {
        id := c.Query(""id"")
        useNewSite, err := isBetaUser(id)
        if err != nil {
            c.AbortWithStatusJSON(500, err.Error())
            return
        }
        if useNewSite {
            c.HTML(http.StatusOK, ""new/index.html"", nil)
        } else {
            c.HTML(http.StatusOK, ""old/index.html"", nil)
        }
    })
    routerErr := r.Run("":8080"")
    if routerErr != nil {
        panic(routerErr.Error())
    }
}
</code></pre>

<p>I expect that when isBetaUser comes back as true it should load the static content under sites/new otherwise load sites/old.</p>

<p>However loading globs produces:
<code>panic: read sites/new/static: is a directory</code>
when starting panics.</p>

<p>Loading the html files individually (commented out above)
Runs fine, but when a request comes it panics with:</p>

<pre><code>html/template: ""new/index.html"" is undefined
</code></pre>

<p>I've also string using sites/[old||new]/index.html in c.HTML</p>
","11410848","","","","","2019-04-25 14:56:37","How to serve two static sites with gin in golang?","<go><gin><static-html>","2","4","","","","55850694","2253","2253","gin","315","5802757","5802756"
"55892159","1","","","2019-04-28 16:15:45","","0","289","<p>I have two web page on golang and I want to embed this pages codes to {{.content}} variable (defined in templates/main.html) being with dynamic according to the coming requests.</p>

<p>For example if the guest enter the userregister page I want to the {{.content}} variable will be userregister codes otherwise userprofile codes.</p>

<p>templates/userregister.html page codes;</p>

<pre><code>{{ define ""userregister"" }}
   ...
   {{.specialmessage}}
   ...
{{ end }}
</code></pre>

<p>templates/userprofile.html page codes;</p>

<pre><code>{{ define ""userprofile"" }}
   ...
   {{.specialmessage}}
   ...
{{ end }}
</code></pre>

<p>templates/main.html;</p>

<pre><code>{{ define ""main"" }}
&lt;!DOCTYPE html&gt;
&lt;html lang=""tr""&gt;
    {{ template ""head"" . }}
    &lt;body&gt;
        &lt;div class=""container-fluid""&gt;
            {{ template ""header"" . }}
            &lt;div class=""row""&gt;
                &lt;nav class=""col-12 col-md-2 p-0""&gt;
                    {{ template ""leftmenu"" . }}
                &lt;/nav&gt;
                &lt;div class=""container-fluid col-12 col-md-10""&gt;


                    {{.content}}


                &lt;/div&gt;
            &lt;/div&gt;
            {{ template ""footer"" . }}
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
{{ end }}
</code></pre>

<p>The userregister page controller;</p>

<pre><code>func PgUserRegister(c *gin.Context) {
    c.HTML(http.StatusOK,""main"", gin.H{
        ""pgETitle"": ""User Register page"",
        ""specialmessage"": ""You are on the userregister page."",

        ""content"": template.ParseFiles(""userregister.html""),
    })
}
</code></pre>

<p>The userprofile page controller;</p>

<pre><code>func PgUserProfile(c *gin.Context) {
    c.HTML(http.StatusOK,""main"", gin.H{
        ""pgETitle"": ""User Profile"",
        ""specialmessage"": ""You are on the userprofile page."",

        ""content"": template.ParseFiles(""userprofile.html""),
    })
}
</code></pre>
","4399174","","","","","2019-04-28 16:26:33","How to set web template variable to a dynamic html&golang code?","<go><web><web-frameworks><gin><gin-gonic>","1","0","1","","","55892159","2253","2253","gin","315","5802757","5802756"
"55973623","1","55973743","","2019-05-03 16:12:16","","2","494","<p>I want to have a parameter with slashes in the router in gin.</p>

<p>From what I gathered I can do this by adding a wildcard to the URL. For example: /api/v0/files/*addr </p>

<p>But this approach doesn't work if I want to have the addr in the middle of the URL and it returns this error <code>catch-all routes are only allowed at the end of the path</code>. Like: /api/v0/*addr/files </p>

<p>I was wondering whether there is another way of having it?</p>
","8337498","","","","","2019-05-03 16:20:33","How can I have a parameter with slashes in gin url","<go><gin>","1","0","","","","55973623","2253","2253","gin","315","5802757","5802756"
"56101635","1","","","2019-05-12 17:17:28","","0","73","<p>I have a microservice which outputs following as a response. 
It's an HTTP_GET request which serves on <code>http://localhost:8050/location?company=5</code></p>

<pre><code>curl -X GET http://localhost:8050/location?company=5
</code></pre>

<pre><code>{
    ""locations"": [
        { ""key"": ""1050"", ""lat"": 24.000000000, ""lon"": 46.000000000 },
        { ""key"": ""1254"", ""lat"": 24.999999999, ""lon"": 46.999999999 }
    ]
}
</code></pre>

<p>And I also have a HTTP_POST request, which accepts list of keys and returns relevent branch details.
it serves on <code>http://localhost:8060/branches</code> and accepts a json array.</p>

<pre><code>curl -X POST http://localhost:8060/branches -H 'Content-Type: application/json' -d '[""1050"",""1254""]'
</code></pre>

<p>and the output would be</p>

<pre><code>{
    ""branches"": [
        { ""key"": ""1050"", ""branch_name"": ""DC"", ""telephone"": ""+1 11 111 111"" },
        { ""key"": ""1254"", ""branch_name"": ""LA"", ""telephone"": ""+1 22 222 222"" }
    ]
}
</code></pre>

<p>and I need the final merged output as following</p>

<pre><code>{
    ""branches"": [
        { ""key"": ""1050"", ""branch_name"": ""DC"", ""telephone"": ""+1 11 111 111"" },
        { ""key"": ""1254"", ""branch_name"": ""LA"", ""telephone"": ""+1 22 222 222"" }
    ],
    ""locations"": [
        { ""key"": ""1050"", ""lat"": 24.000000000, ""lon"": 46.000000000 },
        { ""key"": ""1254"", ""lat"": 24.999999999, ""lon"": 46.999999999 }
    ]
}
</code></pre>

<p>I'm developing an api gateway using krakend and it'll do the above and serves on <code>http://localhost:8080/findBranches?company=2</code><br>
Here is my <code>krakend-config.json</code></p>

<pre><code>{
    ""version"": 2,
    ""extra_config"": {},
    ""timeout"": ""3000ms"",
    ""cache_ttl"": ""300s"",
    ""output_encoding"": ""json"",
    ""name"": ""sample"",
    ""endpoints"": [
      {
        ""endpoint"": ""/findBranches"",
        ""method"": ""GET"",
        ""extra_config"": {
          ""github.com/devopsfaith/krakend/proxy"": {
            ""sequential"": true
          }
        },
        ""headers_to_pass"": [ ""*"" ],
        ""querystring_params"": [ ""company"" ],
        ""output_encoding"": ""json"",
        ""concurrent_calls"": 1,
        ""backend"": [
          {
            ""url_pattern"": ""/location"",
            ""encoding"": ""json"",
            ""method"": ""GET"",
            ""host"": [ ""http://localhost:8050"" ],
            ""disable_host_sanitize"": true
          },
          {
            ""url_pattern"": ""/branches"",
            ""encoding"": ""json"",
            ""method"": ""POST"",
            ""host"": [ ""http://localhost:8060"" ],
            ""disable_host_sanitize"": false
          }
        ]
      }
    ]
}
</code></pre>

<p>How do I manipulate the response of 1st backend and send it to the post request of the second?</p>
","1771375","","","","","2019-05-12 17:17:28","passing response to a sequential request (HTTP_GET -> HTTP_POST)","<go><api-gateway><gin>","0","0","","","","56101635","2253","2253","gin","315","5802757","5802756"
"56140303","1","56140631","","2019-05-15 00:31:35","","1","49","<p>I am trying to fetch all data from a table. It returns all data but it is displaying only the last record. I am using GORM and GIN with Golang.</p>

<p>I tried to create a struct and pass that struct to the <code>Find</code> method.</p>

<pre class=""lang-golang prettyprint-override""><code>type MpCountry struct{
        id uint
        Iso string
        Name string
        Nicename string
        Iso3 string
        Numcode uint
        phonecode uint
}
</code></pre>

<p>Code:</p>

<pre class=""lang-golang prettyprint-override""><code>countries:=  DbModel.MpCountry{}
DbModel.DB.Debug().Find(&amp;countries)
fmt.Println(countries)
fmt.Println(""test"")
log.Printf(""%+v"", countries)
return  &amp;countries
</code></pre>

<p>Output</p>

<pre><code>SELECT * FROM `mp_countries`
[239 rows affected or returned ]

{id:0 Iso:ZW Name:ZIMBABWE Nicename:Zimbabwe Iso3:ZWE Numcode:716 phonecode:0}
</code></pre>
","10689245","","10689245","","2019-09-05 17:26:45","2019-09-05 17:26:45","How to display all records using struct","<go><go-gorm><gin>","1","0","","","","56140303","2253","2253","gin","315","5802757","5802756"
"56200925","1","","","2019-05-18 16:37:52","","0","1070","<p>So i have a struct :</p>

<pre><code>type ProductConstructed struct {
    Name string `json:""Name""`
    BrandMedals []string `json:""BRAND_MEDALS""`
}
</code></pre>

<p>When i return my object with gin and : </p>

<pre><code>func  contructproduct(c *gin.Context) {
    var response ProductConstructed 
    response.Name = ""toto""

    c.JSON(200, response)
}

func main() {
    var err error
    if err != nil {
        panic(err)
    }
    //gin.SetMode(gin.ReleaseMode)
    r := gin.Default()
    r.POST(""/constructProductGo/v1/constructProduct"", contructproduct)
    r.Run("":8200"") // listen and serve on 0.0.0.0:8080
}
</code></pre>

<p>It returns me : </p>

<blockquote>
  <p>null</p>
</blockquote>

<p>instead of </p>

<blockquote>
  <p>[]</p>
</blockquote>

<p>How to return an empty array ?</p>

<p>Regards</p>
","462794","","","","","2019-05-18 17:00:35","Return an empty array instead of null with golang for json return with gin","<json><go><gin>","1","1","","","","56200925","2253","2253","gin","315","5802757","5802756"
"56410895","1","56411381","","2019-06-01 22:30:22","","-2","186","<p>I want to have a route with gin that will send an image (jpeg) as the response but instead of sending the original image that's saved to disk I would like to resize it first (to a thumbnail size).</p>

<p>So far I can send images using <code>c.File(filepath string)</code> but that doesn't allow me to resize the image. Is there any way to do that without having to create a new file on the disk?</p>
","5131438","","13860","","2019-06-02 19:53:33","2019-06-02 19:53:33","Resize image before sending","<go><gin>","1","1","","","","56410895","2253","2253","gin","315","5802757","5802756"
"56455221","1","","","2019-06-05 06:26:52","","0","79","<p>Gin Get 200 OK status, but no data get on the page.</p>

<p><a href=""https://i.stack.imgur.com/i3m5U.png"" rel=""nofollow noreferrer"">click me to see the error page</a></p>

<pre class=""lang-sh prettyprint-override""><code>$ go run main.go
[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in ""debug"" mode. Switch to ""release"" mode in production.
 - using env:   export GIN_MODE=release
 - using code:  gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /api/v1/ping              --&gt; goGin/app/routers/api/v1.Hello (3 handlers)
[GIN-debug] GET    /api/v1/assets            --&gt; goGin/app/routers/api/v1.GetAssets (3 handlers)
2019/06/05 16:05:06 [info] start http server listening :8880
[GIN] 2019/06/05 - 16:05:13 | 200 |    437.8697ms |             ::1 | GET      /api/v1/assets
[GIN] 2019/06/05 - 16:05:13 | 200 |    551.5161ms |             ::1 | GET      /api/v1/assets
[GIN] 2019/06/05 - 16:05:19 | 200 |    202.4586ms |             ::1 | GET      /api/v1/assets
</code></pre>

<p>when I try to comment <code>assets, err := au.GetAllAssets()</code> in routers, it can post hello data and /api/v1/ping works fine.</p>

<p>Routers</p>

<pre class=""lang-golang prettyprint-override""><code>package routers

import (
    ""github.com/gin-gonic/gin""
    _ ""go-gin-example/docs""
    ""goGin/app/routers/api/v1""
)

// InitRouter initialize routing information
func InitRouter() *gin.Engine {
    r := gin.Default()

    apiv1 := r.Group(""/api/v1"")
    //apiv1.Use(jwt.JWT())
    {
        apiv1.GET(""/ping"", v1.Hello)
        apiv1.GET(""/assets"", v1.GetAssets)
    }

    return r
}

</code></pre>

<pre class=""lang-golang prettyprint-override""><code>package v1

import (
    ""net/http""
    ""fmt""
    ""github.com/gin-gonic/gin""
    ""goGin/app/service/asset_service""
)

func GetAssets(c *gin.Context) {
    au:= asset_service.NewAssetService()
    assets, err := au.GetAllAssets()
    if err != nil {
        c.AbortWithStatus(404)
        fmt.Println(err)
    } else {
        c.JSON(http.StatusOK, gin.H {
            ""status"": http.StatusOK,
            ""data"": assets[0],
        })
    }
}

func Hello(c *gin.Context) {
    c.JSON(http.StatusOK, gin.H {
        ""status"": http.StatusOK,
        ""message"": ""pong"",
    })
}
</code></pre>

<p>Service</p>

<pre class=""lang-golang prettyprint-override""><code>package asset_service

import (
    ""goGin/app/model""
    ""goGin/app/dao/mysqlRepo""
)

type Service interface {
    GetAllAssets() (asset []models.Asset, err error)
    //GetById(id string) (asset *models.Asset)
    //InsertOneAsset(asset *models.Asset) (ass *models.Asset)
}

type assetService struct {
    assetRepo mysqlRepo.Repository
}

func NewAssetService() Service {
    ar := mysqlRepo.NewMysqlAssetRepository()
    return &amp;assetService{assetRepo: ar}
}

func (ar *assetService) GetAllAssets() ([]models.Asset, error) {
    assets, err := ar.assetRepo.GetAllAssets()
    return assets, err
}
</code></pre>

<p>dao</p>

<pre class=""lang-golang prettyprint-override""><code>package mysqlRepo

import (
    ""fmt""
    ""time""
    ""goGin/app/model""
    ""github.com/jinzhu/gorm""
)

type Repository interface {
    GetAllAssets() (assets []models.Asset, err error)
    //GetById(id string) (asset *models.Asset)
    //InsertOneAsset(asset *models.Asset) (ass *models.Asset)
}

type MysqlAssetRepository struct {
    conn *gorm.DB
}

// Connect to MySQL
func NewMysqlAssetRepository() Repository {
    return &amp;MysqlAssetRepository{db}
}

// GetAllAssets function gets all assets
func (m *MysqlAssetRepository) GetAllAssets() ([]models.Asset, error) {
    var assets []models.Asset

    query := `SELECT * FROM assets ORDER BY assets.OrganisationID, assets.Name ASC`

    rows, err := m.conn.Raw(query).Rows()
    defer rows.Close()
    models.CheckErr(err)
    if err != nil {
        return nil, err
    }

    for rows.Next() {
        var asset models.Asset
        // ScanRows scan a row into user
        db.ScanRows(rows, &amp;asset)
        assets = append(assets,asset)
    }

    return assets, nil
}

func genAssetGUID() string {
    id := Uniqid(""AST_"")
    return id
}

func Uniqid(prefix string) string {
    now := time.Now()
    sec := now.Unix()
    usec := now.UnixNano() % 0x100000
    return fmt.Sprintf(""%s%08x%05x"", prefix, sec, usec)
}
</code></pre>

<p>model</p>

<pre class=""lang-golang prettyprint-override""><code>package mysqlRepo

import (
    ""log""
    ""github.com/jinzhu/gorm""
    _ ""github.com/jinzhu/gorm/dialects/mysql""
    ""goGin/library/setting""
)

var (
    db *gorm.DB
    err error
)

func Setup() {
    dbAddress := setting.DatabaseSetting.Host
    dbUser := setting.DatabaseSetting.User
    dbPwd := setting.DatabaseSetting.Password
    dbName := setting.DatabaseSetting.Name
    dbString := dbUser + "":"" + dbPwd + ""@tcp("" + dbAddress + "")/"" + dbName + ""?charset=utf8""

    db, err = gorm.Open(setting.DatabaseSetting.Type, dbString)
    if err != nil {
        log.Fatalf(""models.Setup err: %v"", err)
    }

    db.DB().SetMaxIdleConns(10)
    db.DB().SetMaxOpenConns(100)
}
</code></pre>

<pre class=""lang-golang prettyprint-override""><code>package models

type Asset struct {
    ID                      string          `gorm:""column:ID;primary_key"" json:""ID""`
    IMEI                    string          `gorm:""column:IMEI;null"" json:""IMEI""`
    Name                    string          `gorm:""column:Name;null"" json:""Name""`
    Contact                 string          `gorm:""column:Contact;"" json:""Contact""`
    Email                   string          `gorm:""column:Email;"" json:""Email""`
    Latitude                float64         `gorm:""column:Latitude;null"" json:""Latitude""`
    Longitude               float64         `gorm:""column:Longitude;null"" json:""Longitude""`
    HorizontalAccuracy      float64         `gorm:""column:HorizontalAccuracy;null"" json:""HorizontalAccuracy""`
    Speed                   float64         `gorm:""column:Speed;null"" json:""Speed""`
    Heading                 float64         `gorm:""column:Heading;null"" json:""Heading""`
    Deployed                int             `gorm:""column:Deployed;null"" json:""Deployed""`
    BatteryLife             string          `gorm:""column:BatteryLife;null"" json:""BatteryLife""`
    Status                  string          `gorm:""column:Status;null"" json:""Status""`
    OrganisationID          string          `gorm:""column:OrganisationID;null"" json:""OrganisationID""`
    CreatedDate             string          `gorm:""column:CreatedDate;null"" json:""CreatedDate""`
    LastModified            string          `gorm:""column:LastModified;null"" json:""LastModified""`
    TemplateID              string          `gorm:""column:TemplateID;null"" json:""TemplateID""`
    OffTimer                int             `gorm:""column:OffTimer;null"" json:""OffTimer""`
    SafetyTimer             int             `gorm:""column:SafetyTimer;null"" json:""SafetyTimer""`
    HazardTimer             int             `gorm:""column:HazardTimer;null"" json:""HazardTimer""`
    OffTimerTemp            int             `gorm:""column:OffTimerTemp;null"" json:""OffTimerTemp""`
    LastSignedOn            string          `gorm:""column:LastSignedOn;null"" json:""LastSignedOn""`
    LastCheckIn             string          `gorm:""column:LastCheckIn;null"" json:""LastCheckIn""`
    HazardTimerStartedTime  string          `gorm:""column:HazardTimerStartedTime;null"" json:""HazardTimerStartedTime""`
    ActiveDeviceType        string          `gorm:""column:ActiveDeviceType;null"" json:""ActiveDeviceType""`
    CurrentDeviceID         string          `gorm:""column:CurrentDeviceID;null"" json:""CurrentDeviceID""`
    LastEventTimeStamp      string          `gorm:""column:LastEventTimeStamp;null"" json:""LastEventTimeStamp""`
    LoginPassword           string          `gorm:""column:LoginPassword;null"" json:""LoginPassword""`
    TrackingInterval        int             `gorm:""column:TrackingInterval;null"" json:""TrackingInterval""`
    NewEvent                int             `gorm:""column:NewEvent;null"" json:""NewEvent""`
    Display                 int             `gorm:""column:Display;null"" json:""Display""`
    TakeControl             int             `gorm:""column:TakeControl;null"" json:""TakeControl""`
    AssetStatus             string          `gorm:""column:AssetStatus;null"" json:""AssetStatus""`
    NewMessage              int             `gorm:""column:NewMessage;null"" json:""NewMessage""`
    ResetPassword           string          `gorm:""column:ResetPassword;null"" json:""ResetPassword""`
}
</code></pre>
","8686497","","8686497","","2019-06-05 06:38:45","2019-06-05 06:38:45","Golang Gin Get data Status 200 OK but no data sent","<go><gin>","0","0","","","","56455221","2253","2253","gin","315","5802757","5802756"
"56502826","1","","","2019-06-08 01:54:31","","0","25","<p>I'm trying to capture an array of Post values from HTML form using Go / Gin Gonic -- in PHP I would use something like:</p>

<pre><code>var oneData = [];
    function addOne() {
        var len = oneData.length;
        oneData.push(getNowFormatDate(len));
    }
    function getNowFormatDate(len) {
        var date = new Date();
        date.setDate(date.getDate() + len);
        var seperator1 = ""-"";
        var year = date.getFullYear();
        var month = date.getMonth() + 1;
        var strDate = date.getDate();
        if (month &gt;= 1 &amp;&amp; month &lt;= 9) {
            month = ""0"" + month;
        }
        if (strDate &gt;= 0 &amp;&amp; strDate &lt;= 9) {
            strDate = ""0"" + strDate;
        }
        var currentdate = year + seperator1 + month + seperator1 + strDate;
        return currentdate;
    }
    function submit() {
        $.post('/admin/v1/post/delete/batch', {ids: oneData}, function (json) {
            // some code
        }, 'json');
    }
</code></pre>

<p>Post data:</p>

<pre><code>(3) [""2019-06-08"", ""2019-06-09"", ""2019-06-10""]
0: ""2019-06-08""
1: ""2019-06-09""
2: ""2019-06-10""
length: 3
</code></pre>

<p>I used two methods, and I couldn't receive the value of ids.</p>

<pre><code>type selectData struct {
        Selection []int `form:""ids[]""`
    }
    var s selectData
    _ = ctx.Bind(&amp;s)
    fmt.Println(s.Selection)
    selection := ctx.PostFormArray(""ids"")
    fmt.Println(selection)
</code></pre>

<p>The result</p>

<pre><code>[GIN] 2019/06/08 - 09:50:51 | 200 | 0s | ::1 | POST /admin/v1/post/delete/batch
[]
[]
</code></pre>
","10560535","","","","","2019-06-08 01:54:31","How can I get dynamically generated array values with Gin","<arrays><post><gin>","0","1","","","","56502826","2253","2253","gin","315","5802757","5802756"
"56782978","1","56784604","","2019-06-27 02:06:02","","0","187","<p>I need to get one param from posted json.
And I don't want to make struct for only this.
This is what I have tried</p>

<pre><code>type NewTask struct {
    Price uint64 `json:""price""`
}

func (pc TaskController) Create(c *gin.Context) {

    var service Service
    if err := c.BindJSON(&amp;service); err != nil {
        log.Println(err) // this works
    }

    var u NewTask
    if err := c.BindJSON(&amp;u); err != nil {
        log.Println(err) // this return EOF error
    }

    fmt.Println(u.Price)
}
</code></pre>

<p>Requested Json data have many other fields including <em>price</em></p>

<pre><code>{
   ...other fields
   price: 30
}
</code></pre>

<p>But this don't work.I think its because I am binding twice, How can I success in binding multiple?</p>

<p>Thanks</p>
","7122343","","4242097","","2019-06-27 04:54:54","2019-06-27 05:42:38","How to get specific param from posted JSON in Gin?","<json><go><gin>","1","4","1","","","56782978","2253","2253","gin","315","5802757","5802756"
"56976754","1","56977728","","2019-07-10 18:35:51","","1","1114","<p>Client side(React/axios.post) failed to post to server side api (Golang/gin) with status code 404.
I want to make this post request success.</p>

<p>Following curl success to write data in mysql table</p>

<pre><code>curl -X POST -H ""Content-Type: application/json"" -d '{""title"":""bbb"", ""content"":""bbb""}' localhost:4000/api/post
</code></pre>

<p>But, in case of axios.post, 404 error occurs.</p>

<p>This is target source code.</p>

<pre><code>interface ArticleState {
  title: string;
  content: string;
  redirect: boolean;
}

class Post extends React.Component&lt;{}, ArticleState&gt; {
  constructor(props: {}) {
    super(props);
    this.state = {
      title: '',
      content: '',
      redirect: false,
    };

    this.handleChangeTitle = this.handleChangeTitle.bind(this);
    this.handleChangeContent = this.handleChangeContent.bind(this);
    this.setRedirect = this.setRedirect.bind(this);
    this.renderRedirect = this.renderRedirect.bind(this);
  }

  handleChangeTitle(e: React.FormEvent&lt;HTMLInputElement&gt;) {
    this.setState({title: e.currentTarget.value});
  }

  handleChangeContent(e: React.FormEvent&lt;HTMLInputElement&gt;) {
    this.setState({content: e.currentTarget.value});
  }

  setRedirect() {
    this.setState({
      redirect: true,
    });

    const data = {title: this.state.title, content: this.state.content};
    axios.post('http://localhost:4000/api/post', data).then(res =&gt; {
      console.log(res);
    });
  }

  renderRedirect = () =&gt; {
    if (this.state.redirect) {
      return &lt;Redirect to=""/post/finish"" /&gt;;
    }
  };

  render() {
    return (
      &lt;Container text style={{marginTop: '3em'}}&gt;
        &lt;Form onSubmit={this.setRedirect}&gt;
          &lt;Form.Input
            label=""Title""
            name=""title""
            value={this.state.title}
            onChange={this.handleChangeTitle}
          /&gt;
          &lt;Form.Field
            label=""Content""
            name=""content""
            value={this.state.content}
            control=""textarea""
            onChange={this.handleChangeContent}
          /&gt;
          {this.renderRedirect()}
          &lt;Form.Button content=""Submit"" /&gt;
        &lt;/Form&gt;
      &lt;/Container&gt;
    );
  }
}
</code></pre>

<pre><code>type Article struct {
    ID      int    `json:""id""`
    TITLE   string `json:""title""`
    CONTENT string `json:""content""`
}

var articles []Article

func main() {

    db, err := sql.Open(""mysql"", ""user:password@tcp(localhost:3306)/article"")
    if err != nil {
        panic(err.Error())
    }
    defer db.Close()

    router := gin.Default()

    api := router.Group(""/api"")
    {
        api.POST(""/post"", func(c *gin.Context) {
            var article Article
            c.BindJSON(&amp;article)
            c.Header(""Content-Type"", ""application/json"")
            c.Header(""Access-Control-Allow-Origin"", ""*"")
            ins, err := db.Prepare(""INSERT INTO articles(title,content) VALUES(?,?)"")
            if err != nil {
                log.Fatal(err)
            }
            ins.Exec(article.TITLE, article.CONTENT)
            c.JSON(http.StatusOK, gin.H{""status"": ""ok""})
        })
    }
    router.Run("":4000"")
}

</code></pre>

<p>I expect axios.post success to request, but actually failed with 404 status.</p>

<pre><code>OPTIONS http://localhost:4000/api/post 404 (Not Found)
Access to XMLHttpRequest at 'http://localhost:4000/api/post' 
from origin 'http://localhost:3000' has been blocked by CORS policy: 
Response to preflight request doesn't pass access control check: 
No 'Access-Control-Allow-Origin' header is present on the requested 
resource.
createError.js:17 Uncaught (in promise) Error: Network Error
    at createError (createError.js:17)
    at XMLHttpRequest.handleError (xhr.js:80)
</code></pre>
","11766408","","","","","2019-07-10 19:52:53","axios.post request gets 404","<reactjs><go><axios><gin>","3","5","","","","56976754","2253","2253","gin","315","5802757","5802756"
"57002894","1","","","2019-07-12 08:15:42","","0","116","<p>I reach a situation that inside a Go Gin Handler, I need to call another handler.</p>

<p>I figured that composing a new gin.Context object is hard, so it maybe easier just make a request to localhost, which going through the router although it is not necessary.</p>

<p>So is there a more efficient method that I can call directly another handler?</p>

<p>However it comes to that how to get the running URL ? Of course it can be hard coded since it is known, but is there a function like below?</p>

<pre><code>ts := httptest.NewServer(GetMainEngine())
defer ts.Close()

log.Println(GetJWTMiddleware())
// here ts.URL is the running url in test
req, _ := http.NewRequest(""POST"", ts.URL + ""/u/login"", bytes.NewBuffer(loginPostString))
</code></pre>

<p>How to get the ts.URL with just gin?</p>
","921082","","","","","2019-07-12 08:26:53","How to call localhost Handler efficiently with Go Gin? And how to get the running url?","<go><gin>","1","0","","","","57002894","2253","2253","gin","315","5802757","5802756"
"57020601","1","","","2019-07-13 15:43:05","","0","453","<p>I'am generating <code>QR</code> codes and right after I need to show them in an <code>HTML</code> without saving them as images. </p>

<p>So far I can generate them but I have problems rendering them in the <code>HTML</code></p>

<p>I have here the <code>golang</code> code that generates the <code>QR</code> and the <code>HTML</code> template that try to render them</p>

<p>golang</p>

<pre><code>import (
    ""fmt""
    ""github.com/gin-gonic/gin""
    qrcode ""github.com/skip2/go-qrcode""
)


func renderQRExport(c *gin.Context){
    var images [][]byte
    var img []byte
    var err error
    for i := 0; i &lt; 25; i++ {
        img, err = qrcode.Encode(""https://example.org"", qrcode.Medium, 256)
        images = append(images, img)
        if err != nil {
            fmt.Print(err)
        }
    }
    render(c, gin.H{
        ""images"":              images,
    }, ""qr.html"")
}
</code></pre>

<p>HTML Template</p>

<pre><code>&lt;!doctype html&gt;
&lt;html class=""no-js"" lang=""""&gt;
&lt;head&gt;
  &lt;title&gt;QR export&lt;/title&gt;
  {{template ""imports.html""}}
&lt;/head&gt;
&lt;body&gt;
  &lt;div class=""margin-body-log-in-worker""&gt;
        &lt;div class=""row""&gt;
          {{range .images}}
          &lt;div class=""col-4 col-sm-4 col-md-3 col-xl-2 center""&gt;
                &lt;img src=""data:image/png;base64,{{.image}}"" class=""img-fluid image-dashboard"" /&gt;
          &lt;/div&gt;
          {{end}}
        &lt;/div&gt;
      &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>One of the things that I'am not able to do, as they say in this article:
<code>https://www.sanarias.com/blog/1214PlayingwithimagesinHTTPresponseingolang</code>
 and also the Encode method itself says <code>""To serve over HTTP, remember to send a Content-Type: image/png header.""</code></p>

<p>How can I set propertly the content type in the request using <code>gingonic</code> and how to decode propertly in the <code>HTML</code>?</p>

<p>Thanks in advance!!</p>
","10971002","","1403785","","2019-07-13 15:54:18","2019-07-13 15:59:51","How to render/show images in HTML created on the fly with Golang and gin-gonic","<go><decode><gin><gin-gonic>","1","0","","","","57020601","2253","2253","gin","315","5802757","5802756"
"57021266","1","","","2019-07-13 17:10:11","","0","101","<p>I have a simple DbSession middleware setting a *db.SQL value to a context key of 'db'.  I add an instance of that middleware to my router, yet when handling requests, the 'db' key does not exist in the context's keys.</p>

<p>I've added logging to the middleware and can verify that it is never being invoked, despite being added to the router with Use().  I also checked the context Keys and didn't see my 'db' key there.</p>

<p>This is my middleware.</p>

<pre class=""lang-golang prettyprint-override""><code>// DbSession returns a gin middleware adding the database connection to the request context.
func DbSession(db *sql.DB) gin.HandlerFunc {
    return func(c *gin.Context) {
        fmt.Println(""inside DbSession middleware"")
        c.Set(""db"", db)
        c.Next()
    }
}
</code></pre>

<p>And this is how it gets added in my main() function.</p>

<pre class=""lang-golang prettyprint-override""><code>var db *sql.DB

func main() {
    initEnv()

    initDb()
    defer db.Close()

    r := InitRouter()
    r.Use(DbSession(db))

    _ = r.Run()
}
</code></pre>

<p>In my handler, I try to retrieve it.</p>

<pre class=""lang-golang prettyprint-override""><code>func GetProfile(c *gin.Context) {
    // ...

    // Get our db session from the request context.
    db := c.MustGet(""db"").(*sql.DB)

    // ...
}
</code></pre>

<p>When the endpoint is accessed, I expect the context to have the 'db' key and its associated *sql.DB value.  Instead I get the following panic.</p>

<pre><code>[GIN-debug] Listening and serving HTTP on :8080
2019/07/13 11:45:05 http: panic serving [::1]:55014: Key ""db"" does not exist
</code></pre>

<p>This seems like such a trivial example, and I expected it to ""Just Work (tm)"".  I figure it must be something really trivial that I've overlooked.  Any and all insight is greatly appreciated.</p>
","4755187","","","","","2019-07-13 17:10:11","Problem where gin middleware does not seem to be invoked despite being used by gin router","<go><middleware><gin>","0","2","","","","57021266","2253","2253","gin","315","5802757","5802756"
"57078357","1","","","2019-07-17 14:33:04","","0","50","<p>I want to render templete like this.But I can't find relative code from website</p>

<p>page.tmpl</p>

<pre class=""lang-golang prettyprint-override""><code>&lt;html&gt;
  &lt;body&gt;
  {{.a}}
  &lt;/body&gt;
&lt;html&gt;
</code></pre>

<p>router code piece</p>

<pre class=""lang-golang prettyprint-override""><code>aEle = `&lt;a&gt;I 'm tagA&lt;/a&gt;`
r.GET(""/page"", func(c *gin.Context) {
  c.HTML(200, ""page.tmpl"",  gin.H{""a"":aEle,}})
})
</code></pre>

<p>result like this</p>

<pre class=""lang-html prettyprint-override""><code>page
&lt;html&gt;
  &lt;body&gt;
    &lt;a&gt;I'm tagA&lt;/a&gt;
  &lt;/body&gt;
&lt;html&gt;
</code></pre>
","11798146","","","","","2019-07-17 16:31:22","Is there any solution to render html like this in gin?(params is a piece of html)","<go><gin>","1","2","","","","57078357","2253","2253","gin","315","5802757","5802756"
"57085778","1","57138632","","2019-07-18 01:06:14","","0","638","<p>I want to make functionality to post image to S3 in following steps.</p>

<ol>
<li>user upload image(s) on the screen.</li>
<li>image files are sent to server after submitting</li>
<li>images are uploaded to S3 in server side(golang).</li>
</ol>

<p>Now issue is at <strong>3.""images are uploaded to S3 in server side(golang).""</strong></p>

<p>There is nil error at server side code.</p>

<p>debug shows nil value at this method.</p>

<pre><code>form, _ := c.MultipartForm()
</code></pre>

<p>Here is the codes.</p>

<pre><code>//import

interface ArticleState {
  title: string;
  content: string;
  redirect: boolean;
  files: File[];
}

class Post extends React.Component&lt;{}, ArticleState&gt; {
  constructor(props: {}) {
    super(props);
    this.state = {
      title: '',
      content: '',
      redirect: false,
      files: [],
    };
    this.handleChangeTitle = this.handleChangeTitle.bind(this);
    this.handleChangeContent = this.handleChangeContent.bind(this);
    this.handleSubmit = this.handleSubmit.bind(this);
    this.renderRedirect = this.renderRedirect.bind(this);
    this.handleOnDrop = this.handleOnDrop.bind(this);
  }

  handleOnDrop(acceptedFiles: File[]) {
    this.setState({files: this.state.files.concat(acceptedFiles)});
  }

  handleChangeTitle(e: React.FormEvent&lt;HTMLInputElement&gt;) {
    this.setState({title: e.currentTarget.value});
  }

  handleChangeContent(e: React.FormEvent&lt;HTMLInputElement&gt;) {
    this.setState({content: e.currentTarget.value});
  }

  handleSubmit() {
    this.setState({
      redirect: true,
    });
    const data = {
      title: this.state.title,
      content: this.state.content,
      files: this.state.files,
    };
    axios.post('http://localhost:4000/api/post', data).then(res =&gt; {
      console.log(res);
    });
  }

  renderRedirect = () =&gt; {
    if (this.state.redirect) {
      return &lt;Redirect to=""/post/finish"" /&gt;;
    }
  };

  render() {
    return (
      &lt;Container text style={{marginTop: '3em'}}&gt;
        &lt;Form&gt;
          &lt;Form.Input
            label=""Title""
            placeholder=""""
            name=""title""
            value={this.state.title}
            onChange={this.handleChangeTitle}
          /&gt;
          &lt;Form.Field
            label=""Content""
            placeholder=""""
            name=""content""
            value={this.state.content}
            rows=""20""
            control=""textarea""
            onChange={this.handleChangeContent}
          /&gt;
          {this.renderRedirect()}
          &lt;input type=""file"" id=""file"" hidden /&gt; */}
          &lt;Dropzone accept=""image/*"" onDrop={this.handleOnDrop}&gt;
            {({getRootProps, getInputProps, open}) =&gt; (
              &lt;section&gt;
                &lt;div {...getRootProps()} style={{margin: '20px auto'}}&gt;
                  &lt;input {...getInputProps()} /&gt;
                  &lt;p&gt;Drag 'n' drop some files here, or click to select files&lt;/p&gt;
                  &lt;button type=""button"" onClick={open}&gt;
                    Open File Dialog
                  &lt;/button&gt;
                &lt;/div&gt;
              &lt;/section&gt;
            )}
          &lt;/Dropzone&gt;
          &lt;Form.Button content=""Submit"" onClick={this.handleSubmit} /&gt;
        &lt;/Form&gt;
      &lt;/Container&gt;
    );
  }
}

export default Post;
</code></pre>

<pre><code>package main

//import

type Article struct {
    ID      int    `json:""id""`
    TITLE   string `json:""title""`
    CONTENT string `json:""content""`
}

var articles []Article

type Param struct {
    Bucket      string
    Key         string
    Expires     string
    ContentType string
}

func main() {

    awsAccessKeyID := ""Insert Key Here""
    awsSecretAccessKey := ""Insert Secret Here""
    token := """"

    //some codes for mysql connection

    router.Use(
    // some codes
    )

    api := router.Group(""/api"")
    {
        api.POST(""/post"", func(c *gin.Context) {
            //some codes for inserting article data in mysql

            creds := credentials.NewStaticCredentials(awsAccessKeyID, awsSecretAccessKey, token)

            cfg := aws.NewConfig().WithRegion(""ap-northeast-1"").WithCredentials(creds)
            svc := s3.New(session.New(), cfg)

            //Here form value is nill.
            form, _ := c.MultipartForm()
            files := form.File[""upload[]""]

            for _, file := range files {
                f, err := file.Open()

                defer f.Close()
                fileInfo, _ := f.(*os.File).Stat()
                size := fileInfo.Size()
                buffer := make([]byte, size)

                f.Read(buffer)
                fileBytes := bytes.NewReader(buffer)
                fileType := http.DetectContentType(buffer)
                path := ""/media/"" + f.(*os.File).Name()
                params := &amp;s3.PutObjectInput{
                    Bucket:        aws.String(""bucketname""),
                    Key:           aws.String(path),
                    Body:          fileBytes,
                    ContentLength: aws.Int64(size),
                    ContentType:   aws.String(fileType),
                }
                resp, err := svc.PutObject(params)
                fmt.Printf(""response %s"", awsutil.StringValue(resp))
            }

            c.JSON(http.StatusOK, gin.H{""status"": ""ok""})

        })
    }

    router.Run("":4000"")
}
</code></pre>

<p>I expected image(s) are uploaded to S3, but actually not uploaded with server error.</p>

<p>The following is error messages.</p>

<pre><code>POST http://localhost:4000/api/post 500 (Internal Server Error)
createError.js:17 Uncaught (in promise) Error: Request failed with status code 500
    at createError (createError.js:17)
    at settle (settle.js:19)
    at XMLHttpRequest.handleLoad (xhr.js:60)
</code></pre>

<pre><code>[GIN] 2019/07/18 - 08:47:34 | 204 |      33.322s |             ::1 | OPTIONS  /api/post

2019/07/18 08:47:34 [Recovery] 2019/07/18 - 08:47:34 panic recovered:
POST /api/post HTTP/1.1
Host: localhost:4000
Accept: application/json, text/plain, */*
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Connection: keep-alive
Content-Length: 68
Content-Type: application/json;charset=UTF-8
Origin: http://localhost:3000
Referer: http://localhost:3000/post/finish
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36


runtime error: invalid memory address or nil pointer dereference
/usr/local/go/src/runtime/panic.go:82 (0x10426f0)
        panicmem: panic(memoryError)
/usr/local/go/src/runtime/signal_unix.go:390 (0x104251f)
        sigpanic: panicmem()
/Users/jpskgc/go/src/github.com/gin-gonic/gin/context.go:532 (0x17122f5)
        (*Context).MultipartForm: return c.Request.MultipartForm, err
/Users/jpskgc/go/src/github.com/gin-gonic/gin/context.go:147 (0x14fdea9)
        (*Context).Next: c.handlers[c.index](c)
/Users/jpskgc/go/src/github.com/gin-gonic/gin/recovery.go:83 (0x1511939)
        RecoveryWithWriter.func1: c.Next()
/Users/jpskgc/go/src/github.com/gin-gonic/gin/context.go:147 (0x14fdea9)
        (*Context).Next: c.handlers[c.index](c)
/Users/jpskgc/go/src/github.com/gin-gonic/gin/logger.go:240 (0x15109e0)
        LoggerWithConfig.func1: c.Next()
/Users/jpskgc/go/src/github.com/gin-gonic/gin/context.go:147 (0x14fdea9)
        (*Context).Next: c.handlers[c.index](c)
/Users/jpskgc/go/src/github.com/gin-gonic/gin/gin.go:391 (0x1507da9)
        (*Engine).handleHTTPRequest: c.Next()
/Users/jpskgc/go/src/github.com/gin-gonic/gin/gin.go:352 (0x150749d)
        (*Engine).ServeHTTP: engine.handleHTTPRequest(c)
/usr/local/go/src/net/http/server.go:2774 (0x12e2207)
        serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
/usr/local/go/src/net/http/server.go:1878 (0x12dddf0)
        (*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
/usr/local/go/src/runtime/asm_amd64.s:1337 (0x1059ed0)
        goexit: BYTE    $0x90   // NOP

[GIN] 2019/07/18 - 08:47:34 | 500 |  119.560492ms |             ::1 | POST     /api/post
</code></pre>

<ul>
<li>frontend: react/axios </li>
<li>backend: golang/gin </li>
<li>upload library: dropzone </li>
<li>storage: amazon s3</li>
</ul>
","11766408","","11766408","","2019-07-18 01:51:42","2019-07-22 02:52:47","How to upload images to S3 via react/axios and golang/gin","<reactjs><go><amazon-s3><axios><gin>","1","1","","","","57085778","2253","2253","gin","315","5802757","5802756"
"57354389","1","57354429","","2019-08-05 07:55:40","","1","1486","<p>I want to serve a json file with gin server. And set some customize values in the html file. Use JavaScript in it to call the json file.</p>

<p>My application structure:</p>

<pre><code>.
 main.go
 templates
     index.html
     web.json
</code></pre>

<p>I put these basic source into <code>main.go</code> file:</p>

<pre><code>package main

import (
    ""net/http""

    ""github.com/gin-gonic/gin""
)

var router *gin.Engine

func main() {
    router = gin.Default()
    router.LoadHTMLGlob(""templates/*"")

    router.GET(""/web"", func(c *gin.Context) {
        c.HTML(
            http.StatusOK,
            ""index.html"",
            gin.H{
                ""title"": ""Web"",
                ""url"":   ""./web.json"",
            },
        )
    })

    router.Run()
}
</code></pre>

<p>Some code in <code>templates/index.html</code> file:</p>

<pre><code>&lt;!doctype html&gt;
&lt;html&gt;

  &lt;head&gt;
    &lt;title&gt;{{ .title }}&lt;/title&gt;

    // ...
  &lt;/head&gt;

  &lt;body&gt;
    &lt;div id=""swagger-ui""&gt;&lt;/div&gt;

    // ...

    &lt;script&gt;
      window.onload = function() {
        // Begin Swagger UI call region
        const ui = SwaggerUIBundle({
          url: ""{{ .url }}"",
          dom_id: '#swagger-ui',
          // ...
        })
        // End Swagger UI call region

        window.ui = ui
      }
    &lt;/script&gt;

  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>When run the application, got fetch error: <code>Not Found ./web.json</code>. So how to serve the <code>web.json</code> file to be accessed in the gin internal server?</p>
","11296502","","","","","2019-08-05 07:59:21","How to render static file within gin router?","<json><go><server><static><gin>","1","0","","","","57354389","2253","2253","gin","315","5802757","5802756"
"57359416","1","","","2019-08-05 13:16:07","","0","38","<p>I want to fetch the name list on the basis of searching and sort lexicographically order.</p>

<p>I have used ""like"" keyword to get a similar search in the database, and I don't know how to get the required order.</p>

<pre><code>func SearchByName(db *gorm.DB) func(c *gin.Context) {
    return func(c *gin.Context) {
        var uemail = c.Param(""rexed"")
        var rnex []resource
            //Param matches your regex //c.JSON(200,rnex)
            if err := db.Where(""name LIKE ?"", ""%uemail%"").Find(&amp;rnex).Error; err!=nil{
                c.AbortWithStatus(404)
                fmt.Println(err)
            } else {
                c.JSON(200, rnex)
            }
    }
}
</code></pre>

<p>I am getting ""Mismatched *DB and string &amp;  Report incompatible types in binary and unary operation</p>
","7319894","","8685016","","2019-08-13 10:34:27","2019-08-13 10:34:27","Pattern Searching in gorm rest api","<go><go-gorm><gin>","1","0","","","","57359416","2253","2253","gin","315","5802757","5802756"
"57427823","1","","","2019-08-09 10:06:24","","1","707","<p>Example:</p>

<pre><code>func createOrUpdateInfluencer(c *gin.Context) { }
</code></pre>

<p>How to print the data in the request received in my function?
For my case I'm supposed to receive JSON, how to print it without knowing what it looks like?</p>
","462794","","55504","","2019-08-10 11:02:41","2019-12-04 10:15:34","How to log or print request received with gin?","<go><gin>","2","1","","","","57427823","2253","2253","gin","315","5802757","5802756"
"57438407","1","","","2019-08-10 00:22:09","","0","21","<p><a href=""https://github.com/gin-gonic/gin"" rel=""nofollow noreferrer"">Gin</a> framework's static feature can serve files as:</p>

<p><a href=""https://github.com/gin-gonic/gin#serving-static-files"" rel=""nofollow noreferrer"">https://github.com/gin-gonic/gin#serving-static-files</a></p>

<p>Now I want to serve an UML file <code>xxx.uml</code> with this way:</p>

<pre><code>router.Static(""/umls"", ""./umls"")
</code></pre>

<p>But the file under <code>umls</code> folder can't been show from browser when lunching the app.</p>

<p>If put a <code>xxx.png</code> into the <code>umls</code> folder, it can be accessed.</p>
","11296502","","3379653","","2019-08-10 08:45:52","2019-08-10 08:45:52","How to serve uml file with Gin static feature?","<go><static><gin><serve>","0","2","","","","57438407","2253","2253","gin","315","5802757","5802756"
"57522982","1","57672965","","2019-08-16 10:24:40","","1","136","<p>I ran into a strange problem suddenly a few days back. </p>

<p>My application has been running for quite sometime with no issues. Suddenly I started seeing a good number of 502 errors consistently. We operate at about 50000 requests per minute with an average server response time of 12 ms.</p>

<p>There are no application panics (errors) and nginx config also allows upto 10000 worker connections.</p>

<p>Other configuration..</p>

<pre><code>sendfile        on;
keepalive_timeout  600;
server_tokens off;
client_max_body_size 20m;
</code></pre>

<p>Can anyone help me with the direction I should be looking at solving the problem? I get one of these below errors and mostly the first one (sendfile()) below.</p>

<pre><code>2019/08/16 15:01:42 [error] 30#0: *60729 sendfile() failed (32: Broken pipe) while sending request to upstream, client: &lt;IP&gt;, server: &lt;hostname&gt;, request: ""POST &lt;endpoint&gt; HTTP/1.1"", upstream: ""http://127.0.0.1:8080/&lt;endpoint&gt;"", host: ""&lt;hostname&gt;""

2019/08/16 15:01:45 [error] 30#0: *60821 readv() failed (104: Connection reset by peer) while reading upstream, client: &lt;IP&gt;, server: &lt;hostname&gt;, request: ""POST &lt;endpoint&gt; HTTP/1.1"", upstream: ""http://127.0.0.1:8080/&lt;endpoint&gt;"", host: ""&lt;hostname&gt;""

2019/08/16 14:55:27 [error] 20#0: *42152 upstream timed out (110: Connection timed out) while reading response header from upstream, client: &lt;IP&gt;, server: &lt;hostname&gt;, request: ""POST &lt;endpoint&gt; HTTP/1.1"", upstream: ""http://127.0.0.1:8080/&lt;endpoint&gt;"", host: ""&lt;hostname&gt;""
</code></pre>

<p>We are on golang and gin framework, if it helps in any debugging.</p>
","1571219","","","","","2019-08-27 10:43:54","nginx 502 errors consistently with no application errors","<go><nginx><nginx-config><gin>","1","2","","","","57522982","2253","2253","gin","315","5802757","5802756"
"57649633","1","57652331","","2019-08-25 20:50:30","","-1","357","<p>I am using Golang(gin-gonic framework) for my backend. I have developed below rest API to receive images or files from the frontend applications. I am saving files in this path ""/home/user/Desktop/files/""+dt.String()+""_""+filepath.Base(file.Filename). Till now everything fine, I can see the saved files.</p>

<p>Now I am planning to return these file paths to frontend via another rest API (Eg: API: /getImageUrl, Response: <a href=""https://via.placeholder.com/600/771796"" rel=""nofollow noreferrer"">https://via.placeholder.com/600/771796</a>) so that users can download files. But I am not sure how to return these file path URLs to frontend. Can somebody guide me on how to develop this rest API?</p>

<pre><code>               requests.POST(""/upload"", func(c *gin.Context) {

                    // Source
                    file, err := c.FormFile(""file"")
                    if err != nil {
                        c.String(http.StatusBadRequest, fmt.Sprintf(""get form err: %s"", err.Error()))
                        return
                    }

                    dt := time.Now()

                    filename := ""/home/user/Desktop/files/""+dt.String()+""_""+filepath.Base(file.Filename)

                    if err := c.SaveUploadedFile(file, filename); err != nil {
                        c.String(http.StatusBadRequest, fmt.Sprintf(""upload file err: %s"", err.Error()))
                        return
                    }

                    c.JSON(200, gin.H{""message"": ""Files Uploaded Successfully""})
                }) 
</code></pre>
","3128757","","","","","2019-08-26 05:42:33","How to return a files or images path urls to forntend using golang rest apis?","<file><go><download><gin><gin-gonic>","1","1","","","","57649633","2253","2253","gin","315","5802757","5802756"
"57719304","1","","","2019-08-30 01:07:18","","0","1667","<p>I'm setting up testing in <code>golang</code>.<br>
I use <code>go-sqlmock</code> to test mysql connection.<br>
But <code>sqlmock.NewRows</code> and <code>mock.ExpectQuery</code> does not work well with error.<br>
I want to know how to resolve this error.<br></p>

<pre><code>server side: golang
db: mysql
web framework: gin
</code></pre>

<p>dao.go</p>

<pre class=""lang-golang prettyprint-override""><code>func GetSingleArticleDao(c *gin.Context, db *sql.DB) (util.Article, *sql.Rows) {
    id := c.Params.ByName(""id"")
    article := util.Article{}
    errArticle := db.QueryRow(""SELECT * FROM articles WHERE id = ?"", id).Scan(&amp;article.ID, &amp;article.UUID, &amp;article.TITLE, &amp;article.CONTENT)
    if errArticle != nil {
        panic(errArticle.Error())
    }
    rows, errImage := db.Query(""SELECT image_name FROM images WHERE article_uuid  = ?"", article.UUID)
    if errImage != nil {
        panic(errImage.Error())
    }

    return article, rows
}
</code></pre>

<p>dao_test.go</p>

<pre class=""lang-golang prettyprint-override""><code>func TestGetSingleArticleDao(t *testing.T) {
    db, mock, err := sqlmock.New()

    if err != nil {
        t.Fatalf(""an error '%s' was not expected when opening a stub database connection"", err)
    }

    defer db.Close()

    articleMockRows := sqlmock.NewRows([]string{""id"", ""uuid"", ""title"", ""content""}).
        AddRow(""1"", ""bea1b24d-0627-4ea0-aa2b-8af4c6c2a41c"", ""test"", ""test"")

    mock.ExpectQuery(""SELECT (.+) FROM articles where id=\\?"").
        WithArgs(""1"").
        WillReturnRows(articleMockRows)

    imageMockRows := sqlmock.NewRows([]string{""article_uuid"", ""image_name""}).
        AddRow(""bea1b24d-0627-4ea0-aa2b-8af4c6c2a41c"", ""1a90696f-4fe7-48f5-81a5-ca72c129f4b0"").
        AddRow(""bea1b24d-0627-4ea0-aa2b-8af4c6c2a41c"", ""3d997272-468f-4b66-91db-00c39f0ef717"")

    mock.ExpectQuery(""^SELECT (.+) FROM images*"").
        WithArgs(""bea1b24d-0627-4ea0-aa2b-8af4c6c2a41c"").
        WillReturnRows(imageMockRows)

    resp := httptest.NewRecorder()
    gin.SetMode(gin.TestMode)
    ctx, _ := gin.CreateTestContext(resp)

    article, imageRows := GetSingleArticleDao(ctx, db)

    for imageRows.Next() {
        imageName := util.ImageName{}
        err := imageRows.Scan(&amp;imageName.NAME)
        if err != nil {
            panic(err.Error())
        }
        article.IMAGENAMES = append(article.IMAGENAMES, imageName)
    }

    expectedArticle := util.Article{
        ID:      1,
        UUID:    ""bea1b24d-0627-4ea0-aa2b-8af4c6c2a41c"",
        TITLE:   ""test"",
        CONTENT: ""test"",
    }

    imageName1 := util.ImageName{
        NAME: ""1a90696f-4fe7-48f5-81a5-ca72c129f4b0"",
    }
    expectedArticle.IMAGENAMES = append(expectedArticle.IMAGENAMES, imageName1)

    imageName2 := util.ImageName{
        NAME: ""3d997272-468f-4b66-91db-00c39f0ef717"",
    }

    expectedArticle.IMAGENAMES = append(expectedArticle.IMAGENAMES, imageName2)

    assert.Equal(t, expectedArticle, article)
}
</code></pre>

<p>I expect <code>go test -v</code> runs without error.<br>
But the actual is not.<br>
Here is the error.<br></p>

<pre><code>$ go test -v 
=== RUN   TestGetSingleArticleDao
--- FAIL: TestGetSingleArticleDao (0.00s)
panic: Query: could not match actual sql: ""SELECT * FROM articles WHERE id = ?"" with expected regexp ""SELECT (.+) FROM articles where id=\?"" [recovered]
        panic: Query: could not match actual sql: ""SELECT * FROM articles WHERE id = ?"" with expected regexp ""SELECT (.+) FROM articles where id=\?""

goroutine 34 [running]:
testing.tRunner.func1(0xc00022c000)
        /usr/local/go/src/testing/testing.go:830 +0x392
panic(0x165a960, 0xc0001bc4a0)
        /usr/local/go/src/runtime/panic.go:522 +0x1b5
article/api/dao.GetSingleArticleDao(0xc000214160, 0xc0002180c0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
        /Users/jpskgc/article/api/dao/dao.go:26 +0x35d
article/api/dao.TestGetSingleArticleDao(0xc00022c000)
        /Users/jpskgc/article/api/dao/dao_test.go:92 +0x750
testing.tRunner(0xc00022c000, 0x1788730)
        /usr/local/go/src/testing/testing.go:865 +0xc0
created by testing.(*T).Run
        /usr/local/go/src/testing/testing.go:916 +0x35a
exit status 2
FAIL    article/api/dao 0.030s
</code></pre>
","11964380","","","","","2019-08-30 05:30:47","How to correctly set Mock Row and Query for go-sqlmock","<mysql><unit-testing><go><gin><go-sqlmock>","1","0","","","","57719304","2253","2253","gin","315","5802757","5802756"
"57733801","1","","","2019-08-30 22:27:24","","3","504","<p>I'm setting up testing in <code>Go</code>.<br>
I use <code>go-sqlmock</code> to test mysql connection. Now I try to test mysql insert logic.<br></p>

<p>The problem is I need to set mock <code>gin.Context</code> which is used for <code>BindJSON</code> later.<br>
But I can't set this <code>gin.Context</code> so far.<br></p>

<pre><code>server side: golang
db: mysql
web framework: gin
</code></pre>

<p>dao.go</p>

<pre class=""lang-golang prettyprint-override""><code>unc PostImageToDBDao(c *gin.Context, db *sql.DB) {
        // Because of this logic, I need to set gin.Context with json
    var imageData util.ImageData
    c.BindJSON(&amp;imageData)

    for _, imageName := range imageData.IMAGENAMES {
        ins, err := db.Prepare(""INSERT INTO images(article_uuid, image_name) VALUES(?,?)"")
        if err != nil {
            log.Fatal(err)
        }
        ins.Exec(imageData.ARTICLEUUID, imageName.NAME)
    }
}
</code></pre>

<p>dao_test.go</p>

<pre class=""lang-golang prettyprint-override""><code>func TestPostImageToDBDao(t *testing.T) {
    db, mock, err := sqlmock.New()

    if err != nil {
        t.Fatalf(""an error '%s' was not expected when opening a stub database connection"", err)
    }

    defer db.Close()

    prep := mock.ExpectPrepare(""^INSERT INTO images*"")

    prep.ExpectExec().
        WithArgs(""bea1b24d-0627-4ea0-aa2b-8af4c6c2a41c"", ""b8119536-fad5-4ffa-ab71-2f96cca19697"").
        WillReturnResult(sqlmock.NewResult(1, 1))

        // try to set context with json post
    req, _ := http.NewRequest(""POST"", ""/post/image/db"", bytes.NewBuffer([]byte(`[{
        ""articleUUID"": ""bea1b24d-0627-4ea0-aa2b-8af4c6c2a41c"",
        ""imageNames"": ""b8119536-fad5-4ffa-ab71-2f96cca19697"",
      }]`)))
    req.Header.Set(""Content-Type"", ""application/json"")
    var context *gin.Context
    context = &amp;gin.Context{Request: req}

    PostImageToDBDao(context, db)

    if err := mock.ExpectationsWereMet(); err != nil {
        t.Errorf(""there were unfulfilled expections: %s"", err)
    }
}

</code></pre>

<p>I expect mock <code>gin.Context</code> set properly and run <code>go test -v</code> without error.<br>
But the actual is it fails with error.<br>
I want to resolve this error and make test success.<br></p>

<pre><code>=== RUN   TestPostImageToDBDao
[GIN-debug] [WARNING] Headers were already written. Wanted to override status code 0 with 400
--- FAIL: TestPostImageToDBDao (0.00s)
panic: runtime error: invalid memory address or nil pointer dereference [recovered]
        panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x60 pc=0x15bde75]

goroutine 50 [running]:
testing.tRunner.func1(0xc000234100)
        /usr/local/go/src/testing/testing.go:830 +0x392
panic(0x16918e0, 0x1ce5850)
        /usr/local/go/src/runtime/panic.go:522 +0x1b5
github.com/gin-gonic/gin.(*Context).AbortWithStatus(0xc00026aee8, 0x190)
        /Users/jpskgc/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:146 +0x45
github.com/gin-gonic/gin.(*Context).AbortWithError(0xc0000d9ee8, 0x190, 0x1863e00, 0xc0002700a0, 0x1863e00)
        /Users/jpskgc/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:162 +0x39
github.com/gin-gonic/gin.(*Context).MustBindWith(0xc00026aee8, 0x16328e0, 0xc00022c180, 0x186e060, 0x1d16588, 0x1e316d0, 0x0)
        /Users/jpskgc/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:561 +0x92
github.com/gin-gonic/gin.(*Context).BindJSON(...)
        /Users/jpskgc/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:528
article/api/dao.PostImageToDBDao(0xc00026aee8, 0xc000276000)
        /Users/jpskgc/article/api/dao/dao.go:54 +0x87
article/api/dao.TestPostImageToDBDao(0xc000234100)
        /Users/jpskgc/article/api/dao/dao_test.go:204 +0x4b6
testing.tRunner(0xc000234100, 0x17897e0)
        /usr/local/go/src/testing/testing.go:865 +0xc0
created by testing.(*T).Run
        /usr/local/go/src/testing/testing.go:916 +0x35a
exit status 2
FAIL    article/api/dao 0.032s
</code></pre>
","11964380","","","","","2019-08-30 22:27:24","How to set mock gin.Context for BindJSON","<unit-testing><go><gin><go-sqlmock>","0","1","","","","57733801","2253","2253","gin","315","5802757","5802756"
"57860937","1","","","2019-09-09 20:40:39","","0","164","<p>How can I get all the data sent to the server after <code>panic()</code> to be dumped into  <code>log.Printf()</code> using Gin?</p>

<p>I'm making a small change where after a panic, we want to collect all the data that was sent.</p>

<p>I've been using this (<a href=""https://github.com/gin-gonic/gin#custom-log-format"" rel=""nofollow noreferrer"">https://github.com/gin-gonic/gin#custom-log-format</a>), but haven't found a way for it to detect panics or collect data dumps, the body is always empty.</p>

<pre class=""lang-golang prettyprint-override""><code>r.Use(gin.LoggerWithFormatter(func(param gin.LogFormatterParams) string {
    var bodyBytes []byte
    if param.Request.Body != nil {
        bodyBytes, _ = ioutil.ReadAll(param.Request.Body)
    }

    param.Request.Body = ioutil.NopCloser(bytes.NewBuffer(bodyBytes))

    // This is always empty :(
    payloadString := string(bodyBytes)
}))
</code></pre>

<p>I have also copied Gin's function and modified it, but <code>r.Use(gin.Recovery())</code> but still no success.</p>

<p>Thanks in advance!</p>
","12032337","","12032337","","2019-09-09 21:01:58","2019-09-09 21:01:58","Getting payload in Gin after a Panic","<go><gin>","0","2","","","","57860937","2253","2253","gin","315","5802757","5802756"
"57928208","1","57929078","","2019-09-13 17:44:42","","1","87","<p>i can see the documentation we do automigrate like this,  <code>db.AutoMigrate(&amp;model.TheTodo{})</code></p>

<p>how about if we have a lot of multiples models? <code>db.AutoMigrate(&amp;model.TheTodo{}, &amp;model.TheBlog{}, &amp;model.Employee{}, and many more...... )</code></p>

<p>will gorm create that table if we put like that? and is that any way to make inside AutoMigrate to make short? </p>

<pre><code>db.AutoMigrate(allmodels)
</code></pre>

<p>would it possible ?</p>
","11992766","","8685016","","2019-10-01 17:17:08","2020-01-21 05:22:58","how to make multiple models auto migrate in gorm","<go><go-gorm><gin>","1","0","","","","57928208","2253","2253","gin","315","5802757","5802756"
"57929396","1","","","2019-09-13 19:30:34","","1","51","<p>I tried to make models Association ForeignKey on PostgreSQL for the Person it belongs to Data and Data belongs to Person 
this is my struct </p>

<pre><code>type (
    Data struct {
        ID          uint `gorm:""auto_increment""`
        PersonID    uint
        Person      *Person `gorm:""foreignkey:id;association_foreignkey:PersonID""`
        Birthday    *time.Time
        Salary      float64 `gorm:""type:money""`
    }

    Person struct {
        gorm.Model
        Email    string `gorm:""type:varchar(100);unique_index;not null""`
        Password string `gorm:""type:varchar(100);not null""`
        Role     string `gorm:""type:varchar(30);not null""`
        DataID   uint
        Data     *Data `gorm:""foreignkey:id;association_foreignkey:DataID""`
    }
)
</code></pre>

<p>I want to on Data table has <code>Person_id</code> is to be foreign key from Person table, and as well the Person table has <code>Data_id</code> to be foreign key from the data table after I see on ER Diagram on my DBeaver, those are not created as I wish :( it is not any relationship on ER Diagram, I am sure my Association  on above wrong, can anyone give me some info to fix that?</p>
","11992766","","8685016","","2019-10-01 17:17:14","2019-11-13 13:29:51","Foreign key and Association in gorm not created correctly","<postgresql><go><go-gorm><gin>","1","0","","","","57929396","2253","2253","gin","315","5802757","5802756"
"57977531","1","","","2019-09-17 15:27:18","","-1","847","<p>I've been using Gin's ShouldBind() method to bind form data to a struct:</p>

<pre><code>type UpdateUserInfoContext struct {
    Country   string `json:""country""`
    EmailAddr string `json:""emailAddr""`
    LoginID   string `json:""loginID""`
    UserName  string `json:""username""`
}

func (h *handler) updateUserInfo(ctx *gin.Context) {

    var json UpdateUserInfoContext

    if err := ctx.ShouldBind(&amp;json); err != nil {
        ctx.JSON(http.StatusBadRequest, gin.H{""error"": err.Error()})
        return
    }

    h.service.UpdateUserPassword(json)

    ctx.JSON(http.StatusOK, ""success"")

}
</code></pre>

<p>But now I need to build a large, dynamic UPDATE SQL based on what is and isn't present in the body of a POST request. Since ShouldBind() binds to a struct I can't iterate over the values in the body without using reflection.  I figured an easier way would be to see if there's a method to bind the requests to a map instead of a struct.  There is the context method <code>PostFormMap(key string)</code>, however as far as I can tell from the example given here (<a href=""https://github.com/gin-gonic/gin#another-example-query--post-form"" rel=""nofollow noreferrer"">https://github.com/gin-gonic/gin#another-example-query--post-form</a>), this method requires the values correspond to to the argument key in the request body.  Does anyone have any experience doing this?  Thank you!</p>
","10261950","","13860","","2019-09-17 16:37:47","2019-09-17 17:16:52","How can you bind a POST body to map?","<dictionary><go><post><struct><gin>","1","2","","","","57977531","2253","2253","gin","315","5802757","5802756"
"58545839","1","","","2019-10-24 16:49:06","","-3","42","<p>my project go-gin</p>

<p>so i tried setting cors</p>

<p>When I submitted the following code,</p>

<pre><code>package middleware

import (
    ""github.com/gin-contrib/cors""
    ""github.com/gin-gonic/gin""
)

func Use() {
    gin.SetMode(gin.ReleaseMode)

    cors.Default()
    return
}
</code></pre>

<pre><code>
func main() {
    log.Printf(""Server started"")

    r := gin.Default()

    route.Route(r)

    middleware.Use()

    log.Fatal(r.Run("":8080""))
}

</code></pre>

<p>but it was pointed out that cors did not work, and this method worked fine with the application I created before, but I know what the problem is with this application Is not ...</p>

<p>If anyone knows it would be nice to tell you</p>

<p>thanks</p>
","10641015","","","","","2019-10-25 14:01:48","how to set cors setting","<go><cors><gin><go-gin>","1","1","0","","","58545839","2253","2253","gin","315","5802757","5802756"
"58585078","1","","","2019-10-28 02:17:01","","0","241","<p>Gin's request validation feature is not working when the request body (JSON) represents an array of objects</p>

<p>Ex:</p>

<pre><code>[ 
   { 
      ""field1"":""aaa"",
      ""field2"":""bbb""
   }
]
</code></pre>

<p>code:</p>

<pre><code>type item struct {
    Field1 string `json:""field1"" binding:""required""`
    Field2 string `json:""field2"" binding:""required""`
}

var items []item

err := c.BindJSON(&amp;items)
</code></pre>

<p>To be more clear, the validation logic in gin is expecting the root object to be a struct and hence bails out when an array type gets passed.</p>

<p>what is best way to validate each object in an array passed in the body?</p>
","8213652","","8213652","","2019-10-28 02:23:33","2019-10-28 14:13:06","Binding validations does not work when request body is Array of object by golang gin","<go><gin>","1","0","","","","58585078","2253","2253","gin","315","5802757","5802756"
"58913826","1","58914213","","2019-11-18 11:44:14","","-1","161","<p>I have created an API that is working fine, but I got an error like <strong>runtime error: invalid memory address or nil pointer dereference</strong> when the unit test code is executed.</p>

<p>full response for your referance</p>

<pre><code>runtime error: invalid memory address or nil pointer dereference
D:/Go/src/runtime/panic.go:199 (0x447473)
    panicmem: panic(memoryError)
D:/Go/src/runtime/signal_windows.go:233 (0x447320)
    sigpanic: panicmem()
D:/Projects/GoLang/cloudfactory-backend/db/teams.go:11 (0xb49b36)
    SelectAllTeams: func SelectAllTeams() (teams []models.Team, err error) {
D:/Projects/GoLang/cloudfactory-backend/services/teams.go:11 (0xbb09ec)
    GetTeams: teams, err = db.SelectAllTeams()
D:/Projects/GoLang/cloudfactory-backend/controllers/api.go:32 (0xbb1b51)
    ApiController.GetTeams: teams, err := services.GetTeams()
C:/Users/justin.joseph/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 (0x9f7da1)
    (*Context).Next: c.handlers[c.index](c)
D:/Projects/GoLang/cloudfactory-backend/middlewares/db_logger.go:72 (0xc30430)
    DBLogger.func1: c.Next()
C:/Users/justin.joseph/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 (0x9f7da1)
    (*Context).Next: c.handlers[c.index](c)
C:/Users/justin.joseph/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 (0xa0b2ca)
    RecoveryWithWriter.func1: c.Next()
C:/Users/justin.joseph/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 (0x9f7da1)
    (*Context).Next: c.handlers[c.index](c)
C:/Users/justin.joseph/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 (0xa0a357)
    LoggerWithConfig.func1: c.Next()
C:/Users/justin.joseph/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 (0x9f7da1)
    (*Context).Next: c.handlers[c.index](c)
C:/Users/justin.joseph/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 (0xa01798)
    (*Engine).handleHTTPRequest: c.Next()
 C:/Users/justin.joseph/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 (0xa00fba)
    (*Engine).ServeHTTP: engine.handleHTTPRequest(c)
 D:/Projects/GoLang/cloudfactory-backend/tests/controller_tests/api_test.go:73 (0xc69edd)
    (*ApiSute).TestGetArticle1: suite.Router.ServeHTTP(resp, req)
D:/Go/src/reflect/value.go:460 (0x4df3ac)
    Value.call: call(frametype, fn, args, uint32(frametype.size), uint32(retOffset))
D:/Go/src/reflect/value.go:321 (0x4deb6a)
    Value.Call: return v.call(""Call"", in)
C:/Users/justin.joseph/go/pkg/mod/github.com/stretchr/testify@v1.4.0/suite/suite.go:133 (0x7e0d15)
    Run.func2: method.Func.Call([]reflect.Value{reflect.ValueOf(suite)})
D:/Go/src/testing/testing.go:909 (0x52a85f)
    tRunner: fn(t)
D:/Go/src/runtime/asm_amd64.s:1357 (0x461ab0)
    goexit: BYTE    $0x90   // NOP
</code></pre>

<p>My unit test code function </p>

<pre><code>func (suite *ApiSute)  TestGetTeams() {

    req, err := http.NewRequest(""GET"", ""/api/teams"", nil)

   if err != nil {
       fmt.Println(err)
       os.Exit(1)
   }
   resp := httptest.NewRecorder()
   suite.Router.ServeHTTP(resp, req)
   suite.Equal(suite.Response.Code, 200)
}
</code></pre>

<p>My model function SelectAllTeams</p>

<pre><code>func SelectAllTeams() (teams []models.Team, err error) {
sqlStatement := `
SELECT team_uuid, name, code, description FROM cf.team`

err = DBCon.Ping()
if err != nil {
    log.Print(err)
    return
}

err = DBCon.Select(&amp;teams, sqlStatement)
if err != nil {
    log.Print(""Error selecting team..."")
    log.Print(err)
    return
}
return
}
</code></pre>

<p>My Db configutaion and other things</p>

<pre><code>type ApiSute struct {
    suite.Suite
    Config *viper.Viper
    Router *gin.Engine
    Response *httptest.ResponseRecorder
}


// sets up suite with dev configs and starts sets up the router
// SetupSuite runs once before executing any tests
func (suite *ApiSute) SetupSuite() {
    config.Init(""dev"")
    suite.Config = config.GetConfig()
    suite.Router = server.SetupRouter()
}
</code></pre>

<p>can any one help me to find some solution. Thanks in advance</p>
","9167487","","9167487","","2019-11-18 11:59:24","2019-11-18 12:06:39","Unit test code := runtime error: invalid memory address or nil pointer dereference","<postgresql><go><gin>","1","5","","","","58913826","2253","2253","gin","315","5802757","5802756"
"58916195","1","","","2019-11-18 13:55:31","","0","303","<p>I'm trying to make middleware for Gin server to handle events during single request because I need things like IP address from context and to not pass whole context I'd rather pass my listener which makes my method not dependent from <code>gin.Context</code>.</p>

<p>I set up a server </p>

<pre><code>func main() {
    router := gin.New()
    router.Use(gin.Recovery())
    api := router.Group(""api"", middleware())
    {
        api.GET(""test/:id"", endpoint)
    }
    router.Run(""localhost:8080"")
}
</code></pre>

<p>and made a middleware</p>

<pre><code>func middleware() gin.HandlerFunc {
    return func(c *gin.Context) {
        listener := make(chan int)
        c.Set(""EventListener"", listener)
        go func() {
            select {
            case &lt;-listener:
                fmt.Println(""event called"")
            default:
                fmt.Println(""default"")
            }
        }()
        c.Next()
    }
}
</code></pre>

<p>then I got an endpoint where I get my listener and then pass it to any function I want to</p>

<pre><code>func endpoint(c *gin.Context) {
    listener := c.MustGet(""EventListener"").(chan int)

    id := c.Param(""id"")
    idInt, err := strconv.ParseInt(id, 10, 64)
    if err != nil {
        fmt.Println(err)
        return
    }
    doSomething(listener, int(idInt))
}
</code></pre>

<p>and <code>doSomething</code> function to show that no context is used later on</p>

<pre><code>func doSomething(listener chan int, id int) {
    if id == 1 {
        fmt.Println(""ERROR: cause event and exit"")
        listener &lt;- int(id)
        return
    }
    if id == 2 {
        fmt.Println(""WARN: cause event but continue"")
        listener &lt;- int(id)
    }
    fmt.Println(""OK: everything is fine"")
}
</code></pre>

<p>And the way it works now is:</p>

<p>when you call <code>GET http://localhost:8080/api/test/1</code> it will trigger event and exit</p>

<p>when you call <code>GET http://localhost:8080/api/test/2</code> it will trigger event and keep working</p>

<p>when you call <code>GET http://localhost:8080/api/test/3</code> it will not trigger event because all is ok.</p>

<p>So everything is working but only for one event along request. You can not call another one, because <code>select</code> already passed so my question is how to fix it and allow to trigger event multiple times. </p>

<p>I know I can make it like </p>

<pre><code>for {
    select {
    case &lt;-listener:
        fmt.Println(""event called"")
    }
}
</code></pre>

<p>but what would be stop condition of this loop?</p>

<p>I know there is something like <code>c.Done()</code> which is <code>chan</code> but have no idea how to use it in my case because I can make it like</p>

<pre><code>for {
    select {
    case &lt;-listener:
        fmt.Println(""event called"")
    case &lt;-c.Done():
        return
    }
}
</code></pre>

<p>but how to pass that <code>c.Done()</code>? This <code>goroutine</code>does not stop</p>
","6123774","","","","","2019-11-18 14:18:21","Go Gin middleware events","<go><gin>","1","4","","","","58916195","2253","2253","gin","315","5802757","5802756"
"58939432","1","","","2019-11-19 17:09:13","","0","26","<p>For example:</p>

<p>request: curl -X GET <a href=""https://host/resources/1?fields=name,gender"" rel=""nofollow noreferrer"">https://host/resources/1?fields=name,gender</a></p>

<pre><code>type Foo struct{
    Id uint64 `gorm:""column:id""`
    Name string `gorm:""column:name""`
    Gender string `gorm:""column:gender""`
    Age uint8 `gorm:""column:age""`
}

var foo Foo

...

fields := c.Query(""fields"")
id := c.Param(""id"")

...

db.Model(Foo{}).Select(fields).Where(""id = ?"", id).Scan(&amp;foo)

...

c.SecureJSON(http.StatusOK, gin.H{
    ""msg"":  http.StatusText(http.StatusOK),
    ""data"": foo,
})
</code></pre>

<p>Want: </p>

<pre><code>{
    msg:OK
    data:
    {
        Name: xxx
        Gender: male
    }
}
</code></pre>

<p>Got:</p>

<pre><code>{
    msg:OK
    data:
    {
        Id: 0
        Name: xxx
        Gender: male
        Age: 0
    }
}
</code></pre>

<p>How can I fix the problem? 
because query string ""fields"" is indefinite.
That's not how it works</p>

<pre><code>type Bar struct{
    Name string `gorm:""column:name""`
    Gender string `gorm:""column:gender""`
}

var bar Bar
db.Model(Foo{}).Select(fields).Where(""id = ?"", id).Scan(&amp;bar)
</code></pre>

<p>gorm's method Scan parameter only struct and slice, not supported map.</p>
","12183596","","13860","","2019-11-19 17:10:06","2019-11-19 17:10:06","How to only return given fields in golang and gin+gorm?","<go><go-gorm><gin>","0","1","","2019-11-19 17:11:22","","58939432","2253","2253","gin","315","5802757","5802756"
"59006643","1","","","2019-11-23 10:26:53","","0","137","<p>As title said, I am writing an API taking whatever json data that client posts.<br>
Is there any way directly get a <code>map[string]interface{}</code> type data like <code>bson.M</code>?<br>
I've tried simply looking up properties of <code>gin.Context</code>, is any of them would help if I miss some thing.</p>
","12254646","","13860","","2019-11-23 10:49:46","2019-11-25 01:37:19","Can gin framework get json post data like `map[string]interface{}` instead of binding with struct?","<go><gin>","1","2","","","","59006643","2253","2253","gin","315","5802757","5802756"
"59233783","1","","","2019-12-08 08:44:14","","0","36","<p>I have a multipart/form-data and I want to send it to the server using model binding in Gin framework.</p>

<p>Here is the struct I use to bind the form into:</p>

<pre><code>type createForm struct {
    Title       string                `form:""title"" binding:""required""`
    Description string                `form:""description"" binding:""required""`
    Photo       *multipart.FileHeader `form:""photo""`
}
</code></pre>

<p>Here is the handling code:</p>

<pre><code>var form createForm
if err := c.Bind(&amp;form); err != nil {
    fmt.Println(""error in here"")
    c.String(http.StatusBadRequest, fmt.Sprintf(""err: %s"", err.Error()))
    return
}
</code></pre>

<p>When I send the form with a photo attached, everything works fine, but when I leave the photo field empty I have an error in the handler:</p>

<pre><code>err: unexpected end of JSON input
</code></pre>

<p>I need to be able to send the form with empty photo field, I thought that not having the <code>binding:""required""</code> would allow me to do that but apparently, that's not the case. </p>

<p>How can I send the form with an empty file field?</p>
","12322377","","13860","","2019-12-08 10:15:16","2019-12-08 10:15:16","Cannot send empty file field to model binding","<go><binding><multipartform-data><required><gin>","0","0","","","","59233783","2253","2253","gin","315","5802757","5802756"
"59249418","1","","","2019-12-09 12:58:08","","-1","42","<p>I have a GenerateToken function that generates the token based on Username, Id and the combination of Standard Claims.</p>

<pre><code>func GenerateToken( creds *users.User) (tokenString string, err error){
    expirationTime := time.Now().Add(100 * time.Hour)
    claims := &amp;Claims{
        Username: creds.Username,
        Id      : creds.Id,
        StandardClaims: jwt.StandardClaims{
            ExpiresAt: expirationTime.Unix(),
            Issuer:    ""gogin"",
        },
    }
    token := jwt.NewWithClaims(jwt.SigningMethodHS256, claims)
    tokenString, err = token.SignedString([]byte(os.Getenv(""SECRET_CODE"")))
    if err != nil{
        return """", err
    }
    return tokenString, nil
}
</code></pre>

<p>And here is the struct for the Claims</p>

<pre><code>type Claims struct {
    Username string `json:""username""`
    Id uint32
    jwt.StandardClaims
}
</code></pre>

<p>Above will generate me a token.
I need to decode this token and extract the Claims. Is there any way to get the same?</p>
","8011371","","13860","","2019-12-11 14:20:34","2019-12-11 14:20:34","How to get the claims from the token","<go><gin>","1","2","","","","59249418","2253","2253","gin","315","5802757","5802756"
"59434387","1","","","2019-12-21 07:39:11","","0","44","<p>I make go gin project</p>

<p>Use a technique such as twilio to send a 6-digit expiration date verification code to the user using the SMS sending function of aws sns.</p>

<p>When I try to implement a user-created function with a phone number and a six-digit authentication code, I don't come up with a good idea to implement a function that gives an expiration date to the authentication code.</p>

<p>Anyone have a good idea Do you know such a library?</p>

<p>Here is my source code I have created the logic up to creating a 6-digit authentication number</p>

<pre><code>func GenerateAuthCode(max int) string {
    var table = [...]byte{'1', '2', '3', '4', '5', '6', '7', '8', '9', '0'}
    b := make([]byte, max)
    n, err := io.ReadAtLeast(rand.Reader, b, max)
    if n != max {
        return err.Error()
    }
    for i := 0; i &lt; len(b); i++ {
        b[i] = table[int(b[i])%len(table)]
    }
    return string(b)
}
</code></pre>

<p>I want to generate in this logic</p>

<p>thank you</p>
","10641015","","10641015","","2019-12-21 09:23:04","2019-12-21 09:41:09","Authentication code with expiration date code","<go><sms><aws-sdk><gin>","1","1","","","","59434387","2253","2253","gin","315","5802757","5802756"
"60059337","1","","","2020-02-04 14:18:20","","0","72","<p>I am trying to create an API with <code>Go</code>, <code>gorm</code> and <code>gin</code>. How ever, Using Direct squl query did work but I was it became too cumbersome and decided to leverage <code>gorm</code> which is fantastic. How ever after my implementation, I am unable to get the project up again and keep getting error </p>

<blockquote>
  <p>panic: runtime error: invalid memory address or nil pointer
  dereference [signal SIGSEGV: segmentation violation code=0x1 addr=0xb0
  pc=0x137b606]</p>
</blockquote>

<p>I have pasted my code with packages here. I would be glad if one could point me to the issue.</p>

<p><strong>PostgresDoa.go</strong></p>

<pre><code>package postgres

import (
    ""fmt""
    ""log""
    ""net/http""

    ""github.com/AdieOlami/bookstore_users-api/domain/users""
    ""github.com/gin-gonic/gin""
    ""github.com/jinzhu/gorm""
)

type Sever struct {
    DB     *gorm.DB
    Router *gin.Engine
}

func (server *Sever) Initialize(Dbdriver, DbUser, DbPassword, DbPort, DbHost, DbName string) {
    var err error

    if Dbdriver == ""mysql"" {
        DBURL := fmt.Sprintf(""%s:%s@tcp(%s:%s)/%s?charset=utf8&amp;parseTime=True&amp;loc=Local"", DbUser, DbPassword, DbHost, DbPort, DbName)
        server.DB, err = gorm.Open(Dbdriver, DBURL)
        if err != nil {
            fmt.Printf(""Cannot connect to %s database"", Dbdriver)
            log.Fatal(""This is the error:"", err)
        } else {
            fmt.Printf(""We are connected to the %s database"", Dbdriver)
        }
    }

    if Dbdriver == ""postgres"" {
        DBURL := fmt.Sprintf(""host=%s port=%s user=%s dbname=%s sslmode=disable password=%s"", DbHost, DbPort, DbUser, DbName, DbPassword)
        server.DB, err = gorm.Open(Dbdriver, DBURL)
        if err != nil {
            fmt.Printf(""Cannot connect to %s database"", Dbdriver)
            log.Fatal(""This is the error:"", err)
        } else {
            fmt.Printf(""We are connected to the %s database"", Dbdriver)
        }
    }

    server.DB.Debug().AutoMigrate(&amp;users.User{}) //database migration
    server.Router = gin.Default()
}

func (server *Sever) Run(addr string) {
    fmt.Println(""Listening to port 8080"")
    log.Fatal(http.ListenAndServe(addr, server.Router))
}
</code></pre>

<p><strong>UserDto.go</strong></p>

<pre><code>package users

import (
    ""strings""

    ""github.com/AdieOlami/bookstore_users-api/domain/base""
    ""github.com/AdieOlami/bookstore_users-api/utils/errors""
    ""github.com/jinzhu/gorm""
    uuid ""github.com/satori/go.uuid""
)

type User struct {
    base.Base
    UserID    uuid.UUID `gorm:""type:uuid;column:userId;not null;"" json:""userId""`
    FirstName string    `gorm:""size:255;not null;unique;column:firstName"" json:""firstName""`
    LastName  string    `gorm:""size:255;not null;unique;column:lastName"" json:""lastName""`
    Email     string    `gorm:""size:100;not null;unique;column:email"" json:""email""`
}

func (user *User) Validate() *errors.Error {
    user.Email = strings.TrimSpace(strings.ToLower(user.Email))
    if user.Email == """" {
        return errors.NewBadRequestError(""invalid email address"")
    }
    return nil
}

func (user *User) SaveUser(db *gorm.DB) *errors.Error {

    var err error
    err = db.Debug().Create(&amp;user).Error
    if err != nil {
        return errors.NewInteralServerError(err.Error())
    }
    return nil
}
</code></pre>

<p><strong>UserService.go</strong></p>

<pre><code>package services

import (

    ""github.com/AdieOlami/bookstore_users-api/domain/users""
    ""github.com/AdieOlami/bookstore_users-api/utils/errors""
)

func (server *Server) CreateUser(user users.User) (*users.User, *errors.Error) {

    if err := user.Validate(); err != nil {
        return nil, err
    }

    if err := user.SaveUser(server.DB); err != nil {
        return nil, err
    }
    return &amp;user, nil
}
</code></pre>

<p><strong>UserController.go</strong></p>

<pre><code>package users

import (
    ""net/http""
    ""strconv""

    ""github.com/AdieOlami/bookstore_users-api/domain/users""
    ""github.com/AdieOlami/bookstore_users-api/services""
    ""github.com/AdieOlami/bookstore_users-api/utils/errors""
    ""github.com/gin-gonic/gin""
)

var (
    server = services.Server{}
)

// CREATE USER
func CreateUser(c *gin.Context) {
    var user users.User

    if err := c.ShouldBindJSON(&amp;user); err != nil {
        // TODO: hnadle json error return bad request
        err := errors.NewBadRequestError(""invalid json body"")
        c.JSON(err.Status, err)
        // fmt.Println(err.Error())
        return
    }
    result, saveErr := server.CreateUser(user)
    if saveErr != nil {
        // TODO: handle user createing error
        c.JSON(saveErr.Status, saveErr)
        return
    }
    c.JSON(http.StatusCreated, result)
}
</code></pre>

<p><strong>Routes.go</strong></p>

<pre><code>package app

import (
    ""github.com/AdieOlami/bookstore_users-api/controllers/users""
    ""github.com/AdieOlami/bookstore_users-api/database/postgres""
)

var (
    server = postgres.Sever{}
)

func initializeRoutes() {

    server.Router.POST(""/users"", users.CreateUser)
}
</code></pre>

<p><strong>Application.go</strong></p>

<pre><code>package app

import (
    ""os""

    ""github.com/AdieOlami/bookstore_users-api/seed""

    _ ""github.com/jinzhu/gorm/dialects/mysql""    //mysql database driver
    _ ""github.com/jinzhu/gorm/dialects/postgres"" //postgres database driver
)

func StartApplication() {

    server.Initialize(os.Getenv(""DB_DRIVER""), os.Getenv(""DB_USER""), os.Getenv(""DB_PASSWORD""), os.Getenv(""DB_PORT""), os.Getenv(""DB_HOST""), os.Getenv(""DB_NAME""))

    seed.Load(server.DB)
    server.Run("":8088"")
    initializeRoutes()
}
</code></pre>

<p>in my <strong>Main.go</strong></p>

<pre><code>func main() {
    app.StartApplication()
}
</code></pre>
","8310287","","8685016","","2020-02-05 07:28:14","2020-02-11 18:47:10","Connecting Gorm and Gin Golang","<go><go-gorm><gin>","1","1","","","","60059337","2253","2253","gin","315","5802757","5802756"
"60074426","1","60075407","","2020-02-05 11:07:09","","1","47","<p>I am trying to get users from the DB with gorm and I get a 200 response but the user object got has empty values </p>

<pre><code>{
    ""id"": """",
    ""firstName"": """",
    ""lastName"": """",
    ""email"": """",
    ""createdAt"": ""0001-01-01T00:00:00Z"",
    ""updatedAt"": ""0001-01-01T00:00:00Z"",
    ""deletedAt"": null
}
</code></pre>

<p>here is my model and my reg method</p>

<pre><code>func (user *User) Get(db *gorm.DB, uid string) *errors.Error {
    fmt.Println(""This is user ID %s"", uid)

    var err error
    err = db.Debug().Model(User{}).Where(""id = ?"", uid).Take(&amp;user).Error
    if err != nil {
        return errors.NewBadRequestError(fmt.Sprintf(""error when trying to get user: %s"", err.Error()))
    }
    if gorm.IsRecordNotFoundError(err) {
        return errors.NewBadRequestError(fmt.Sprintf(""user not found: %s"", err.Error()))
    }
    return nil
}
</code></pre>

<p>the model is </p>

<pre><code>type User struct {
    ID string `gorm:""primary_key;"" json:""id""`
    FirstName string     `gorm:""size:255;not null;column:firstName"" json:""firstName""`
    LastName  string     `gorm:""size:255;not null;column:lastName"" json:""lastName""`
    Email     string     `gorm:""size:100;not null;unique;column:email"" json:""email""`
    CreatedAt time.Time  `gorm:""default:CURRENT_TIMESTAMP;column:createdAt"" json:""createdAt""`
    UpdatedAt time.Time  `gorm:""default:CURRENT_TIMESTAMP;column:updatedAt"" json:""updatedAt""`
    DeletedAt *time.Time `sql:""index;column:deletedAt"" json:""deletedAt""`
}
</code></pre>

<p>my servicess logic</p>

<pre><code>func GetUser(userId string) (*users.User, *errors.Error) {
    // result := &amp;users.User{Base: {

    // }, }
    fmt.Println(""This is user ID 2 %s"", userId)
    result := &amp;users.User{}
    if err := result.Get(database.DB, userId); err != nil {
        return nil, err
    }
    return &amp;users.User{}, nil
}
</code></pre>

<p>my controller </p>

<pre><code>func GetUser(c *gin.Context) {
    userId := c.Param(""user_id"")
    fmt.Println(userId)

    user, getErr := services.GetUser(userId)
    if getErr != nil {
        // TODO: handle user createing error
        c.JSON(getErr.Status, getErr)
        return
    }
    c.JSON(http.StatusOK, user)
}
</code></pre>
","8310287","","","","","2020-02-05 12:03:19","Get Object returns empty string as values Golang","<go><gorm><gin>","1","2","","","","60074426","2253","2253","gin","315","5802757","5802756"
"60077555","1","","","2020-02-05 14:03:52","","0","46","<p>I am trying to update Users in mysql DB and I keep getting error <code>runtime error: invalid memory address or nil pointer dereference</code></p>

<p>I am not sure where the issue is</p>

<p><strong>my query</strong> </p>

<pre><code>queryUpdateUser       = ""UPDATE users SET firstName=?, lastName=?, email=? WHERE id=?;""
</code></pre>

<p><strong>my DAO</strong></p>

<pre><code>func (user *User) Update() *errors.Error {
    stmt, err := usersdb.Client.Prepare(queryUpdateUser)
    if err != nil {
        return errors.NewInteralServerError(err.Error())
    }
    defer stmt.Close()

    user.UpdatedAt = dates.GetNowString()
    _, err = stmt.Exec(user.FirstName, user.LastName, user.Email)
    if err != nil {
        return errors.ParseError(err)
    }
    return nil
}
</code></pre>

<p><strong>UserService</strong></p>

<pre><code>func GetUser(userId int64) (*users.User, *errors.Error) {

    result := &amp;users.User{Id: userId}
    if err := result.Get(); err != nil {
        return nil, err
    }
    return result, nil
}

func UpdateUser(user users.User) (*users.User, *errors.Error) {
    current, err := GetUser(user.Id)
    if err != nil {
        return nil, err
    }
    fmt.Println(current)
    current.FirstName = user.FirstName
    current.LastName = user.LastName
    current.Email = user.Email
    current.UpdatedAt = dates.GetNowString()
    fmt.Println(current)
    if err := current.Update(); err != nil {
        return nil, err
    }
    return current, nil
}
</code></pre>

<p><strong>my controller</strong></p>

<pre><code>func UpdateUser(c *gin.Context) {

    userId, userErr := strconv.ParseInt(c.Param(""user_id""), 10, 64)
    if userErr != nil {
        err := errors.NewBadRequestError(""invalid user id"")
        c.JSON(err.Status, err)
        return
    }

    var user users.User
    if err := c.ShouldBindJSON(&amp;user); err != nil {
        // TODO: hnadle json error return bad request
        err := errors.NewBadRequestError(""invalid json body"")
        c.JSON(err.Status, err)
        // fmt.Println(err.Error())
        return
    }
    user.Id = userId
    result, err := services.UpdateUser(user)
    if err != nil {
        // TODO: handle user updating error
        c.JSON(err.Status, err)
        return
    }
    c.JSON(http.StatusOK, result)
}
</code></pre>

<p>added <code>usersdb</code></p>

<pre><code>var (
    Client *sql.DB
)

func init() {
    loadErr := godotenv.Load()
    if loadErr != nil {
        log.Fatal(""Error loading .env file"")
    }

    host := os.Getenv(""DB_HOST"")
    driver := os.Getenv(""DB_DRIVER"")
    user := os.Getenv(""DB_USER"")
    password := os.Getenv(""DB_PASSWORD"")
    name := os.Getenv(""DB_NAME"")
    port := os.Getenv(""DB_PORT"")
    datasourceName := fmt.Sprintf(""%s:%s@tcp(%s)/%s?charset=utf8"", user, password, host+"":""+port, name,)
    fmt.Println(""%s:%s@tcp(%s)/%s?charset=utf8"", user, password, host+"":""+port, name)
    // fmt.print(""%s:%s@tcp(%s)/%s?charset=utf8"", user, password, host+port, name)
    var err error
    Client, err = sql.Open(driver, datasourceName)
    if err != nil {
        panic(err)
    }
    if err = Client.Ping(); err != nil {
        panic(err)
    }
    log.Println(""DB successfully configured"")
}
</code></pre>

<p><strong>STACK TRACE</strong></p>

<pre><code>runtime error: invalid memory address or nil pointer dereference /usr/local/Cellar/go/1.13.6/libexec/src/runtime/panic.go:199 (0x104446b)
panicmem: panic(memoryError) /usr/local/Cellar/go/1.13.6/libexec/src/runtime/signal_unix.go:394 (0x10442a8)
sigpanic: panicmem() /Users/Olar/Documents/Dev/Go/bookstore_users-api/utils/errors/MysqlError.go:16 (0x1564727)
ParseError: sqlErr, ok := err.(*mysql.MySQLError) /Users/Olar/Documents/Dev/Go/bookstore_users-api/utils/errors/MysqlError.go:18 (0x15647fa)
ParseError: if strings.Contains(sqlErr.Error(), errorNowRows) { /Users/Olar/Documents/Dev/Go/bookstore_users-api/domain/users/UserDao.go:77 (0x1565405)
(*User).Update: return errors.ParseError(err) /Users/Olar/Documents/Dev/Go/bookstore_users-api/services/UsersService.go:47 (0x15b7955)
UpdateUser: if err := current.Update(); err != nil { /Users/Olar/Documents/Dev/Go/bookstore_users-api/controllers/users/UsersController.go:80 (0x15b82cd)
UpdateUser: result, err := services.UpdateUser(user) /Users/Olar/home/golib/pkg/mod/github.com/gin-gonic/gin@v1.5.0/context.go:147 (0x14f425a)
(*Context).Next: c.handlers[c.index](c) /Users/Olar/home/golib/pkg/mod/github.com/gin-gonic/gin@v1.5.0/recovery.go:83 (0x1507cf3)
RecoveryWithWriter.func1: c.Next() /Users/Olar/home/golib/pkg/mod/github.com/gin-gonic/gin@v1.5.0/context.go:147 (0x14f425a)
(*Context).Next: c.handlers[c.index](c) /Users/Olar/home/golib/pkg/mod/github.com/gin-gonic/gin@v1.5.0/logger.go:241 (0x1506e20)
LoggerWithConfig.func1: c.Next() /Users/Olar/home/golib/pkg/mod/github.com/gin-gonic/gin@v1.5.0/context.go:147 (0x14f425a)
(*Context).Next: c.handlers[c.index](c) /Users/Olar/home/golib/pkg/mod/github.com/gin-gonic/gin@v1.5.0/gin.go:403 (0x14fe289)
(*Engine).handleHTTPRequest: c.Next() /Users/Olar/home/golib/pkg/mod/github.com/gin-gonic/gin@v1.5.0/gin.go:364 (0x14fd97d)
(*Engine).ServeHTTP: engine.handleHTTPRequest(c) /usr/local/Cellar/go/1.13.6/libexec/src/net/http/server.go:2802 (0x12ce7c3)
serverHandler.ServeHTTP: handler.ServeHTTP(rw, req) /usr/local/Cellar/go/1.13.6/libexec/src/net/http/server.go:1890 (0x12ca064)
(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req) /usr/local/Cellar/go/1.13.6/libexec/src/runtime/asm_amd64.s:1357 (0x105c4d0)
goexit: BYTE    $0x90   // NOP
</code></pre>

<p>The sql error:</p>

<pre><code>""sql: expected 4 arguments, got 3""
</code></pre>

<p>I am unable to get the cause of this error. Any help is appreciated.</p>
","8310287","","965900","","2020-02-05 16:49:12","2020-02-05 16:49:12","SQL update golang with gin","<mysql><go><gin>","0","9","","","","60077555","2253","2253","gin","315","5802757","5802756"
"60077979","1","","","2020-02-05 14:26:31","","7","166","<p>In a website which uses <code>gin-gonic</code> as webserver and <code>nginx</code> as proxy server, clients send their data to server via <code>gin-conic</code> exposed APIs and in order to send server commands to clients each one(i.e client) has a connection to web server which it keeps it for a long time(i.e does not expire it for several hours) and fill their response body with desired command(for bidirectional connection, we can use <code>ws</code> instead of that). </p>

<p>Problem is we need to understand if a client drop/canceled its connection with server. In order to understand that we have this line <code>case &lt;-c.Request.Context().Done():</code> in the following code.</p>

<pre><code>func MakeConnection(c *gin.Context) {
// ... code
select {
case notification = &lt;-clientModel.Channels[token]:// we have a command to send to user
    log.Info(""Notification"")
    err = nil
case &lt;-c.Request.Context().Done(): // connection dropped by client
    log.Info(""Cancel"")
    err = c.Err()
case &lt;-ctx.Done(): // time elapsed and there was no command to send to client
    log.Info(""timeout"")
    err = errors.New(""timeout exceeded"")
}
// ... code
}
</code></pre>

<p>Every things works good(if we make such a connection to server and cancel it after arbitrary time, immediately <code>Cancel</code> displayed in the terminal) until the count of clients increases. For about 5 clients this work as expected but for more than 10 clients(more load) although <code>ngixn</code> logs cancellation in its access log(as error code <code>499</code>) but web server(i.e <code>gin-gonic</code>) does not notified.</p>

<p><strong>PS:</strong> <code>nginx</code> configuration</p>

<p>`</p>

<pre><code>server {
    # SSL configuration
    listen 443 ssl http2 so_keepalive=10:150:1;
    listen [::]:443 ssl http2 so_keepalive=10:150:1;
    include /etc/nginx/snippets/self-signed.conf;
    include /etc/nginx/snippets/ssl-params.conf;

    root /var/www/project;
    autoindex off;

    location / {
        try_files $uri $uri/ @proxy;
    }

    location ~ /v1/v/[0-9a-zA-Z]+/notification {
        proxy_connect_timeout       86460;
        proxy_send_timeout          86460;
        proxy_read_timeout          86460;
        send_timeout                86460;
        proxy_pass                  http://example_host:8002;
    }
}
</code></pre>

<p>`</p>

<p>`
    user  nginx;
    worker_processes  auto;</p>

<pre><code>error_log  /var/log/nginx/error.log warn;
pid        /var/run/nginx.pid;

events {
    worker_connections  1024;
    use epoll;
    multi_accept on;
}

http {
    limit_req_zone $binary_remote_addr zone=req_zone:200m rate=10r/s;
    limit_req_zone $request_uri zone=search_limit:100m rate=5r/s;
    limit_req_zone $binary_remote_addr zone=login_limit:100m rate=20r/m;
    vhost_traffic_status_zone;
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;

    log_format  main  '$remote_addr - $remote_user [$time_local] ""$request"" '
                      '$status $body_bytes_sent ""$http_referer"" '
                      '""$http_user_agent"" ""$http_x_forwarded_for""';

    access_log  /var/log/nginx/access.log  main;

    sendfile        on;
    #tcp_nopush     on;

    keepalive_timeout  65;

    gzip  on;
    gzip_types  text/html text/css text/javascript text/xml text/plain
                image/x-icon image/svg+xml 
                application/rss+xml application/javascript application/x-javascript 
                application/xml application/xhtml+xml 
                application/x-font application/x-font-truetype application/x-font-ttf application/x-font-otf application/x-font-opentype application/vnd.ms-fontobject font/ttf font/otf font/opentype
                font/woff font/ttf
                application/octet-stream;
    gzip_vary on;

    include /etc/nginx/conf.d/*.conf;
}
</code></pre>

<p>`</p>
","7559012","","7559012","","2020-02-09 18:19:07","2020-02-09 18:19:07","Nginx(as revser proxy) does not notify gin-gonic(as web server) when connection canceled by client","<go><nginx><nginx-reverse-proxy><gin>","0","6","1","","","60077979","2253","2253","gin","315","5802757","5802756"
"60268888","1","","","2020-02-17 19:02:35","","1","41","<p>I come from Mysql and nosql database, and I am new to Postgress db. I am using Postgres 11.6 on Aurora AWS. </p>

<p>I am trying to create tables made of two columns, a key and a jsonb value. </p>

<p>Each value looks like  this:</p>

<pre><code>{""game"": ""game6"",
   ""username"": ""Djobi"",   
   (bunch of fields)
   ""permissions"": [""permission3"", ""permission1"", ""permission5""]}
</code></pre>

<p>I am trying to add different indexes to see what are the capacities of the DB. One of them, is to find user by their name. The other is to find users having specific permission.</p>

<pre class=""lang-none prettyprint-override""><code> account_index   | account_index_username    | CREATE INDEX account_index_username ON public.account_index USING btree (((value -&gt; 'username'::text)))
 account_index   | account_index_permissions | CREATE INDEX account_index_permissions ON public.account_index USING gin (((value -&gt; 'permissions'::text)))
 account_index   | account_global_gin        | CREATE INDEX accountgin ON public.account_index USING gin (value)
</code></pre>

<p>I have two tables, with the exact same data. Each tables have about 30 millions rows. One with the index, one without. I am runing the following queries to test the performances:</p>

<pre><code>SELECT 1 
FROM account_noindex 
WHERE value @&gt; '{""permissions"": [""permission1""]}' limit 10;
</code></pre>

<p>I am trying here to find user having permission1. (side note, not sure yet how to ask how to have specifically permission1 versus any permission including permission1)
When runing my request on my <strong>index tables</strong>, I get a response time of 5000ms. 
When runing my request on my <strong>non index tables</strong>, I get a response time of 50 ms . </p>

<p>So the non index table is 100 time faster than the index one, which I have to say confuse me.
If I try to run a explain of the two queries I get the following results:</p>

<p>Index table:</p>

<pre class=""lang-none prettyprint-override""><code>Limit  (cost=430.49..468.31 rows=10 width=32)
   -&gt;  Bitmap Heap Scan on account_index  (cost=430.49..144146.44 rows=37999 width=32)
         Recheck Cond: (value @&gt; '{""permissions"": [""permission1""]}'::jsonb)
         -&gt;  Bitmap Index Scan on accountgin  (cost=0.00..420.99 rows=37999 width=0)
               Index Cond: (value @&gt; '{""permissions"": [""permission1""]}'::jsonb)
(5 rows)
</code></pre>

<p>Non index table</p>

<pre class=""lang-none prettyprint-override""><code>Limit  (cost=0.00..1935.23 rows=10 width=4)
   -&gt;  Seq Scan on account_noindex  (cost=0.00..7360637.42 rows=38035 width=4)
         Filter: (value @&gt; '{""permissions"": [""permission1""]}'::jsonb)
</code></pre>

<p>If I try to go deeper in offset (above 100k) the difference is less obvious, but the non index table is still faster.</p>

<p>[edit]
Here the full Analyze buffers for the indexed table:</p>

<pre><code>EXPLAIN (ANALYZE, BUFFERS) SELECT value-&gt;'permissions' FROM account_index WHERE value @&gt; '{""permissions"": [""permission1""]}' limit 12;
                                                                QUERY PLAN                                                                 
-------------------------------------------------------------------------------------------------------------------------------------------
 Limit  (cost=430.49..475.88 rows=12 width=32) (actual time=1926.289..1926.365 rows=12 loops=1)
   Buffers: shared hit=24398
   -&gt;  Bitmap Heap Scan on account_index  (cost=430.49..144146.44 rows=37999 width=32) (actual time=1926.287..1926.361 rows=12 loops=1)
         Recheck Cond: (value @&gt; '{""permissions"": [""permission1""]}'::jsonb)
         Rows Removed by Index Recheck: 30
         Heap Blocks: lossy=8
         Buffers: shared hit=24398
         -&gt;  Bitmap Index Scan on accountgin  (cost=0.00..420.99 rows=37999 width=0) (actual time=1916.655..1916.656 rows=8386144 loops=1)
               Index Cond: (value @&gt; '{""permissions"": [""permission1""]}'::jsonb)
               Buffers: shared hit=24390
 Planning Time: 0.073 ms
 Execution Time: 1927.143 ms

</code></pre>

<p><strong>So what am I missing here? Did I create my GIN index incorrectly? Or am I doing my request wrong?</strong></p>

<p>Note that I have the same issue with the index on my username. When making a request to find user with a specific username without any LIMIT, I get a full table scan with or without the GIN index. When I add the BTREE index then there is no problem and no limit is needed.</p>
","1572602","","13302","","2020-02-21 22:32:28","2020-02-21 22:32:28","Adding a GIN index on a JSONB column slows down my request","<postgresql><indexing><jsonb><gin>","1","0","1","","","60268888","2253","2253","gin","315","5802757","5802756"
"60283101","1","60283332","","2020-02-18 14:25:56","","0","28","<p>I was just reading the documentation of gin and found there are 2 different way to set assets folder to the server, one is using Static() method of the router as follow:</p>

<pre class=""lang-golang prettyprint-override""><code>package main

import ""github.com/gin-gonic/gin""

func main() {
        r := gin.Default()
        r.Static(""/assets"", ""./assets"")
</code></pre>

<p>Then the other is using static middleware as follows:</p>

<pre class=""lang-golang prettyprint-override""><code>package main

import (
       ""github.com/gin-gonic/gin""
       ""github.com/gin-contrib/static""
)

func main() {
        r := gin.Default()
        r.Use(static.Serve(""/"", static.LocalFile(""./assets"", false)))
</code></pre>

<p>Is there any difference between these 2 ways about speed, side-effect, and so on? </p>
","11073131","","","","","2020-02-18 14:38:49","What is difference between router.Static() and router.Use(static.Serve()) on the gin?","<go><gin>","1","0","","","","60283101","2253","2253","gin","315","5802757","5802756"
"60283173","1","","","2020-02-18 14:29:09","","0","84","<p>I'm trying out a basic web app to get a sense of things based on the following tutorial
<strong><em><a href=""https://www.freecodecamp.org/news/how-to-build-a-web-app-with-go-gin-and-react-cffdc473576/"" rel=""nofollow noreferrer"">https://www.freecodecamp.org/news/how-to-build-a-web-app-with-go-gin-and-react-cffdc473576/</a></em></strong></p>

<p>So far things worked out well (defined api,main.go and index.html) but now after adding the app.jsx components I'm supposed to get the rendered home component but instead get the following error.</p>

<p><strong>Uncaught Error: Could not load <a href=""http://localhost:3000/js/app.jsx"" rel=""nofollow noreferrer"">http://localhost:3000/js/app.jsx</a>
    at XMLHttpRequest.xhr.onreadystatechange (babel.js:61552)</strong></p>

<p>(the above error is displayed in the console of chrome , follow the link below to see the screenshot of localhost )</p>

<p><a href=""https://i.stack.imgur.com/VyPDO.png"" rel=""nofollow noreferrer"">blob:https://stackoverflow.com/793c356c-f0c3-4e20-bb2d-043a96aa0539</a></p>

<p>/*
Was also getting the warning</p>

<p>[GIN-debug] [WARNING] Running in ""debug"" mode. Switch to ""release"" mode in production.</p>

<p>( searched a lot and tried to find build, configuration manager,no standard toolbar or drop down 
at the end added gin.SetMode(gin.ReleaseMode)
 in main function but the above mentioned error still persists !) */</p>

<p>// Main function  and handlers in main.go</p>

<pre><code> func main() {
    router := gin.Default()

    router.Use(static.Serve(""/"", static.LocalFile(""./views"", true)))

    api := router.Group(""/api"")
    {
        api.GET(""/"", func(c *gin.Context) {
            c.JSON(http.StatusOK, gin.H{
                ""message"": ""pong"",
            })
        })
    }

    api.GET(""/quotes"", QuoteHandler)
    api.POST(""/quotes/like/:quoteID"", LikeQuote)

    gin.SetMode(gin.ReleaseMode)

    router.Run("":3000"")
}

// QuoteHandler retrieves a list of available quotes
func QuoteHandler(c *gin.Context) {
    c.Header(""Content-Type"", ""application/json"")
    c.JSON(http.StatusOK, gin.H{
        ""message"": ""Quotes handler not implemented yet"",
    })
}

// LikeQuote increments the likes of a particular quote Item
func LikeQuote(c *gin.Context) {
    c.Header(""Content-Type"", ""application/json"")
    c.JSON(http.StatusOK, gin.H{
        ""message"": ""LikeQuote handler not implemented yet"",
    })
}
</code></pre>

<p>//app.jsx </p>

<pre><code> class App extends  React.Component {
    render() {
        if(this.loggedIn){
            return (&lt;LoggedIn/&gt;);
        }
        else {
            return (&lt;Home/&gt;);
        }
    }
}

class Home extends React.Component {
    render() {
        return (
            &lt;div className=""container""&gt;
                &lt;div className=""col-xs-8 col-xs-offset-2 jumbotron text-center""&gt;
                    &lt;h1&gt;Snippet n Sparks&lt;/h1&gt;
                    &lt;p&gt;Snippets of quotes sparking life&lt;/p&gt;
                    &lt;p&gt;Sign in to get access&lt;/p&gt;
                    &lt;a onClick={this.authenticate} className=""btn btn-primary btn-lg btn-login btn-block""&gt;Sign In&lt;/a&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        )
    }
}

class LoggedIn extends React.Component {
    constructor(props) {
     super(props);
    this.state = {
        quotes: []
    }
    }

render() {
    return (
        &lt;div className=""container""&gt;
            &lt;div className=""col-lg-12""&gt;
                &lt;br/&gt;
                &lt;span className=""pull-right""&gt;&lt;a onClick={this.logout}&gt;Log out&lt;/a&gt;&lt;/span&gt;
                &lt;h2&gt;Snippet n Sparks&lt;/h2&gt;
                &lt;p&gt;Let's feed you with some inspirational quotes!!&lt;/p&gt;
                &lt;div className=""row""&gt;
                    {this.state.quotes.map(function(quote, i){
                        return (&lt;Quote key={i} quote={quote} /&gt;);
                    })}
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    )
}
}

class Quote extends React.Component {
    constructor(props) {
        super(props);
        this.state = {
            liked: """"
        }
        this.like = this.like.blind(this);
    }

    like() {
        //..we'll add this b;lock later
    }

    render() {
        return(
            &lt;div className=""col-xs-4""&gt;
                &lt;div className=""panel panel-default""&gt;
                    &lt;div className=""panel-heading""&gt;#{this.props.joke.id} &lt;span className=""pull-right""&gt;{this.state.liked}&lt;/span&gt;&lt;/div&gt;
                    &lt;div className=""panel-body""&gt;
                        {this.props.quote.quote}
                    &lt;/div&gt;
                    &lt;div className=""panel-footer""&gt;
                        {this.props.quote.likes} Likes &amp;nbsp;
                        &lt;a onClick={this.like} className=""btn btn-default""&gt;
                            &lt;span className=""glyphicon glyphicon-thumbs-up""&gt;&lt;/span&gt;
                        &lt;/a&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        )
    }
}

ReactDOM.render(&lt;App /&gt;, document.getElementById('app'));
</code></pre>

<p>//index.html</p>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset=""UTF-8"" /&gt;
  &lt;meta name=""viewport"" content=""width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"" /&gt;
  &lt;title&gt;Snippet n sparks&lt;/title&gt;
  &lt;script src=""http://code.jquery.com/jquery-2.1.4.min.js""&gt;&lt;/script&gt;
  &lt;script src=""https://cdn.auth0.com/js/auth0/9.0/auth0.min.js""&gt;&lt;/script&gt;
  &lt;script type=""application/javascript"" src=""https://unpkg.com/react@16.0.0/umd/react.production.min.js""&gt;&lt;/script&gt;
  &lt;script type=""application/javascript"" src=""https://unpkg.com/react-dom@16.0.0/umd/react-dom.production.min.js""&gt;&lt;/script&gt;
  &lt;script type=""application/javascript"" src=""https://unpkg.com/babel-standalone@6.26.0/babel.js""&gt;&lt;/script&gt;
  &lt;script type=""text/babel"" src=""js/app.jsx""&gt;&lt;/script&gt;
  &lt;link href=""https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"" rel=""stylesheet""&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div id=""app""&gt;&lt;/div&gt;
&lt;/body&gt;
</code></pre>

<p><a href=""https://i.stack.imgur.com/HE9TX.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/HE9TX.png"" alt=""before views/js""></a></p>

<p><a href=""https://i.stack.imgur.com/l0hYn.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/l0hYn.png"" alt=""after views/js""></a></p>

<p><a href=""https://i.stack.imgur.com/RgvG8.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/RgvG8.png"" alt=""http://localhost:3000/js/""></a></p>
","12919436","","12919436","","2020-02-19 18:28:19","2020-02-19 18:28:19","Could not load http://localhost:3000/js/app.jsx","<reactjs><go><server><jsx><gin>","0","11","","","","60283173","2253","2253","gin","315","5802757","5802756"
"60352263","1","","","2020-02-22 12:43:58","","0","44","<p>I am getting a 204 with OPTIONS method, but the end-point doesn't seem to be hit
<a href=""https://i.stack.imgur.com/lmUMQ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/lmUMQ.png"" alt=""enter image description here""></a></p>

<p>Just building a simple file-upload endpoint like this:</p>

<pre><code>package main

import  (
    ""cloud.google.com/go/storage""
    ""github.com/gin-gonic/gin""
    ""github.com/gin-contrib/cors""
    ""google.golang.org/api/option""
    ""io""
    ""log""
)

 const uploadBucket = ""some-cool-bucket-name""
 const uploadApiKey = ""some-advanced-key""

func main() {
    router := gin.Default()

    rg := router.Group(""api/v1/photo"")
    {
        rg.PATCH(""/"", uploadFile)
    }

    router.Use(cors.Default())

    router.Run()
}

func uploadFile(c *gin.Context) {
    mr, e := c.Request.MultipartReader()
    if e != nil {
        panic(""Error reading request"")
    }

    client, e := storage.NewClient(c, option.WithAPIKey(uploadApiKey))
    bucket := client.Bucket(uploadBucket)

    for {
        p, e := mr.NextPart()

        if e == io.EOF {
            break
        } else if e != nil {
            panic(""Error processing file"")
        }

        w := bucket.Object(p.FileName()).NewWriter(c)

        if _, e := io.Copy(w, p); e != nil {
            panic(""Error during chunk upload"")
        } else if e := w.Close(); e != nil {
            panic(""Could not finalize chunk writing"")
        }

    }
}
</code></pre>

<p>Any ideas why?</p>
","5481865","","","","","2020-02-22 17:15:59","Gin keeps returning 204 when uploading file","<go><gin>","2","4","","","","60352263","2253","2253","gin","315","5802757","5802756"
"60474896","1","60480688","","2020-03-01 12:03:30","","0","53","<p>I am trying to set my user context, in the middleware then trying to check if user have permission in other handler functions. But for some reason when I try to access the user from context it is coming back as nils. The middleware code seems to be working, when I pass a valid jwt token, it is showing the user is being set in context in the middleware function. But as soon as I hit getCurrentUser function it says it's nil.</p>

<p>Here is the code:
Middleware</p>

<pre><code>// Middleware wraps the request with auth middleware
func Middleware(path string, sc *cfg.Server, orm *orm.ORM) gin.HandlerFunc {
    logger.Info(""[Auth.Middleware] Applied to path: "", path)
    return gin.HandlerFunc(func(c *gin.Context) {
        t, err := ParseToken(c, sc)
        if err != nil {
            authError(c, err)
        } else {
            if claims, ok := t.Claims.(jwt.MapClaims); ok {
                if claims[""exp""] != nil {
                    issuer := claims[""iss""].(string)
                    userid := claims[""jti""].(string)
                    email := claims[""email""].(string)
                    if claims[""aud""] != nil {
                        audiences := claims[""aud""].(interface{})
                        logger.Warnf(""\n\naudiences: %s\n\n"", audiences)
                    }
                    if claims[""alg""] != nil {
                        algo := claims[""alg""].(string)
                        logger.Warnf(""\n\nalgo: %s\n\n"", algo)
                    }
                    if user, err := orm.FindUserByJWT(email, issuer, userid); err != nil {
                        authError(c, ErrForbidden)
                    } else {
                        if user != nil {
                            c.Request = addToContext(c, consts.ProjectContextKeys.UserCtxKey, user)
                            logger.Debug(""User: "", user.ID)
                        }
                        c.Next()
                    }
                } else {
                    authError(c, ErrMissingExpField)
                }
            } else {
                authError(c, err)
            }
        }
    })
}
</code></pre>

<p>routes</p>

<pre><code>// User routes
func User(sc *cfg.Server, r *gin.Engine, orm *orm.ORM) error {
    // OAuth handlers
    mw := auth.Middleware(sc.VersionedEndpoint(""/user/:id""), sc, orm)
    g := r.Group(sc.VersionedEndpoint(""/user""))
    g.Use(mw)
    g.GET(""/:id"", mw, user.Get(orm))
    g.PUT(""/:id"", mw, user.Update(orm))
    g.POST(""/"", user.Create(orm))

    return nil
}
</code></pre>

<p>handler</p>

<pre><code>func Get(orm *orm.ORM) gin.HandlerFunc {
    return func(ctx *gin.Context) {
        cu := getCurrentUser(ctx)
        if ok, err := cu.HasPermission(consts.Permissions.Create, consts.EntityNames.Users); !ok || err != nil {
            ctx.String(http.StatusUnauthorized, ""BAD"")
        }
    }
}

</code></pre>

<p>addToContext:</p>

<pre><code>func addToContext(c *gin.Context, key consts.ContextKey, value interface{}) *http.Request {
    return c.Request.WithContext(context.WithValue(c.Request.Context(), key, value))
}
</code></pre>

<p>getCurrentUser:</p>

<pre><code>func getCurrentUser(ctx context.Context) *dbm.User {
    cu := ctx.Value(utils.ProjectContextKeys.UserCtxKey).(*dbm.User)
    logger.Debugf(""currentUser: %s - %s"", cu.Email, cu.ID)
    return cu
}
</code></pre>
","4205778","","4205778","","2020-03-01 17:09:23","2020-03-01 23:28:27","Go Gin Setting and Accessing context value from middleware","<rest><go><jwt><handler><gin>","1","2","","","","60474896","2253","2253","gin","315","5802757","5802756"
"60543931","1","","","2020-03-05 11:04:40","","0","15","<p>I am trying to run some unit tests in a Go application that uses Gin.
The unit tests are calling the following function:</p>

<pre><code>func executeTest(t *testing.T, configurer EngineConfigurer) *httptest.ResponseRecorder {
    var router = gin.New()
    recorder := httptest.NewRecorder()
    configurer(router)
    urlTemplate := ""/v1/something""
    router.GET(urlTemplate, SomeHandler)

    req, err := http.NewRequest(""GET"", ""/v1/something"", nil)
    if err != nil {
        t.Fatal(""There was an error preparing the request: "" + err.Error())
    } else {
        router.ServeHTTP(recorder, req)
    }

    return recorder
}
</code></pre>

<p>The EngineConfigurer is a function that gets the router in input and eventually adds some middlewares that I am using to test different use cases. One of them, for example, adds a parameter in the request header.</p>

<p>Is there something wrong with this approach? When I execute these tests in my local build everything works, but when the same tests are executed by our CI, a couple of tests fail because it seems that they find in the header a parameter that was set by a different test.</p>

<p>Because I am creating the router from scratch, I thought that the execution of the tests was independent.</p>

<p>Examples of the Engine configurers:</p>

<pre><code>func(router *gin.Engine) {
    router.Use(func(gc *gin.Context) {
        gc.Request.Header.Del(""Id"")
    })

func(router *gin.Engine) {
    router.Use(func(gc *gin.Context) {
        gc.Request.Header.Set(""Id"", ""000-111"")
    })
</code></pre>
","824846","","824846","","2020-03-06 10:50:59","2020-03-06 10:50:59","Interference between unit tests in an application written with Go and Gin","<go><gin>","0","0","","","","60543931","2253","2253","gin","315","5802757","5802756"
"60639844","1","60640098","","2020-03-11 15:48:47","","-1","71","<p>I am trying to show on html a json array but I need to put a name before the var:</p>

<pre><code>
func main() {
    r := gin.Default()
    r.GET(""/ping"", func(c *gin.Context) {
        var mjson []model.Author
        db, err := sql.Open(""mysql"", ""root:@tcp(localhost)/bibliotecagnommo"")
        if err != nil {
            fmt.Println(err)
        }
        datos, err2 := db.Query(""SELECT * FROM author;"")
        if err2 != nil {
            fmt.Println(err2)
        }
        for datos.Next() {
            var id, nombre, apellido string
            err3 := datos.Scan(&amp;id, &amp;nombre, &amp;apellido)
            if err3 != nil {
                fmt.Println(err3)
            }
            autor := new(model.Author)
            autor.Id = id
            autor.FirstName = nombre
            autor.LastName = apellido

            //autorJsonString := string(autorJson);

            mjson = append(mjson, *autor)
        }
        c.JSON(200, gin.H{
    //This line of code     ""wordToAvoid"":mjson,
        })
    })
    r.Run()

}

</code></pre>

<p>There is a way to avoid putting a word before that?</p>

<p>Because when I print the var on html it shows the word I putted.</p>

<p>Thanks!</p>
","12923772","","","","","2020-03-12 07:07:33","Golang Gin Missing key in map literal when returning value","<go><gin>","1","0","","","","60639844","2253","2253","gin","315","5802757","5802756"
"60667853","1","","","2020-03-13 09:25:20","","1","21","<p>I am trying to exclude a route from my secure group in Gin, in order to be available for non-authenticated users. </p>

<p>So I have a secure group that uses the base route and I would like to expose <code>/api/health</code> so it doesn't uses the secure's <code>authenticateUser()</code> which then redirects to the login page.</p>

<p>I am declaring my routes and group like this: </p>

<pre><code>router.GET(""/api/health"", func(c *gin.Context) {
    c.Status(http.StatusOK)
})

secure := router.Group(""/"")
secure.Use(authenticateUser())
</code></pre>

<p>and this is my <code>authenticateUser</code> function </p>

<pre><code>func authenticateUser() gin.HandlerFunc {
  return func(c *gin.Context) {
    session := sessions.Default(c)

    userId, name, avatar, orgId, orgName, role := session.User()
    if userId == sessions.NoUserId {
        c.Abort()
        c.Redirect(http.StatusFound, ""/login"")
        return
    }

    auth.SetUser(c, userId, name, avatar, orgId, orgName, role)
    c.Next()
  }
}
</code></pre>
","5135382","","","","","2020-03-13 09:25:20","Ignore route from secure group with Gin","<go><gin><gin-gonic>","0","0","","","","60667853","2253","2253","gin","315","5802757","5802756"
"60692855","1","60692935","","2020-03-15 12:25:58","","0","38","<p>Here is my problem, i have a mini gin micro service that need https.</p>

<p>But sometimes , my https certfile is renewed with certbot but i don't know when and my gin micro service is still using the old cert.</p>

<pre><code>func Run() {
    fmt.Println(""begin"")
    r := gin.Default()
    r.Use(cors.Default())
    r.POST(""getLieu/"", getAdr)
    r.GET(""lucky/"", Lucky)

    r.RunTLS(("":8083""),""/etc/letsencrypt/live/toto.fr/fullchain.pem"",""/etc/letsencrypt/live/toto.fr/privkey.pem"") // listen and serve on 0.0.0.0:8080
}
</code></pre>

<p>How can i tell my gin program to check if the cert have changed or not ?</p>
","462794","","","","","2020-03-15 12:35:35","How to manage certfile renew in golang with gin?","<go><gin>","1","1","","","","60692855","2253","2253","gin","315","5802757","5802756"
"60703318","1","60703879","","2020-03-16 09:26:01","","0","25","<p>I Want to fetch all records in database By using NAME but if i am using ALL it is showing 500 internal error but if i Kept One(json) i am getting only one record what is solution to fetch all records by Name?</p>

<pre><code>func (uc UserController) Filter(c *gin.Context) {
    var name = c.Params.ByName(""Name"")
    var json models.User
    err := c.Bind(&amp;json)
    if err != nil {
        log.Fatal(""error"")
        return
    }
    json.Name = name
    fi := bson.D{{""Name"", name}}
    err = uc.session.DB(DB_NAME).C(DB_COLLECTION).Find(fi).All(json)

    if err == nil {
        c.Writer.Header().Set(""Content-Type"", ""application/json"")
        c.JSON(201, &amp;json)
    } else {
        c.JSON(500, gin.H{""result"": ""An error occured""})
    }

}
</code></pre>
","9819641","","2057388","","2020-03-16 10:01:56","2020-03-16 10:03:33","How to fetchall records in mongodb mgo.v2?","<mongodb><go><mgo><gin>","1","0","","","","60703318","2253","2253","gin","315","5802757","5802756"
"60705375","1","60709087","","2020-03-16 11:44:43","","-3","60","<p>This is my URL in Postman: <code>http://localhost:8000/filter?Name=Srinu</code></p>

<p>I am passing query string to fetch records on database based on query.</p>

<p>In my data base having Name, Gender and Age, how should I write the switch statement based on the below code snippet, that I have to get data based on my query.</p>

<pre><code>switch ? {
    case ""Name"":
        fiName := bson.D{{""Name"", name}}
        err = uc.session.DB(DB_NAME).C(DB_COLLECTION).Find(fiName).All(&amp;json1)

        if err == nil {
            c.Writer.Header().Set(""Content-Type"", ""application/json"")
            c.JSON(201, &amp;json1)
        } else {
            c.JSON(500, gin.H{""result"": ""An error occured""})
        }
    case ""Gender"":
        fiGender := bson.D{{""Gender"", gender}}
        err = uc.session.DB(DB_NAME).C(DB_COLLECTION).Find(fiGender).All(&amp;json1)

        if err == nil {
            c.Writer.Header().Set(""Content-Type"", ""application/json"")
            c.JSON(201, &amp;json1)
        } else {
            c.JSON(500, gin.H{""result"": ""An error occured""})
        }
    case ""Age"":
        fiAge := bson.D{{""Age"", age}}
        err = uc.session.DB(DB_NAME).C(DB_COLLECTION).Find(fiAge).All(&amp;json1)

        if err == nil {
            c.Writer.Header().Set(""Content-Type"", ""application/json"")
            c.JSON(201, &amp;json1)
        } else {
            c.JSON(500, gin.H{""result"": ""An error occured""})
        }
    }
</code></pre>
","9819641","","13860","","2020-03-16 12:41:28","2020-03-16 15:55:28","How should I switch based on the URL","<go><gin>","2","0","","","","60705375","2253","2253","gin","315","5802757","5802756"
"60724969","1","","","2020-03-17 15:00:29","","0","17","<p>I'm trying to write an HTTP handler generator with go-gin which gets a struct and generates the handler with it. </p>

<p>Here is part of my code </p>

<pre><code>    // I get these fields from my struct. 
    v := reflect.ValueOf(b)
    path := v.FieldByName(""Path"").String()
    method := v.FieldByName(""Method"").String()
    q := v.FieldByName(""Query"").Interface()

     router.Handle(method, path, func(c *gin.Context) {
        err := c.ShouldBind(&amp;q)
         if err != nil {
            c.Status(http.StatusBadReqest)
            return
        }
</code></pre>

<p>Just to provide more context <code>q</code> underlying type is of type a struct which is defined in the code.</p>

<pre><code>For example:
type InfoQuery struct {
    Language string `form:""lang"" binding:""max=2""`
}
</code></pre>

<p>My problem is that the Bind function doesn't work and doesn't validate the query. Does anybody have a clue that which part of my code causes the problem?</p>
","8337498","","","","","2020-03-17 15:00:29","Write generic handler with go-gin and reflect gin bind doesn't bind the request","<go><gin><reflect>","0","2","","","","60724969","2253","2253","gin","315","5802757","5802756"
"60962581","1","61489548","","2020-04-01 02:05:57","","0","31","<p>So what I'm gonna do is try to open db connection when there's is http request, and close again. I'm using pgx and gin package so here's what I do :</p>

<pre><code>func handleGetUsers(c *gin.Context) {
connectDB()
data, err := allUsers()
if err != nil {
    log.Println(err)
    return
}

results := struct {
    Count int    `json:""count""`
    Data  []User `json:""data""`
}{
    Count: len(data),
    Data:  data,
}

c.JSON(200, results)
defer connectDB()
</code></pre>

<p>}</p>

<p>But if I'm trying to make another same http request, database connection already close. Is there something i can do or my logic was wrong after all</p>
","13068292","","","","","2020-04-28 20:37:26","How to open db connection only when there's request in golang","<go><gin><pgx>","1","0","","","","60962581","2253","2253","gin","315","5802757","5802756"
"60983468","1","60984019","","2020-04-02 02:44:25","","0","29","<p>I use gin gorm mysql build application.</p>

<p>I set topic_id primary_key auto_increment not null in model.go as follow:</p>

<pre><code>type Topic struct {
    gorm.Model
    TopicId    uint64 `gorm:""PRIMARY_KEY;AUTO_INCREMENT;NOT NULL""`
    TopicName  string
    TopicDesc  string
    OwnerId    int
    CreateIP   string
    CreateTime uint64
    UpdateTime uint64
}
</code></pre>

<p>create topic in service.go</p>

<pre><code>type TopicCreateService struct{
    TopicName string `form:""topic_name"" json:""topic_name"" binding:""required,min=1,max=30""`
    TopicDesc string `form:""topic_desc"" json:""topic_desc"" binding:""required,min=1,max=300""`
    OwnerId int `form:""owner_id"" json:""owner_id"" binding:""required,min=1,max=30""`
}

func (service *TopicCreateService) Create(c *gin.Context) serializer.Response{
    topic := model.Topic{
        TopicName:service.TopicName,
        TopicDesc:service.TopicDesc,
        OwnerId:service.OwnerId,
        CreateIP:c.ClientIP(),
        CreateTime:uint64(time.Now().UnixNano()),
        UpdateTime:0,
    }

    if err:=model.DB.Create(&amp;topic).Error;err!=nil{
        return serializer.ParamErr("""", err)
    }
    return serializer.BuildTopicResponse(topic)
}
</code></pre>

<p><a href=""https://i.stack.imgur.com/qgfxj.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/qgfxj.png"" alt=""enter image description here""></a></p>

<p>I want topic_id be my primary_key and not null auto-increment. What`s wrong? </p>
","8487849","","1244127","","2020-04-07 09:05:54","2020-04-07 09:05:54","golang gin gorm insert and set primary_key but primary_key got null","<mysql><go><go-gorm><gin>","1","1","","","","60983468","2253","2253","gin","315","5802757","5802756"
"61091852","1","61092206","","2020-04-08 01:14:52","","0","67","<p>I'm a newbie on Golang, and I'm trying to use <a href=""https://github.com/gin-gonic/gin"" rel=""nofollow noreferrer"">Gin</a> to develop a web server on Ubuntu 16.04.</p>

<p>After executing <code>go get -u github.com/gin-gonic/gin</code>, many folders appear at <code>~/go/pkg/mod/github.com/</code>.</p>

<p>Then I try to make an example:</p>

<pre><code>package main

import ""github.com/gin-gonic/gin""

func main() {
    r := gin.Default()
    r.GET(""/ping"", func(c *gin.Context) {
        c.JSON(200, gin.H{
            ""message"": ""pong"",
        })
    })
    r.Run() // listen and serve on 0.0.0.0:8080 (for windows ""localhost:8080"")
}
</code></pre>

<p>However, <code>go run example.go</code> made the error:</p>

<pre><code>example.go:3:8: cannot find package ""github.com/gin-gonic/gin"" in any of:
        /usr/local/go/src/github.com/gin-gonic/gin (from $GOROOT)
        /home/zyh/go/src/github.com/gin-gonic/gin (from $GOPATH)
</code></pre>

<p>In my system, <code>$GOROOT</code> is <code>/usr/local/go/</code> and <code>$GOPATH</code> is <code>~/go/</code>.</p>

<p>How could I solve this problem?</p>
","3305546","","3305546","","2020-04-08 01:21:01","2020-04-08 01:59:51","How to install Gin with Golang","<linux><go><module><webserver><gin>","2","0","","","","61091852","2253","2253","gin","315","5802757","5802756"
"61114446","1","","","2020-04-09 05:18:22","","0","22","<p>I've two Go templates.</p>

<p><code>top.html</code>:
</p>

<pre><code>&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;{{ .title }}&lt;/title&gt;
    &lt;meta name=""viewport"" content=""width=device-width, initial-scale=1""&gt;
    &lt;meta charset=""UTF-8""&gt;
&lt;/head&gt;
&lt;body&gt;
</code></pre>

<p>and <code>register.html</code>:</p>

<pre><code>{{ template ""top.html"" . }}
    &lt;h1&gt;Register account&lt;/h1&gt;
...
</code></pre>

<p>Currently to set the title I use the function: </p>

<pre><code>r.GET(""/register"", func(c *gin.Context) {
    c.HTML(http.StatusOK, ""register.html"", gin.H{
        ""title"" : ""Register Account""
    })
})
</code></pre>

<p>This is not ideal as I have to set the parameter for every webpage. How can I set the <code>title</code> in <code>top.html</code> from <code>register.html</code>? I'd much rather have something that looks like:  </p>

<pre><code>{{ set .title = ""Register Account"" }}
{{ template ""top.html"" . }}
    &lt;h1&gt;Register account&lt;/h1&gt;
...
</code></pre>

<p>Of course, the above code does not work. Is there anything available to achieve what I want?</p>
","13265767","","","","","2020-04-09 07:41:54","How to set a variable for an external HTML template in Go?","<go><go-templates><gin><go-html-template>","1","0","","","","61114446","2253","2253","gin","315","5802757","5802756"
"61199408","1","61199761","","2020-04-14 01:35:04","","1","30","<p>The documentation for net/http/pprof explains how to create a 30-second CPU profiling session and analyze the outcome.</p>

<p>This allows me to initiate one or more HTTP requests and see the resulting CPU utilization of my web application.</p>

<p>I see a route for generating a heap profile, but since the profiling doesn't occur over something like a 30-second window, I'm unsure conceptually how this interacts with my web application. </p>

<p>How can I ""coordinate"" the heap profiler so that it corresponds with one or more HTTP requests?</p>
","10779082","","","","","2020-04-14 13:46:37","How to use pprof to see memory usage by web server after HTTP requests","<go><profiling><gin><pprof><heap-profiling>","1","1","","","","61199408","2253","2253","gin","315","5802757","5802756"
"61260305","1","","","2020-04-16 21:27:41","","0","30","<p>I am learning Go and go-gin. I am trying to get a simple todo app working from a tutorial at <a href=""https://medium.com/@ekosuprastyo15/gin-gonic-mysql-golang-example-9185f202e968"" rel=""nofollow noreferrer"">Gin Go TODO tutoral</a>
I followed the tut step by step, mod init at root directory, installed gin, bur when I executed</p>

<pre><code>  go build main.go
</code></pre>

<p>I received the following error.</p>

<pre><code>  main.go:3:2: package goapi/mappings is not in GOROOT 
  (/usr/local/go/src/goapi/mappings)
</code></pre>

<p>Here is main.go </p>

<pre><code>    package main
    import (
        ""goapi/mappings""
        _ ""github.com/go-sql-driver/mysql""
    )
    func main() {
        mappings.CreateUrlMappings()
        // Listen and server on 0.0.0.0:8080
        mappings.Router.Run("":8080"")
    }
</code></pre>
","9367004","","","","","2020-04-17 16:51:35","why doesn't my example gin app throw an error that goapi/mappings not found","<go><gin>","1","0","","","","61260305","2253","2253","gin","315","5802757","5802756"
"61364993","1","","","2020-04-22 12:21:28","","0","44","<p>I have a Golang application that basically has Kafka consumers as its starting point. I fetch the list of topics to listen to, from the MongoDB at run time. However, each time I have to add a new topic to listen to, after adding to the Mongo, I have to restart the whole Golang application. The consumer is in the main file itself. I am using Confluent as a client. Is there a way to add more topics to consume from without restarting the application?</p>
","7361303","","7361303","","2020-04-22 12:53:46","2020-04-22 13:51:32","Adding Kafka topics dynamically to consume from, without restarting my GoLang application","<go><apache-kafka><gin>","2","2","","","","61364993","2253","2253","gin","315","5802757","5802756"
"61403540","1","","","2020-04-24 07:46:26","","-1","13","<p>I want to get the gin framework data from github but I am having an error, can you help me resolve the error
<a href=""https://i.stack.imgur.com/RNWLh.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/RNWLh.png"" alt=""enter image description here""></a></p>
","13396899","","9990788","","2020-04-24 16:45:36","2020-04-24 16:45:36","why is git having problems when installing gin framework","<git><go><gin>","0","0","","2020-04-24 12:31:23","","61403540","2253","2253","gin","315","5802757","5802756"
"61437536","1","61437612","","2020-04-26 08:01:22","","1","39","<p>i want to get user data after i do query using gorm</p>

<pre><code>item := []models.User{}

if config.DB.First(&amp;item, ""email = ?"", email).RecordNotFound() || len(item) == 0 {
    c.JSON(500, gin.H{
        ""status"":  ""error"",
        ""message"": ""record not found""})
    c.Abort()
    return
}

c.JSON(200, gin.H{
    ""status"": ""success"",
    ""data"":   item,
})
</code></pre>

<p>and here is my models</p>

<pre><code>type User struct {
gorm.Model
Stores     []Store // to show that customer can have many stores
UserName   string
FullName   string
Email      string `gorm:""unique_index""`
Password   string
SocialID   string
Provider   string
Avatar     string
Role       bool `gorm:""default:0""`
HaveStore  bool `gorm:""default:0""`
isActivate bool `gorm:""default:0""`
}
</code></pre>

<p>i just want to get the UserName after do query from gorm, how to get that? i'm using <code>item.Username</code>but, the error show that <code>item.UserName undefined (type []models.User has no field or method UserName)</code></p>

<p>Thank you</p>
","6596309","","","","","2020-04-26 08:23:26","Get Selected value from Golang Gorm Query","<mysql><go><go-gorm><gin>","2","1","","","","61437536","2253","2253","gin","315","5802757","5802756"